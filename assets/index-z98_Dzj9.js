(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function r0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Eh={exports:{}},Hr={};var Ev;function dT(){if(Ev)return Hr;Ev=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var d in l)d!=="key"&&(u[d]=l[d])}else u=l;return l=u.ref,{$$typeof:s,type:a,key:f,ref:l!==void 0?l:null,props:u}}return Hr.Fragment=e,Hr.jsx=i,Hr.jsxs=i,Hr}var Sv;function mT(){return Sv||(Sv=1,Eh.exports=dT()),Eh.exports}var R=mT(),Sh={exports:{}},te={};var Cv;function pT(){if(Cv)return te;Cv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),b=Symbol.iterator;function T(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,H={};function j(S,z,F){this.props=S,this.context=z,this.refs=H,this.updater=F||x}j.prototype.isReactComponent={},j.prototype.setState=function(S,z){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,z,"setState")},j.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function B(){}B.prototype=j.prototype;function q(S,z,F){this.props=S,this.context=z,this.refs=H,this.updater=F||x}var ne=q.prototype=new B;ne.constructor=q,I(ne,j.prototype),ne.isPureReactComponent=!0;var le=Array.isArray;function ve(){}var G={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function Ie(S,z,F){var X=F.ref;return{$$typeof:s,type:S,key:z,ref:X!==void 0?X:null,props:F}}function je(S,z){return Ie(S.type,z,S.props)}function nt(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function it(S){var z={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(F){return z[F]})}var ct=/\/+/g;function me(S,z){return typeof S=="object"&&S!==null&&S.key!=null?it(""+S.key):z.toString(36)}function Se(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ve,ve):(S.status="pending",S.then(function(z){S.status==="pending"&&(S.status="fulfilled",S.value=z)},function(z){S.status==="pending"&&(S.status="rejected",S.reason=z)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function M(S,z,F,X,ie){var fe=typeof S;(fe==="undefined"||fe==="boolean")&&(S=null);var Ae=!1;if(S===null)Ae=!0;else switch(fe){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(S.$$typeof){case s:case e:Ae=!0;break;case v:return Ae=S._init,M(Ae(S._payload),z,F,X,ie)}}if(Ae)return ie=ie(S),Ae=X===""?"."+me(S,0):X,le(ie)?(F="",Ae!=null&&(F=Ae.replace(ct,"$&/")+"/"),M(ie,z,F,"",function(Fa){return Fa})):ie!=null&&(nt(ie)&&(ie=je(ie,F+(ie.key==null||S&&S.key===ie.key?"":(""+ie.key).replace(ct,"$&/")+"/")+Ae)),z.push(ie)),1;Ae=0;var Ct=X===""?".":X+":";if(le(S))for(var Je=0;Je<S.length;Je++)X=S[Je],fe=Ct+me(X,Je),Ae+=M(X,z,F,fe,ie);else if(Je=T(S),typeof Je=="function")for(S=Je.call(S),Je=0;!(X=S.next()).done;)X=X.value,fe=Ct+me(X,Je++),Ae+=M(X,z,F,fe,ie);else if(fe==="object"){if(typeof S.then=="function")return M(Se(S),z,F,X,ie);throw z=String(S),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function V(S,z,F){if(S==null)return S;var X=[],ie=0;return M(S,X,"","",function(fe){return z.call(F,fe,ie++)}),X}function W(S){if(S._status===-1){var z=S._result;z=z(),z.then(function(F){(S._status===0||S._status===-1)&&(S._status=1,S._result=F)},function(F){(S._status===0||S._status===-1)&&(S._status=2,S._result=F)}),S._status===-1&&(S._status=0,S._result=z)}if(S._status===1)return S._result.default;throw S._result}var pe=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Ce={map:V,forEach:function(S,z,F){V(S,function(){z.apply(this,arguments)},F)},count:function(S){var z=0;return V(S,function(){z++}),z},toArray:function(S){return V(S,function(z){return z})||[]},only:function(S){if(!nt(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return te.Activity=_,te.Children=Ce,te.Component=j,te.Fragment=i,te.Profiler=l,te.PureComponent=q,te.StrictMode=a,te.Suspense=p,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,te.__COMPILER_RUNTIME={__proto__:null,c:function(S){return G.H.useMemoCache(S)}},te.cache=function(S){return function(){return S.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(S,z,F){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var X=I({},S.props),ie=S.key;if(z!=null)for(fe in z.key!==void 0&&(ie=""+z.key),z)!re.call(z,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&z.ref===void 0||(X[fe]=z[fe]);var fe=arguments.length-2;if(fe===1)X.children=F;else if(1<fe){for(var Ae=Array(fe),Ct=0;Ct<fe;Ct++)Ae[Ct]=arguments[Ct+2];X.children=Ae}return Ie(S.type,ie,X)},te.createContext=function(S){return S={$$typeof:f,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},te.createElement=function(S,z,F){var X,ie={},fe=null;if(z!=null)for(X in z.key!==void 0&&(fe=""+z.key),z)re.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ie[X]=z[X]);var Ae=arguments.length-2;if(Ae===1)ie.children=F;else if(1<Ae){for(var Ct=Array(Ae),Je=0;Je<Ae;Je++)Ct[Je]=arguments[Je+2];ie.children=Ct}if(S&&S.defaultProps)for(X in Ae=S.defaultProps,Ae)ie[X]===void 0&&(ie[X]=Ae[X]);return Ie(S,fe,ie)},te.createRef=function(){return{current:null}},te.forwardRef=function(S){return{$$typeof:d,render:S}},te.isValidElement=nt,te.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:W}},te.memo=function(S,z){return{$$typeof:m,type:S,compare:z===void 0?null:z}},te.startTransition=function(S){var z=G.T,F={};G.T=F;try{var X=S(),ie=G.S;ie!==null&&ie(F,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ve,pe)}catch(fe){pe(fe)}finally{z!==null&&F.types!==null&&(z.types=F.types),G.T=z}},te.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},te.use=function(S){return G.H.use(S)},te.useActionState=function(S,z,F){return G.H.useActionState(S,z,F)},te.useCallback=function(S,z){return G.H.useCallback(S,z)},te.useContext=function(S){return G.H.useContext(S)},te.useDebugValue=function(){},te.useDeferredValue=function(S,z){return G.H.useDeferredValue(S,z)},te.useEffect=function(S,z){return G.H.useEffect(S,z)},te.useEffectEvent=function(S){return G.H.useEffectEvent(S)},te.useId=function(){return G.H.useId()},te.useImperativeHandle=function(S,z,F){return G.H.useImperativeHandle(S,z,F)},te.useInsertionEffect=function(S,z){return G.H.useInsertionEffect(S,z)},te.useLayoutEffect=function(S,z){return G.H.useLayoutEffect(S,z)},te.useMemo=function(S,z){return G.H.useMemo(S,z)},te.useOptimistic=function(S,z){return G.H.useOptimistic(S,z)},te.useReducer=function(S,z,F){return G.H.useReducer(S,z,F)},te.useRef=function(S){return G.H.useRef(S)},te.useState=function(S){return G.H.useState(S)},te.useSyncExternalStore=function(S,z,F){return G.H.useSyncExternalStore(S,z,F)},te.useTransition=function(){return G.H.useTransition()},te.version="19.2.4",te}var Tv;function Cd(){return Tv||(Tv=1,Sh.exports=pT()),Sh.exports}var D=Cd();const Yh=r0(D);var Ch={exports:{}},Br={},Th={exports:{}},wh={};var wv;function gT(){return wv||(wv=1,(function(s){function e(M,V){var W=M.length;M.push(V);e:for(;0<W;){var pe=W-1>>>1,Ce=M[pe];if(0<l(Ce,V))M[pe]=V,M[W]=Ce,W=pe;else break e}}function i(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var V=M[0],W=M.pop();if(W!==V){M[0]=W;e:for(var pe=0,Ce=M.length,S=Ce>>>1;pe<S;){var z=2*(pe+1)-1,F=M[z],X=z+1,ie=M[X];if(0>l(F,W))X<Ce&&0>l(ie,F)?(M[pe]=ie,M[X]=W,pe=X):(M[pe]=F,M[z]=W,pe=z);else if(X<Ce&&0>l(ie,W))M[pe]=ie,M[X]=W,pe=X;else break e}}return V}function l(M,V){var W=M.sortIndex-V.sortIndex;return W!==0?W:M.id-V.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();s.unstable_now=function(){return f.now()-d}}var p=[],m=[],v=1,_=null,b=3,T=!1,x=!1,I=!1,H=!1,j=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ne(M){for(var V=i(m);V!==null;){if(V.callback===null)a(m);else if(V.startTime<=M)a(m),V.sortIndex=V.expirationTime,e(p,V);else break;V=i(m)}}function le(M){if(I=!1,ne(M),!x)if(i(p)!==null)x=!0,ve||(ve=!0,it());else{var V=i(m);V!==null&&Se(le,V.startTime-M)}}var ve=!1,G=-1,re=5,Ie=-1;function je(){return H?!0:!(s.unstable_now()-Ie<re)}function nt(){if(H=!1,ve){var M=s.unstable_now();Ie=M;var V=!0;try{e:{x=!1,I&&(I=!1,B(G),G=-1),T=!0;var W=b;try{t:{for(ne(M),_=i(p);_!==null&&!(_.expirationTime>M&&je());){var pe=_.callback;if(typeof pe=="function"){_.callback=null,b=_.priorityLevel;var Ce=pe(_.expirationTime<=M);if(M=s.unstable_now(),typeof Ce=="function"){_.callback=Ce,ne(M),V=!0;break t}_===i(p)&&a(p),ne(M)}else a(p);_=i(p)}if(_!==null)V=!0;else{var S=i(m);S!==null&&Se(le,S.startTime-M),V=!1}}break e}finally{_=null,b=W,T=!1}V=void 0}}finally{V?it():ve=!1}}}var it;if(typeof q=="function")it=function(){q(nt)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,me=ct.port2;ct.port1.onmessage=nt,it=function(){me.postMessage(null)}}else it=function(){j(nt,0)};function Se(M,V){G=j(function(){M(s.unstable_now())},V)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(M){M.callback=null},s.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<M?Math.floor(1e3/M):5},s.unstable_getCurrentPriorityLevel=function(){return b},s.unstable_next=function(M){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var W=b;b=V;try{return M()}finally{b=W}},s.unstable_requestPaint=function(){H=!0},s.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=b;b=M;try{return V()}finally{b=W}},s.unstable_scheduleCallback=function(M,V,W){var pe=s.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?pe+W:pe):W=pe,M){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=W+Ce,M={id:v++,callback:V,priorityLevel:M,startTime:W,expirationTime:Ce,sortIndex:-1},W>pe?(M.sortIndex=W,e(m,M),i(p)===null&&M===i(m)&&(I?(B(G),G=-1):I=!0,Se(le,W-pe))):(M.sortIndex=Ce,e(p,M),x||T||(x=!0,ve||(ve=!0,it()))),M},s.unstable_shouldYield=je,s.unstable_wrapCallback=function(M){var V=b;return function(){var W=b;b=V;try{return M.apply(this,arguments)}finally{b=W}}}})(wh)),wh}var xv;function _T(){return xv||(xv=1,Th.exports=gT()),Th.exports}var xh={exports:{}},St={};var Rv;function vT(){if(Rv)return St;Rv=1;var s=Cd();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:p,containerInfo:m,implementation:v}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,St.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return u(p,m,null,v)},St.flushSync=function(p){var m=f.T,v=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=m,a.p=v,a.d.f()}},St.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},St.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},St.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,T=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:T}):v==="script"&&a.d.X(p,{crossOrigin:_,integrity:b,fetchPriority:T,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},St.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=d(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},St.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,_=d(v,m.crossOrigin);a.d.L(p,v,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},St.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=d(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},St.requestFormReset=function(p){a.d.r(p)},St.unstable_batchedUpdates=function(p,m){return p(m)},St.useFormState=function(p,m,v){return f.H.useFormState(p,m,v)},St.useFormStatus=function(){return f.H.useHostTransitionStatus()},St.version="19.2.4",St}var Av;function yT(){if(Av)return xh.exports;Av=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xh.exports=vT(),xh.exports}var Nv;function bT(){if(Nv)return Br;Nv=1;var s=_T(),e=Cd(),i=yT();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function m(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,o=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return p(c),t;if(h===o)return p(c),n;h=h.sibling}throw Error(a(188))}if(r.return!==o.return)r=c,o=h;else{for(var g=!1,y=c.child;y;){if(y===r){g=!0,r=c,o=h;break}if(y===o){g=!0,o=c,r=h;break}y=y.sibling}if(!g){for(y=h.child;y;){if(y===r){g=!0,r=h,o=c;break}if(y===o){g=!0,o=h,r=c;break}y=y.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Ie=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function it(t){return t===null||typeof t!="object"?null:(t=nt&&t[nt]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Symbol.for("react.client.reference");function me(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ct?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case I:return"Fragment";case j:return"Profiler";case H:return"StrictMode";case le:return"Suspense";case ve:return"SuspenseList";case Ie:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case q:return t.displayName||"Context";case B:return(t._context.displayName||"Context")+".Consumer";case ne:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return n=t.displayName||null,n!==null?n:me(t.type)||"Memo";case re:n=t._payload,t=t._init;try{return me(t(n))}catch{}}return null}var Se=Array.isArray,M=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},pe=[],Ce=-1;function S(t){return{current:t}}function z(t){0>Ce||(t.current=pe[Ce],pe[Ce]=null,Ce--)}function F(t,n){Ce++,pe[Ce]=t.current,t.current=n}var X=S(null),ie=S(null),fe=S(null),Ae=S(null);function Ct(t,n){switch(F(fe,n),F(ie,t),F(X,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?G_(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=G_(n),t=Y_(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}z(X),F(X,t)}function Je(){z(X),z(ie),z(fe)}function Fa(t){t.memoizedState!==null&&F(Ae,t);var n=X.current,r=Y_(n,t.type);n!==r&&(F(ie,t),F(X,r))}function wl(t){ie.current===t&&(z(X),z(ie)),Ae.current===t&&(z(Ae),kr._currentValue=W)}var nc,bm;function Qi(t){if(nc===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);nc=n&&n[1]||"",bm=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nc+t+bm}var ic=!1;function sc(t,n){if(!t||ic)return"";ic=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var P=function(){throw Error()};if(Object.defineProperty(P.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(P,[])}catch(L){var O=L}Reflect.construct(t,[],P)}else{try{P.call()}catch(L){O=L}t.call(P.prototype)}}else{try{throw Error()}catch(L){O=L}(P=t())&&typeof P.catch=="function"&&P.catch(function(){})}}catch(L){if(L&&O&&typeof L.stack=="string")return[L.stack,O.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),g=h[0],y=h[1];if(g&&y){var E=g.split(`
`),N=y.split(`
`);for(c=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;c<N.length&&!N[c].includes("DetermineComponentFrameRoot");)c++;if(o===E.length||c===N.length)for(o=E.length-1,c=N.length-1;1<=o&&0<=c&&E[o]!==N[c];)c--;for(;1<=o&&0<=c;o--,c--)if(E[o]!==N[c]){if(o!==1||c!==1)do if(o--,c--,0>c||E[o]!==N[c]){var k=`
`+E[o].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=o&&0<=c);break}}}finally{ic=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?Qi(r):""}function GE(t,n){switch(t.tag){case 26:case 27:case 5:return Qi(t.type);case 16:return Qi("Lazy");case 13:return t.child!==n&&n!==null?Qi("Suspense Fallback"):Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return sc(t.type,!1);case 11:return sc(t.type.render,!1);case 1:return sc(t.type,!0);case 31:return Qi("Activity");default:return""}}function Em(t){try{var n="",r=null;do n+=GE(t,r),r=t,t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ac=Object.prototype.hasOwnProperty,rc=s.unstable_scheduleCallback,lc=s.unstable_cancelCallback,YE=s.unstable_shouldYield,FE=s.unstable_requestPaint,Pt=s.unstable_now,WE=s.unstable_getCurrentPriorityLevel,Sm=s.unstable_ImmediatePriority,Cm=s.unstable_UserBlockingPriority,xl=s.unstable_NormalPriority,XE=s.unstable_LowPriority,Tm=s.unstable_IdlePriority,QE=s.log,KE=s.unstable_setDisableYieldValue,Wa=null,Ht=null;function si(t){if(typeof QE=="function"&&KE(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Wa,t)}catch{}}var Bt=Math.clz32?Math.clz32:JE,$E=Math.log,ZE=Math.LN2;function JE(t){return t>>>=0,t===0?32:31-($E(t)/ZE|0)|0}var Rl=256,Al=262144,Nl=4194304;function Ki(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ol(t,n,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var y=o&134217727;return y!==0?(o=y&~h,o!==0?c=Ki(o):(g&=y,g!==0?c=Ki(g):r||(r=y&~t,r!==0&&(c=Ki(r))))):(y=o&~h,y!==0?c=Ki(y):g!==0?c=Ki(g):r||(r=o&~t,r!==0&&(c=Ki(r)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,r=n&-n,h>=r||h===32&&(r&4194048)!==0)?n:c}function Xa(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function eS(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wm(){var t=Nl;return Nl<<=1,(Nl&62914560)===0&&(Nl=4194304),t}function oc(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function Qa(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function tS(t,n,r,o,c,h){var g=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var y=t.entanglements,E=t.expirationTimes,N=t.hiddenUpdates;for(r=g&~r;0<r;){var k=31-Bt(r),P=1<<k;y[k]=0,E[k]=-1;var O=N[k];if(O!==null)for(N[k]=null,k=0;k<O.length;k++){var L=O[k];L!==null&&(L.lane&=-536870913)}r&=~P}o!==0&&xm(t,o,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function xm(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-Bt(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Rm(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var o=31-Bt(r),c=1<<o;c&n|t[o]&n&&(t[o]|=n),r&=~c}}function Am(t,n){var r=n&-n;return r=(r&42)!==0?1:uc(r),(r&(t.suspendedLanes|n))!==0?0:r}function uc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nm(){var t=V.p;return t!==0?t:(t=window.event,t===void 0?32:mv(t.type))}function Om(t,n){var r=V.p;try{return V.p=t,n()}finally{V.p=r}}var ai=Math.random().toString(36).slice(2),_t="__reactFiber$"+ai,At="__reactProps$"+ai,Os="__reactContainer$"+ai,fc="__reactEvents$"+ai,nS="__reactListeners$"+ai,iS="__reactHandles$"+ai,Dm="__reactResources$"+ai,Ka="__reactMarker$"+ai;function hc(t){delete t[_t],delete t[At],delete t[fc],delete t[nS],delete t[iS]}function Ds(t){var n=t[_t];if(n)return n;for(var r=t.parentNode;r;){if(n=r[Os]||r[_t]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Z_(t);t!==null;){if(r=t[_t])return r;t=Z_(t)}return n}t=r,r=t.parentNode}return null}function Ms(t){if(t=t[_t]||t[Os]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function $a(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Is(t){var n=t[Dm];return n||(n=t[Dm]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ft(t){t[Ka]=!0}var Mm=new Set,Im={};function $i(t,n){Ls(t,n),Ls(t+"Capture",n)}function Ls(t,n){for(Im[t]=n,t=0;t<n.length;t++)Mm.add(n[t])}var sS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lm={},km={};function aS(t){return ac.call(km,t)?!0:ac.call(Lm,t)?!1:sS.test(t)?km[t]=!0:(Lm[t]=!0,!1)}function Dl(t,n,r){if(aS(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ml(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function An(t,n,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+o)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Um(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function rS(t,n,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,h=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){r=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function dc(t){if(!t._valueTracker){var n=Um(t)?"checked":"value";t._valueTracker=rS(t,n,""+t[n])}}function zm(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return t&&(o=Um(t)?t.checked?"true":"false":t.value),t=o,t!==r?(n.setValue(t),!0):!1}function Il(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lS=/[\n"\\]/g;function Kt(t){return t.replace(lS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mc(t,n,r,o,c,h,g,y){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Qt(n)):t.value!==""+Qt(n)&&(t.value=""+Qt(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?pc(t,g,Qt(n)):r!=null?pc(t,g,Qt(r)):o!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+Qt(y):t.removeAttribute("name")}function Pm(t,n,r,o,c,h,g,y){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){dc(t);return}r=r!=null?""+Qt(r):"",n=n!=null?""+Qt(n):r,y||n===t.value||(t.value=n),t.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=y?t.checked:!!o,t.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),dc(t)}function pc(t,n,r){n==="number"&&Il(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ks(t,n,r,o){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Qt(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,o&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Hm(t,n,r){if(n!=null&&(n=""+Qt(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Qt(r):""}function Bm(t,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Se(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Qt(n),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),dc(t)}function Us(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var oS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jm(t,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,r):typeof r!="number"||r===0||oS.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Vm(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&jm(t,c,o)}else for(var h in n)n.hasOwnProperty(h)&&jm(t,h,n[h])}function gc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ll(t){return cS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Nn(){}var _c=null;function vc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zs=null,Ps=null;function qm(t){var n=Ms(t);if(n&&(t=n.stateNode)){var r=t[At]||null;e:switch(t=n.stateNode,n.type){case"input":if(mc(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Kt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==t&&o.form===t.form){var c=o[At]||null;if(!c)throw Error(a(90));mc(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===t.form&&zm(o)}break e;case"textarea":Hm(t,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ks(t,!!r.multiple,n,!1)}}}var yc=!1;function Gm(t,n,r){if(yc)return t(n,r);yc=!0;try{var o=t(n);return o}finally{if(yc=!1,(zs!==null||Ps!==null)&&(So(),zs&&(n=zs,t=Ps,Ps=zs=null,qm(n),t)))for(n=0;n<t.length;n++)qm(t[n])}}function Za(t,n){var r=t.stateNode;if(r===null)return null;var o=r[At]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=!1;if(On)try{var Ja={};Object.defineProperty(Ja,"passive",{get:function(){bc=!0}}),window.addEventListener("test",Ja,Ja),window.removeEventListener("test",Ja,Ja)}catch{bc=!1}var ri=null,Ec=null,kl=null;function Ym(){if(kl)return kl;var t,n=Ec,r=n.length,o,c="value"in ri?ri.value:ri.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var g=r-t;for(o=1;o<=g&&n[r-o]===c[h-o];o++);return kl=c.slice(t,1<o?1-o:void 0)}function Ul(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function zl(){return!0}function Fm(){return!1}function Nt(t){function n(r,o,c,h,g){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(r=t[y],this[y]=r?r(h):h[y]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?zl:Fm,this.isPropagationStopped=Fm,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=Nt(Zi),er=_({},Zi,{view:0,detail:0}),fS=Nt(er),Sc,Cc,tr,Hl=_({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tr&&(tr&&t.type==="mousemove"?(Sc=t.screenX-tr.screenX,Cc=t.screenY-tr.screenY):Cc=Sc=0,tr=t),Sc)},movementY:function(t){return"movementY"in t?t.movementY:Cc}}),Wm=Nt(Hl),hS=_({},Hl,{dataTransfer:0}),dS=Nt(hS),mS=_({},er,{relatedTarget:0}),Tc=Nt(mS),pS=_({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),gS=Nt(pS),_S=_({},Zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vS=Nt(_S),yS=_({},Zi,{data:0}),Xm=Nt(yS),bS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ES={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CS(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=SS[t])?!!n[t]:!1}function wc(){return CS}var TS=_({},er,{key:function(t){if(t.key){var n=bS[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ul(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ES[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wc,charCode:function(t){return t.type==="keypress"?Ul(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ul(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wS=Nt(TS),xS=_({},Hl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=Nt(xS),RS=_({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wc}),AS=Nt(RS),NS=_({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),OS=Nt(NS),DS=_({},Hl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),MS=Nt(DS),IS=_({},Zi,{newState:0,oldState:0}),LS=Nt(IS),kS=[9,13,27,32],xc=On&&"CompositionEvent"in window,nr=null;On&&"documentMode"in document&&(nr=document.documentMode);var US=On&&"TextEvent"in window&&!nr,Km=On&&(!xc||nr&&8<nr&&11>=nr),$m=" ",Zm=!1;function Jm(t,n){switch(t){case"keyup":return kS.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ep(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hs=!1;function zS(t,n){switch(t){case"compositionend":return ep(n);case"keypress":return n.which!==32?null:(Zm=!0,$m);case"textInput":return t=n.data,t===$m&&Zm?null:t;default:return null}}function PS(t,n){if(Hs)return t==="compositionend"||!xc&&Jm(t,n)?(t=Ym(),kl=Ec=ri=null,Hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Km&&n.locale!=="ko"?null:n.data;default:return null}}var HS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!HS[t.type]:n==="textarea"}function np(t,n,r,o){zs?Ps?Ps.push(o):Ps=[o]:zs=o,n=No(n,"onChange"),0<n.length&&(r=new Pl("onChange","change",null,r,o),t.push({event:r,listeners:n}))}var ir=null,sr=null;function BS(t){P_(t,0)}function Bl(t){var n=$a(t);if(zm(n))return t}function ip(t,n){if(t==="change")return n}var sp=!1;if(On){var Rc;if(On){var Ac="oninput"in document;if(!Ac){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),Ac=typeof ap.oninput=="function"}Rc=Ac}else Rc=!1;sp=Rc&&(!document.documentMode||9<document.documentMode)}function rp(){ir&&(ir.detachEvent("onpropertychange",lp),sr=ir=null)}function lp(t){if(t.propertyName==="value"&&Bl(sr)){var n=[];np(n,sr,t,vc(t)),Gm(BS,n)}}function jS(t,n,r){t==="focusin"?(rp(),ir=n,sr=r,ir.attachEvent("onpropertychange",lp)):t==="focusout"&&rp()}function VS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bl(sr)}function qS(t,n){if(t==="click")return Bl(n)}function GS(t,n){if(t==="input"||t==="change")return Bl(n)}function YS(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var jt=typeof Object.is=="function"?Object.is:YS;function ar(t,n){if(jt(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!ac.call(n,c)||!jt(t[c],n[c]))return!1}return!0}function op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function up(t,n){var r=op(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=n&&o>=n)return{node:r,offset:n-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=op(r)}}function cp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?cp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function fp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Il(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Il(t.document)}return n}function Nc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var FS=On&&"documentMode"in document&&11>=document.documentMode,Bs=null,Oc=null,rr=null,Dc=!1;function hp(t,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dc||Bs==null||Bs!==Il(o)||(o=Bs,"selectionStart"in o&&Nc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),rr&&ar(rr,o)||(rr=o,o=No(Oc,"onSelect"),0<o.length&&(n=new Pl("onSelect","select",null,n,r),t.push({event:n,listeners:o}),n.target=Bs)))}function Ji(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var js={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionrun:Ji("Transition","TransitionRun"),transitionstart:Ji("Transition","TransitionStart"),transitioncancel:Ji("Transition","TransitionCancel"),transitionend:Ji("Transition","TransitionEnd")},Mc={},dp={};On&&(dp=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function es(t){if(Mc[t])return Mc[t];if(!js[t])return t;var n=js[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in dp)return Mc[t]=n[r];return t}var mp=es("animationend"),pp=es("animationiteration"),gp=es("animationstart"),WS=es("transitionrun"),XS=es("transitionstart"),QS=es("transitioncancel"),_p=es("transitionend"),vp=new Map,Ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ic.push("scrollEnd");function un(t,n){vp.set(t,n),$i(n,[t])}var jl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},$t=[],Vs=0,Lc=0;function Vl(){for(var t=Vs,n=Lc=Vs=0;n<t;){var r=$t[n];$t[n++]=null;var o=$t[n];$t[n++]=null;var c=$t[n];$t[n++]=null;var h=$t[n];if($t[n++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}h!==0&&yp(r,c,h)}}function ql(t,n,r,o){$t[Vs++]=t,$t[Vs++]=n,$t[Vs++]=r,$t[Vs++]=o,Lc|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function kc(t,n,r,o){return ql(t,n,r,o),Gl(t)}function ts(t,n){return ql(t,null,null,n),Gl(t)}function yp(t,n,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,o=h.alternate,o!==null&&(o.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Bt(r),t=h.hiddenUpdates,o=t[c],o===null?t[c]=[n]:o.push(n),n.lane=r|536870912),h):null}function Gl(t){if(50<Ar)throw Ar=0,Yf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qs={};function KS(t,n,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vt(t,n,r,o){return new KS(t,n,r,o)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dn(t,n){var r=t.alternate;return r===null?(r=Vt(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function bp(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yl(t,n,r,o,c,h){var g=0;if(o=t,typeof t=="function")Uc(t)&&(g=1);else if(typeof t=="string")g=tT(t,r,X.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ie:return t=Vt(31,r,n,c),t.elementType=Ie,t.lanes=h,t;case I:return ns(r.children,c,h,n);case H:g=8,c|=24;break;case j:return t=Vt(12,r,n,c|2),t.elementType=j,t.lanes=h,t;case le:return t=Vt(13,r,n,c),t.elementType=le,t.lanes=h,t;case ve:return t=Vt(19,r,n,c),t.elementType=ve,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case q:g=10;break e;case B:g=9;break e;case ne:g=11;break e;case G:g=14;break e;case re:g=16,o=null;break e}g=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return n=Vt(g,r,n,c),n.elementType=t,n.type=o,n.lanes=h,n}function ns(t,n,r,o){return t=Vt(7,t,o,n),t.lanes=r,t}function zc(t,n,r){return t=Vt(6,t,null,n),t.lanes=r,t}function Ep(t){var n=Vt(18,null,null,0);return n.stateNode=t,n}function Pc(t,n,r){return n=Vt(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Sp=new WeakMap;function Zt(t,n){if(typeof t=="object"&&t!==null){var r=Sp.get(t);return r!==void 0?r:(n={value:t,source:n,stack:Em(n)},Sp.set(t,n),n)}return{value:t,source:n,stack:Em(n)}}var Gs=[],Ys=0,Fl=null,lr=0,Jt=[],en=0,li=null,yn=1,bn="";function Mn(t,n){Gs[Ys++]=lr,Gs[Ys++]=Fl,Fl=t,lr=n}function Cp(t,n,r){Jt[en++]=yn,Jt[en++]=bn,Jt[en++]=li,li=t;var o=yn;t=bn;var c=32-Bt(o)-1;o&=~(1<<c),r+=1;var h=32-Bt(n)+c;if(30<h){var g=c-c%5;h=(o&(1<<g)-1).toString(32),o>>=g,c-=g,yn=1<<32-Bt(n)+c|r<<c|o,bn=h+t}else yn=1<<h|r<<c|o,bn=t}function Hc(t){t.return!==null&&(Mn(t,1),Cp(t,1,0))}function Bc(t){for(;t===Fl;)Fl=Gs[--Ys],Gs[Ys]=null,lr=Gs[--Ys],Gs[Ys]=null;for(;t===li;)li=Jt[--en],Jt[en]=null,bn=Jt[--en],Jt[en]=null,yn=Jt[--en],Jt[en]=null}function Tp(t,n){Jt[en++]=yn,Jt[en++]=bn,Jt[en++]=li,yn=n.id,bn=n.overflow,li=t}var vt=null,Ve=null,ye=!1,oi=null,tn=!1,jc=Error(a(519));function ui(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw or(Zt(n,t)),jc}function wp(t){var n=t.stateNode,r=t.type,o=t.memoizedProps;switch(n[_t]=t,n[At]=o,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(r=0;r<Or.length;r++)de(Or[r],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":de("invalid",n),Pm(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":de("invalid",n);break;case"textarea":de("invalid",n),Bm(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||V_(n.textContent,r)?(o.popover!=null&&(de("beforetoggle",n),de("toggle",n)),o.onScroll!=null&&de("scroll",n),o.onScrollEnd!=null&&de("scrollend",n),o.onClick!=null&&(n.onclick=Nn),n=!0):n=!1,n||ui(t,!0)}function xp(t){for(vt=t.return;vt;)switch(vt.tag){case 5:case 31:case 13:tn=!1;return;case 27:case 3:tn=!0;return;default:vt=vt.return}}function Fs(t){if(t!==vt)return!1;if(!ye)return xp(t),ye=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||rh(t.type,t.memoizedProps)),r=!r),r&&Ve&&ui(t),xp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ve=$_(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ve=$_(t)}else n===27?(n=Ve,Ci(t.type)?(t=fh,fh=null,Ve=t):Ve=n):Ve=vt?sn(t.stateNode.nextSibling):null;return!0}function is(){Ve=vt=null,ye=!1}function Vc(){var t=oi;return t!==null&&(It===null?It=t:It.push.apply(It,t),oi=null),t}function or(t){oi===null?oi=[t]:oi.push(t)}var qc=S(null),ss=null,In=null;function ci(t,n,r){F(qc,n._currentValue),n._currentValue=r}function Ln(t){t._currentValue=qc.current,z(qc)}function Gc(t,n,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===r)break;t=t.return}}function Yc(t,n,r,o){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;e:for(;h!==null;){var y=h;h=c;for(var E=0;E<n.length;E++)if(y.context===n[E]){h.lanes|=r,y=h.alternate,y!==null&&(y.lanes|=r),Gc(h.return,r,t),o||(g=null);break e}h=y.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=r,h=g.alternate,h!==null&&(h.lanes|=r),Gc(g,r,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function Ws(t,n,r,o){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var y=c.type;jt(c.pendingProps.value,g.value)||(t!==null?t.push(y):t=[y])}}else if(c===Ae.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(kr):t=[kr])}c=c.return}t!==null&&Yc(n,t,r,o),n.flags|=262144}function Wl(t){for(t=t.firstContext;t!==null;){if(!jt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function as(t){ss=t,In=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function yt(t){return Rp(ss,t)}function Xl(t,n){return ss===null&&as(t),Rp(t,n)}function Rp(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},In===null){if(t===null)throw Error(a(308));In=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else In=In.next=n;return r}var $S=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},ZS=s.unstable_scheduleCallback,JS=s.unstable_NormalPriority,st={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new $S,data:new Map,refCount:0}}function ur(t){t.refCount--,t.refCount===0&&ZS(JS,function(){t.controller.abort()})}var cr=null,Wc=0,Xs=0,Qs=null;function eC(t,n){if(cr===null){var r=cr=[];Wc=0,Xs=$f(),Qs={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Wc++,n.then(Ap,Ap),n}function Ap(){if(--Wc===0&&cr!==null){Qs!==null&&(Qs.status="fulfilled");var t=cr;cr=null,Xs=0,Qs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tC(t,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Np=M.S;M.S=function(t,n){h_=Pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&eC(t,n),Np!==null&&Np(t,n)};var rs=S(null);function Xc(){var t=rs.current;return t!==null?t:Pe.pooledCache}function Ql(t,n){n===null?F(rs,rs.current):F(rs,n.pool)}function Op(){var t=Xc();return t===null?null:{parent:st._currentValue,pool:t}}var Ks=Error(a(460)),Qc=Error(a(474)),Kl=Error(a(542)),$l={then:function(){}};function Dp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mp(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Nn,Nn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lp(t),t;default:if(typeof n.status=="string")n.then(Nn,Nn);else{if(t=Pe,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lp(t),t}throw os=n,Ks}}function ls(t){try{var n=t._init;return n(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(os=r,Ks):r}}var os=null;function Ip(){if(os===null)throw Error(a(459));var t=os;return os=null,t}function Lp(t){if(t===Ks||t===Kl)throw Error(a(483))}var $s=null,fr=0;function Zl(t){var n=fr;return fr+=1,$s===null&&($s=[]),Mp($s,t,n)}function hr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Jl(t,n){throw n.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function kp(t){function n(w,C){if(t){var A=w.deletions;A===null?(w.deletions=[C],w.flags|=16):A.push(C)}}function r(w,C){if(!t)return null;for(;C!==null;)n(w,C),C=C.sibling;return null}function o(w){for(var C=new Map;w!==null;)w.key!==null?C.set(w.key,w):C.set(w.index,w),w=w.sibling;return C}function c(w,C){return w=Dn(w,C),w.index=0,w.sibling=null,w}function h(w,C,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<C?(w.flags|=67108866,C):A):(w.flags|=67108866,C)):(w.flags|=1048576,C)}function g(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function y(w,C,A,U){return C===null||C.tag!==6?(C=zc(A,w.mode,U),C.return=w,C):(C=c(C,A),C.return=w,C)}function E(w,C,A,U){var $=A.type;return $===I?k(w,C,A.props.children,U,A.key):C!==null&&(C.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===re&&ls($)===C.type)?(C=c(C,A.props),hr(C,A),C.return=w,C):(C=Yl(A.type,A.key,A.props,null,w.mode,U),hr(C,A),C.return=w,C)}function N(w,C,A,U){return C===null||C.tag!==4||C.stateNode.containerInfo!==A.containerInfo||C.stateNode.implementation!==A.implementation?(C=Pc(A,w.mode,U),C.return=w,C):(C=c(C,A.children||[]),C.return=w,C)}function k(w,C,A,U,$){return C===null||C.tag!==7?(C=ns(A,w.mode,U,$),C.return=w,C):(C=c(C,A),C.return=w,C)}function P(w,C,A){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=zc(""+C,w.mode,A),C.return=w,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case T:return A=Yl(C.type,C.key,C.props,null,w.mode,A),hr(A,C),A.return=w,A;case x:return C=Pc(C,w.mode,A),C.return=w,C;case re:return C=ls(C),P(w,C,A)}if(Se(C)||it(C))return C=ns(C,w.mode,A,null),C.return=w,C;if(typeof C.then=="function")return P(w,Zl(C),A);if(C.$$typeof===q)return P(w,Xl(w,C),A);Jl(w,C)}return null}function O(w,C,A,U){var $=C!==null?C.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return $!==null?null:y(w,C,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case T:return A.key===$?E(w,C,A,U):null;case x:return A.key===$?N(w,C,A,U):null;case re:return A=ls(A),O(w,C,A,U)}if(Se(A)||it(A))return $!==null?null:k(w,C,A,U,null);if(typeof A.then=="function")return O(w,C,Zl(A),U);if(A.$$typeof===q)return O(w,C,Xl(w,A),U);Jl(w,A)}return null}function L(w,C,A,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return w=w.get(A)||null,y(C,w,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return w=w.get(U.key===null?A:U.key)||null,E(C,w,U,$);case x:return w=w.get(U.key===null?A:U.key)||null,N(C,w,U,$);case re:return U=ls(U),L(w,C,A,U,$)}if(Se(U)||it(U))return w=w.get(A)||null,k(C,w,U,$,null);if(typeof U.then=="function")return L(w,C,A,Zl(U),$);if(U.$$typeof===q)return L(w,C,A,Xl(C,U),$);Jl(C,U)}return null}function Q(w,C,A,U){for(var $=null,Te=null,K=C,ae=C=0,_e=null;K!==null&&ae<A.length;ae++){K.index>ae?(_e=K,K=null):_e=K.sibling;var we=O(w,K,A[ae],U);if(we===null){K===null&&(K=_e);break}t&&K&&we.alternate===null&&n(w,K),C=h(we,C,ae),Te===null?$=we:Te.sibling=we,Te=we,K=_e}if(ae===A.length)return r(w,K),ye&&Mn(w,ae),$;if(K===null){for(;ae<A.length;ae++)K=P(w,A[ae],U),K!==null&&(C=h(K,C,ae),Te===null?$=K:Te.sibling=K,Te=K);return ye&&Mn(w,ae),$}for(K=o(K);ae<A.length;ae++)_e=L(K,w,ae,A[ae],U),_e!==null&&(t&&_e.alternate!==null&&K.delete(_e.key===null?ae:_e.key),C=h(_e,C,ae),Te===null?$=_e:Te.sibling=_e,Te=_e);return t&&K.forEach(function(Ai){return n(w,Ai)}),ye&&Mn(w,ae),$}function Z(w,C,A,U){if(A==null)throw Error(a(151));for(var $=null,Te=null,K=C,ae=C=0,_e=null,we=A.next();K!==null&&!we.done;ae++,we=A.next()){K.index>ae?(_e=K,K=null):_e=K.sibling;var Ai=O(w,K,we.value,U);if(Ai===null){K===null&&(K=_e);break}t&&K&&Ai.alternate===null&&n(w,K),C=h(Ai,C,ae),Te===null?$=Ai:Te.sibling=Ai,Te=Ai,K=_e}if(we.done)return r(w,K),ye&&Mn(w,ae),$;if(K===null){for(;!we.done;ae++,we=A.next())we=P(w,we.value,U),we!==null&&(C=h(we,C,ae),Te===null?$=we:Te.sibling=we,Te=we);return ye&&Mn(w,ae),$}for(K=o(K);!we.done;ae++,we=A.next())we=L(K,w,ae,we.value,U),we!==null&&(t&&we.alternate!==null&&K.delete(we.key===null?ae:we.key),C=h(we,C,ae),Te===null?$=we:Te.sibling=we,Te=we);return t&&K.forEach(function(hT){return n(w,hT)}),ye&&Mn(w,ae),$}function Ue(w,C,A,U){if(typeof A=="object"&&A!==null&&A.type===I&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case T:e:{for(var $=A.key;C!==null;){if(C.key===$){if($=A.type,$===I){if(C.tag===7){r(w,C.sibling),U=c(C,A.props.children),U.return=w,w=U;break e}}else if(C.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===re&&ls($)===C.type){r(w,C.sibling),U=c(C,A.props),hr(U,A),U.return=w,w=U;break e}r(w,C);break}else n(w,C);C=C.sibling}A.type===I?(U=ns(A.props.children,w.mode,U,A.key),U.return=w,w=U):(U=Yl(A.type,A.key,A.props,null,w.mode,U),hr(U,A),U.return=w,w=U)}return g(w);case x:e:{for($=A.key;C!==null;){if(C.key===$)if(C.tag===4&&C.stateNode.containerInfo===A.containerInfo&&C.stateNode.implementation===A.implementation){r(w,C.sibling),U=c(C,A.children||[]),U.return=w,w=U;break e}else{r(w,C);break}else n(w,C);C=C.sibling}U=Pc(A,w.mode,U),U.return=w,w=U}return g(w);case re:return A=ls(A),Ue(w,C,A,U)}if(Se(A))return Q(w,C,A,U);if(it(A)){if($=it(A),typeof $!="function")throw Error(a(150));return A=$.call(A),Z(w,C,A,U)}if(typeof A.then=="function")return Ue(w,C,Zl(A),U);if(A.$$typeof===q)return Ue(w,C,Xl(w,A),U);Jl(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,C!==null&&C.tag===6?(r(w,C.sibling),U=c(C,A),U.return=w,w=U):(r(w,C),U=zc(A,w.mode,U),U.return=w,w=U),g(w)):r(w,C)}return function(w,C,A,U){try{fr=0;var $=Ue(w,C,A,U);return $s=null,$}catch(K){if(K===Ks||K===Kl)throw K;var Te=Vt(29,K,null,w.mode);return Te.lanes=U,Te.return=w,Te}}}var us=kp(!0),Up=kp(!1),fi=!1;function Kc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,n,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Re&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=Gl(t),yp(t,null,r),n}return ql(t,o,n,r),Gl(t)}function dr(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Rm(t,r)}}function Zc(t,n){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Jc=!1;function mr(){if(Jc){var t=Qs;if(t!==null)throw t}}function pr(t,n,r,o){Jc=!1;var c=t.updateQueue;fi=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var E=y,N=E.next;E.next=null,g===null?h=N:g.next=N,g=E;var k=t.alternate;k!==null&&(k=k.updateQueue,y=k.lastBaseUpdate,y!==g&&(y===null?k.firstBaseUpdate=N:y.next=N,k.lastBaseUpdate=E))}if(h!==null){var P=c.baseState;g=0,k=N=E=null,y=h;do{var O=y.lane&-536870913,L=O!==y.lane;if(L?(ge&O)===O:(o&O)===O){O!==0&&O===Xs&&(Jc=!0),k!==null&&(k=k.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var Q=t,Z=y;O=n;var Ue=r;switch(Z.tag){case 1:if(Q=Z.payload,typeof Q=="function"){P=Q.call(Ue,P,O);break e}P=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=Z.payload,O=typeof Q=="function"?Q.call(Ue,P,O):Q,O==null)break e;P=_({},P,O);break e;case 2:fi=!0}}O=y.callback,O!==null&&(t.flags|=64,L&&(t.flags|=8192),L=c.callbacks,L===null?c.callbacks=[O]:L.push(O))}else L={lane:O,tag:y.tag,payload:y.payload,callback:y.callback,next:null},k===null?(N=k=L,E=P):k=k.next=L,g|=O;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;L=y,y=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);k===null&&(E=P),c.baseState=E,c.firstBaseUpdate=N,c.lastBaseUpdate=k,h===null&&(c.shared.lanes=0),vi|=g,t.lanes=g,t.memoizedState=P}}function zp(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Pp(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)zp(r[t],n)}var Zs=S(null),eo=S(0);function Hp(t,n){t=qn,F(eo,t),F(Zs,n),qn=t|n.baseLanes}function ef(){F(eo,qn),F(Zs,Zs.current)}function tf(){qn=eo.current,z(Zs),z(eo)}var qt=S(null),nn=null;function mi(t){var n=t.alternate;F(et,et.current&1),F(qt,t),nn===null&&(n===null||Zs.current!==null||n.memoizedState!==null)&&(nn=t)}function nf(t){F(et,et.current),F(qt,t),nn===null&&(nn=t)}function Bp(t){t.tag===22?(F(et,et.current),F(qt,t),nn===null&&(nn=t)):pi()}function pi(){F(et,et.current),F(qt,qt.current)}function Gt(t){z(qt),nn===t&&(nn=null),z(et)}var et=S(0);function to(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||uh(r)||ch(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var kn=0,se=null,Le=null,at=null,no=!1,Js=!1,cs=!1,io=0,gr=0,ea=null,nC=0;function Ke(){throw Error(a(321))}function sf(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!jt(t[r],n[r]))return!1;return!0}function af(t,n,r,o,c,h){return kn=h,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,M.H=t===null||t.memoizedState===null?Cg:bf,cs=!1,h=r(o,c),cs=!1,Js&&(h=Vp(n,r,o,c)),jp(t),h}function jp(t){M.H=yr;var n=Le!==null&&Le.next!==null;if(kn=0,at=Le=se=null,no=!1,gr=0,ea=null,n)throw Error(a(300));t===null||rt||(t=t.dependencies,t!==null&&Wl(t)&&(rt=!0))}function Vp(t,n,r,o){se=t;var c=0;do{if(Js&&(ea=null),gr=0,Js=!1,25<=c)throw Error(a(301));if(c+=1,at=Le=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}M.H=Tg,h=n(r,o)}while(Js);return h}function iC(){var t=M.H,n=t.useState()[0];return n=typeof n.then=="function"?_r(n):n,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(se.flags|=1024),n}function rf(){var t=io!==0;return io=0,t}function lf(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function of(t){if(no){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}no=!1}kn=0,at=Le=se=null,Js=!1,gr=io=0,ea=null}function Tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?se.memoizedState=at=t:at=at.next=t,at}function tt(){if(Le===null){var t=se.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var n=at===null?se.memoizedState:at.next;if(n!==null)at=n,Le=t;else{if(t===null)throw se.alternate===null?Error(a(467)):Error(a(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},at===null?se.memoizedState=at=t:at=at.next=t}return at}function so(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _r(t){var n=gr;return gr+=1,ea===null&&(ea=[]),t=Mp(ea,t,n),n=se,(at===null?n.memoizedState:at.next)===null&&(n=n.alternate,M.H=n===null||n.memoizedState===null?Cg:bf),t}function ao(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _r(t);if(t.$$typeof===q)return yt(t)}throw Error(a(438,String(t)))}function uf(t){var n=null,r=se.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=se.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=so(),se.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),o=0;o<t;o++)r[o]=je;return n.index++,r}function Un(t,n){return typeof n=="function"?n(t):n}function ro(t){var n=tt();return cf(n,Le,t)}function cf(t,n,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var c=t.baseQueue,h=o.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,o.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var y=g=null,E=null,N=n,k=!1;do{var P=N.lane&-536870913;if(P!==N.lane?(ge&P)===P:(kn&P)===P){var O=N.revertLane;if(O===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),P===Xs&&(k=!0);else if((kn&O)===O){N=N.next,O===Xs&&(k=!0);continue}else P={lane:0,revertLane:N.revertLane,gesture:null,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(y=E=P,g=h):E=E.next=P,se.lanes|=O,vi|=O;P=N.action,cs&&r(h,P),h=N.hasEagerState?N.eagerState:r(h,P)}else O={lane:P,revertLane:N.revertLane,gesture:N.gesture,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null},E===null?(y=E=O,g=h):E=E.next=O,se.lanes|=P,vi|=P;N=N.next}while(N!==null&&N!==n);if(E===null?g=h:E.next=y,!jt(h,t.memoizedState)&&(rt=!0,k&&(r=Qs,r!==null)))throw r;t.memoizedState=h,t.baseState=g,t.baseQueue=E,o.lastRenderedState=h}return c===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function ff(t){var n=tt(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);jt(h,n.memoizedState)||(rt=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,o]}function qp(t,n,r){var o=se,c=tt(),h=ye;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!jt((Le||c).memoizedState,r);if(g&&(c.memoizedState=r,rt=!0),c=c.queue,mf(Fp.bind(null,o,c,t),[t]),c.getSnapshot!==n||g||at!==null&&at.memoizedState.tag&1){if(o.flags|=2048,ta(9,{destroy:void 0},Yp.bind(null,o,c,r,n),null),Pe===null)throw Error(a(349));h||(kn&127)!==0||Gp(o,n,r)}return r}function Gp(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=se.updateQueue,n===null?(n=so(),se.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Yp(t,n,r,o){n.value=r,n.getSnapshot=o,Wp(n)&&Xp(t)}function Fp(t,n,r){return r(function(){Wp(n)&&Xp(t)})}function Wp(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!jt(t,r)}catch{return!0}}function Xp(t){var n=ts(t,2);n!==null&&Lt(n,t,2)}function hf(t){var n=Tt();if(typeof t=="function"){var r=t;if(t=r(),cs){si(!0);try{r()}finally{si(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:t},n}function Qp(t,n,r,o){return t.baseState=r,cf(t,Le,typeof o=="function"?o:Un)}function sC(t,n,r,o,c){if(uo(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};M.T!==null?r(!0):h.isTransition=!1,o(h),r=n.pending,r===null?(h.next=n.pending=h,Kp(n,h)):(h.next=r.next,n.pending=r.next=h)}}function Kp(t,n){var r=n.action,o=n.payload,c=t.state;if(n.isTransition){var h=M.T,g={};M.T=g;try{var y=r(c,o),E=M.S;E!==null&&E(g,y),$p(t,n,y)}catch(N){df(t,n,N)}finally{h!==null&&g.types!==null&&(h.types=g.types),M.T=h}}else try{h=r(c,o),$p(t,n,h)}catch(N){df(t,n,N)}}function $p(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Zp(t,n,o)},function(o){return df(t,n,o)}):Zp(t,n,r)}function Zp(t,n,r){n.status="fulfilled",n.value=r,Jp(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Kp(t,r)))}function df(t,n,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,Jp(n),n=n.next;while(n!==o)}t.action=null}function Jp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function eg(t,n){return n}function tg(t,n){if(ye){var r=Pe.formState;if(r!==null){e:{var o=se;if(ye){if(Ve){t:{for(var c=Ve,h=tn;c.nodeType!==8;){if(!h){c=null;break t}if(c=sn(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ve=sn(c.nextSibling),o=c.data==="F!";break e}}ui(o)}o=!1}o&&(n=r[0])}}return r=Tt(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},r.queue=o,r=bg.bind(null,se,o),o.dispatch=r,o=hf(!1),h=yf.bind(null,se,!1,o.queue),o=Tt(),c={state:n,dispatch:null,action:t,pending:null},o.queue=c,r=sC.bind(null,se,c,h,r),c.dispatch=r,o.memoizedState=t,[n,r,!1]}function ng(t){var n=tt();return ig(n,Le,t)}function ig(t,n,r){if(n=cf(t,n,eg)[0],t=ro(Un)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=_r(n)}catch(g){throw g===Ks?Kl:g}else o=n;n=tt();var c=n.queue,h=c.dispatch;return r!==n.memoizedState&&(se.flags|=2048,ta(9,{destroy:void 0},aC.bind(null,c,r),null)),[o,h,t]}function aC(t,n){t.action=n}function sg(t){var n=tt(),r=Le;if(r!==null)return ig(n,r,t);tt(),n=n.memoizedState,r=tt();var o=r.queue.dispatch;return r.memoizedState=t,[n,o,!1]}function ta(t,n,r,o){return t={tag:t,create:r,deps:o,inst:n,next:null},n=se.updateQueue,n===null&&(n=so(),se.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,n.lastEffect=t),t}function ag(){return tt().memoizedState}function lo(t,n,r,o){var c=Tt();se.flags|=t,c.memoizedState=ta(1|n,{destroy:void 0},r,o===void 0?null:o)}function oo(t,n,r,o){var c=tt();o=o===void 0?null:o;var h=c.memoizedState.inst;Le!==null&&o!==null&&sf(o,Le.memoizedState.deps)?c.memoizedState=ta(n,h,r,o):(se.flags|=t,c.memoizedState=ta(1|n,h,r,o))}function rg(t,n){lo(8390656,8,t,n)}function mf(t,n){oo(2048,8,t,n)}function rC(t){se.flags|=4;var n=se.updateQueue;if(n===null)n=so(),se.updateQueue=n,n.events=[t];else{var r=n.events;r===null?n.events=[t]:r.push(t)}}function lg(t){var n=tt().memoizedState;return rC({ref:n,nextImpl:t}),function(){if((Re&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function og(t,n){return oo(4,2,t,n)}function ug(t,n){return oo(4,4,t,n)}function cg(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function fg(t,n,r){r=r!=null?r.concat([t]):null,oo(4,4,cg.bind(null,n,t),r)}function pf(){}function hg(t,n){var r=tt();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&sf(n,o[1])?o[0]:(r.memoizedState=[t,n],t)}function dg(t,n){var r=tt();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&sf(n,o[1]))return o[0];if(o=t(),cs){si(!0);try{t()}finally{si(!1)}}return r.memoizedState=[o,n],o}function gf(t,n,r){return r===void 0||(kn&1073741824)!==0&&(ge&261930)===0?t.memoizedState=n:(t.memoizedState=r,t=m_(),se.lanes|=t,vi|=t,r)}function mg(t,n,r,o){return jt(r,n)?r:Zs.current!==null?(t=gf(t,r,o),jt(t,n)||(rt=!0),t):(kn&42)===0||(kn&1073741824)!==0&&(ge&261930)===0?(rt=!0,t.memoizedState=r):(t=m_(),se.lanes|=t,vi|=t,n)}function pg(t,n,r,o,c){var h=V.p;V.p=h!==0&&8>h?h:8;var g=M.T,y={};M.T=y,yf(t,!1,n,r);try{var E=c(),N=M.S;if(N!==null&&N(y,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var k=tC(E,o);vr(t,n,k,Wt(t))}else vr(t,n,o,Wt(t))}catch(P){vr(t,n,{then:function(){},status:"rejected",reason:P},Wt())}finally{V.p=h,g!==null&&y.types!==null&&(g.types=y.types),M.T=g}}function lC(){}function _f(t,n,r,o){if(t.tag!==5)throw Error(a(476));var c=gg(t).queue;pg(t,c,n,W,r===null?lC:function(){return _g(t),r(o)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:W},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Un,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function _g(t){var n=gg(t);n.next===null&&(n=t.alternate.memoizedState),vr(t,n.next.queue,{},Wt())}function vf(){return yt(kr)}function vg(){return tt().memoizedState}function yg(){return tt().memoizedState}function oC(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=Wt();t=hi(r);var o=di(n,t,r);o!==null&&(Lt(o,n,r),dr(o,n,r)),n={cache:Fc()},t.payload=n;return}n=n.return}}function uC(t,n,r){var o=Wt();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},uo(t)?Eg(n,r):(r=kc(t,n,r,o),r!==null&&(Lt(r,t,o),Sg(r,n,o)))}function bg(t,n,r){var o=Wt();vr(t,n,r,o)}function vr(t,n,r,o){var c={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(uo(t))Eg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,y=h(g,r);if(c.hasEagerState=!0,c.eagerState=y,jt(y,g))return ql(t,n,c,0),Pe===null&&Vl(),!1}catch{}if(r=kc(t,n,c,o),r!==null)return Lt(r,t,o),Sg(r,n,o),!0}return!1}function yf(t,n,r,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uo(t)){if(n)throw Error(a(479))}else n=kc(t,r,o,2),n!==null&&Lt(n,t,2)}function uo(t){var n=t.alternate;return t===se||n!==null&&n===se}function Eg(t,n){Js=no=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Sg(t,n,r){if((r&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,r|=o,n.lanes=r,Rm(t,r)}}var yr={readContext:yt,use:ao,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};yr.useEffectEvent=Ke;var Cg={readContext:yt,use:ao,useCallback:function(t,n){return Tt().memoizedState=[t,n===void 0?null:n],t},useContext:yt,useEffect:rg,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,lo(4194308,4,cg.bind(null,n,t),r)},useLayoutEffect:function(t,n){return lo(4194308,4,t,n)},useInsertionEffect:function(t,n){lo(4,2,t,n)},useMemo:function(t,n){var r=Tt();n=n===void 0?null:n;var o=t();if(cs){si(!0);try{t()}finally{si(!1)}}return r.memoizedState=[o,n],o},useReducer:function(t,n,r){var o=Tt();if(r!==void 0){var c=r(n);if(cs){si(!0);try{r(n)}finally{si(!1)}}}else c=n;return o.memoizedState=o.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},o.queue=t,t=t.dispatch=uC.bind(null,se,t),[o.memoizedState,t]},useRef:function(t){var n=Tt();return t={current:t},n.memoizedState=t},useState:function(t){t=hf(t);var n=t.queue,r=bg.bind(null,se,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:pf,useDeferredValue:function(t,n){var r=Tt();return gf(r,t,n)},useTransition:function(){var t=hf(!1);return t=pg.bind(null,se,t.queue,!0,!1),Tt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var o=se,c=Tt();if(ye){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Pe===null)throw Error(a(349));(ge&127)!==0||Gp(o,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,rg(Fp.bind(null,o,h,t),[t]),o.flags|=2048,ta(9,{destroy:void 0},Yp.bind(null,o,h,r,n),null),r},useId:function(){var t=Tt(),n=Pe.identifierPrefix;if(ye){var r=bn,o=yn;r=(o&~(1<<32-Bt(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=io++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=nC++,n="_"+n+"r_"+r.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vf,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=Tt();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yf.bind(null,se,!0,r),r.dispatch=n,[t,n]},useMemoCache:uf,useCacheRefresh:function(){return Tt().memoizedState=oC.bind(null,se)},useEffectEvent:function(t){var n=Tt(),r={impl:t};return n.memoizedState=r,function(){if((Re&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},bf={readContext:yt,use:ao,useCallback:hg,useContext:yt,useEffect:mf,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:ro,useRef:ag,useState:function(){return ro(Un)},useDebugValue:pf,useDeferredValue:function(t,n){var r=tt();return mg(r,Le.memoizedState,t,n)},useTransition:function(){var t=ro(Un)[0],n=tt().memoizedState;return[typeof t=="boolean"?t:_r(t),n]},useSyncExternalStore:qp,useId:vg,useHostTransitionStatus:vf,useFormState:ng,useActionState:ng,useOptimistic:function(t,n){var r=tt();return Qp(r,Le,t,n)},useMemoCache:uf,useCacheRefresh:yg};bf.useEffectEvent=lg;var Tg={readContext:yt,use:ao,useCallback:hg,useContext:yt,useEffect:mf,useImperativeHandle:fg,useInsertionEffect:og,useLayoutEffect:ug,useMemo:dg,useReducer:ff,useRef:ag,useState:function(){return ff(Un)},useDebugValue:pf,useDeferredValue:function(t,n){var r=tt();return Le===null?gf(r,t,n):mg(r,Le.memoizedState,t,n)},useTransition:function(){var t=ff(Un)[0],n=tt().memoizedState;return[typeof t=="boolean"?t:_r(t),n]},useSyncExternalStore:qp,useId:vg,useHostTransitionStatus:vf,useFormState:sg,useActionState:sg,useOptimistic:function(t,n){var r=tt();return Le!==null?Qp(r,Le,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:uf,useCacheRefresh:yg};Tg.useEffectEvent=lg;function Ef(t,n,r,o){n=t.memoizedState,r=r(o,n),r=r==null?n:_({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Sf={enqueueSetState:function(t,n,r){t=t._reactInternals;var o=Wt(),c=hi(o);c.payload=n,r!=null&&(c.callback=r),n=di(t,c,o),n!==null&&(Lt(n,t,o),dr(n,t,o))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var o=Wt(),c=hi(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=di(t,c,o),n!==null&&(Lt(n,t,o),dr(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=Wt(),o=hi(r);o.tag=2,n!=null&&(o.callback=n),n=di(t,o,r),n!==null&&(Lt(n,t,r),dr(n,t,r))}};function wg(t,n,r,o,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,g):n.prototype&&n.prototype.isPureReactComponent?!ar(r,o)||!ar(c,h):!0}function xg(t,n,r,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==t&&Sf.enqueueReplaceState(n,n.state,null)}function fs(t,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(t=t.defaultProps){r===n&&(r=_({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}function Rg(t){jl(t)}function Ag(t){console.error(t)}function Ng(t){jl(t)}function co(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Og(t,n,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Cf(t,n,r){return r=hi(r),r.tag=3,r.payload={element:null},r.callback=function(){co(t,n)},r}function Dg(t){return t=hi(t),t.tag=3,t}function Mg(t,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=o.value;t.payload=function(){return c(h)},t.callback=function(){Og(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Og(n,r,o),typeof c!="function"&&(yi===null?yi=new Set([this]):yi.add(this));var y=o.stack;this.componentDidCatch(o.value,{componentStack:y!==null?y:""})})}function cC(t,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ws(n,r,c,!0),r=qt.current,r!==null){switch(r.tag){case 31:case 13:return nn===null?Co():r.alternate===null&&$e===0&&($e=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===$l?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),Xf(t,o,c)),!1;case 22:return r.flags|=65536,o===$l?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),Xf(t,o,c)),!1}throw Error(a(435,r.tag))}return Xf(t,o,c),Co(),!1}if(ye)return n=qt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==jc&&(t=Error(a(422),{cause:o}),or(Zt(t,r)))):(o!==jc&&(n=Error(a(423),{cause:o}),or(Zt(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,o=Zt(o,r),c=Cf(t.stateNode,o,c),Zc(t,c),$e!==4&&($e=2)),!1;var h=Error(a(520),{cause:o});if(h=Zt(h,r),Rr===null?Rr=[h]:Rr.push(h),$e!==4&&($e=2),n===null)return!0;o=Zt(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Cf(r.stateNode,o,t),Zc(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(yi===null||!yi.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Dg(c),Mg(c,t,r,o),Zc(r,c),!1}r=r.return}while(r!==null);return!1}var Tf=Error(a(461)),rt=!1;function bt(t,n,r,o){n.child=t===null?Up(n,null,r,o):us(n,t.child,r,o)}function Ig(t,n,r,o,c){r=r.render;var h=n.ref;if("ref"in o){var g={};for(var y in o)y!=="ref"&&(g[y]=o[y])}else g=o;return as(n),o=af(t,n,r,g,h,c),y=rf(),t!==null&&!rt?(lf(t,n,c),zn(t,n,c)):(ye&&y&&Hc(n),n.flags|=1,bt(t,n,o,c),n.child)}function Lg(t,n,r,o,c){if(t===null){var h=r.type;return typeof h=="function"&&!Uc(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,kg(t,n,h,o,c)):(t=Yl(r.type,null,o,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Mf(t,c)){var g=h.memoizedProps;if(r=r.compare,r=r!==null?r:ar,r(g,o)&&t.ref===n.ref)return zn(t,n,c)}return n.flags|=1,t=Dn(h,o),t.ref=n.ref,t.return=n,n.child=t}function kg(t,n,r,o,c){if(t!==null){var h=t.memoizedProps;if(ar(h,o)&&t.ref===n.ref)if(rt=!1,n.pendingProps=o=h,Mf(t,c))(t.flags&131072)!==0&&(rt=!0);else return n.lanes=t.lanes,zn(t,n,c)}return wf(t,n,r,o,c)}function Ug(t,n,r,o){var c=o.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,t!==null){for(o=n.child=t.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~h}else o=0,n.child=null;return zg(t,n,h,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ql(n,h!==null?h.cachePool:null),h!==null?Hp(n,h):ef(),Bp(n);else return o=n.lanes=536870912,zg(t,n,h!==null?h.baseLanes|r:r,r,o)}else h!==null?(Ql(n,h.cachePool),Hp(n,h),pi(),n.memoizedState=null):(t!==null&&Ql(n,null),ef(),pi());return bt(t,n,c,r),n.child}function br(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function zg(t,n,r,o,c){var h=Xc();return h=h===null?null:{parent:st._currentValue,pool:h},n.memoizedState={baseLanes:r,cachePool:h},t!==null&&Ql(n,null),ef(),Bp(n),t!==null&&Ws(t,n,o,!0),n.childLanes=c,null}function fo(t,n){return n=mo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Pg(t,n,r){return us(n,t.child,null,r),t=fo(n,n.pendingProps),t.flags|=2,Gt(n),n.memoizedState=null,t}function fC(t,n,r){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ye){if(o.mode==="hidden")return t=fo(n,o),n.lanes=536870912,br(null,t);if(nf(n),(t=Ve)?(t=K_(t,tn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:li!==null?{id:yn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},r=Ep(t),r.return=n,n.child=r,vt=n,Ve=null)):t=null,t===null)throw ui(n);return n.lanes=536870912,null}return fo(n,o)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(nf(n),c)if(n.flags&256)n.flags&=-257,n=Pg(t,n,r);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(rt||Ws(t,n,r,!1),c=(r&t.childLanes)!==0,rt||c){if(o=Pe,o!==null&&(g=Am(o,r),g!==0&&g!==h.retryLane))throw h.retryLane=g,ts(t,g),Lt(o,t,g),Tf;Co(),n=Pg(t,n,r)}else t=h.treeContext,Ve=sn(g.nextSibling),vt=n,ye=!0,oi=null,tn=!1,t!==null&&Tp(n,t),n=fo(n,o),n.flags|=4096;return n}return t=Dn(t.child,{mode:o.mode,children:o.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ho(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function wf(t,n,r,o,c){return as(n),r=af(t,n,r,o,void 0,c),o=rf(),t!==null&&!rt?(lf(t,n,c),zn(t,n,c)):(ye&&o&&Hc(n),n.flags|=1,bt(t,n,r,c),n.child)}function Hg(t,n,r,o,c,h){return as(n),n.updateQueue=null,r=Vp(n,o,r,c),jp(t),o=rf(),t!==null&&!rt?(lf(t,n,h),zn(t,n,h)):(ye&&o&&Hc(n),n.flags|=1,bt(t,n,r,h),n.child)}function Bg(t,n,r,o,c){if(as(n),n.stateNode===null){var h=qs,g=r.contextType;typeof g=="object"&&g!==null&&(h=yt(g)),h=new r(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Kc(n),g=r.contextType,h.context=typeof g=="object"&&g!==null?yt(g):qs,h.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Ef(n,r,g,o),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&Sf.enqueueReplaceState(h,h.state,null),pr(n,o,h,c),mr(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){h=n.stateNode;var y=n.memoizedProps,E=fs(r,y);h.props=E;var N=h.context,k=r.contextType;g=qs,typeof k=="object"&&k!==null&&(g=yt(k));var P=r.getDerivedStateFromProps;k=typeof P=="function"||typeof h.getSnapshotBeforeUpdate=="function",y=n.pendingProps!==y,k||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y||N!==g)&&xg(n,h,o,g),fi=!1;var O=n.memoizedState;h.state=O,pr(n,o,h,c),mr(),N=n.memoizedState,y||O!==N||fi?(typeof P=="function"&&(Ef(n,r,P,o),N=n.memoizedState),(E=fi||wg(n,r,E,o,O,N,g))?(k||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=N),h.props=o,h.state=N,h.context=g,o=E):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,$c(t,n),g=n.memoizedProps,k=fs(r,g),h.props=k,P=n.pendingProps,O=h.context,N=r.contextType,E=qs,typeof N=="object"&&N!==null&&(E=yt(N)),y=r.getDerivedStateFromProps,(N=typeof y=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||O!==E)&&xg(n,h,o,E),fi=!1,O=n.memoizedState,h.state=O,pr(n,o,h,c),mr();var L=n.memoizedState;g!==P||O!==L||fi||t!==null&&t.dependencies!==null&&Wl(t.dependencies)?(typeof y=="function"&&(Ef(n,r,y,o),L=n.memoizedState),(k=fi||wg(n,r,k,o,O,L,E)||t!==null&&t.dependencies!==null&&Wl(t.dependencies))?(N||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,L,E),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,L,E)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=L),h.props=o,h.state=L,h.context=E,o=k):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&O===t.memoizedState||(n.flags|=1024),o=!1)}return h=o,ho(t,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&o?(n.child=us(n,t.child,null,c),n.child=us(n,null,r,c)):bt(t,n,r,c),n.memoizedState=h.state,t=n.child):t=zn(t,n,c),t}function jg(t,n,r,o){return is(),n.flags|=256,bt(t,n,r,o),n.child}var xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Op()}}function Af(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Ft),t}function Vg(t,n,r){var o=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(et.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(ye){if(c?mi(n):pi(),(t=Ve)?(t=K_(t,tn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:li!==null?{id:yn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},r=Ep(t),r.return=n,n.child=r,vt=n,Ve=null)):t=null,t===null)throw ui(n);return ch(t)?n.lanes=32:n.lanes=536870912,null}var y=o.children;return o=o.fallback,c?(pi(),c=n.mode,y=mo({mode:"hidden",children:y},c),o=ns(o,c,r,null),y.return=n,o.return=n,y.sibling=o,n.child=y,o=n.child,o.memoizedState=Rf(r),o.childLanes=Af(t,g,r),n.memoizedState=xf,br(null,o)):(mi(n),Nf(n,y))}var E=t.memoizedState;if(E!==null&&(y=E.dehydrated,y!==null)){if(h)n.flags&256?(mi(n),n.flags&=-257,n=Of(t,n,r)):n.memoizedState!==null?(pi(),n.child=t.child,n.flags|=128,n=null):(pi(),y=o.fallback,c=n.mode,o=mo({mode:"visible",children:o.children},c),y=ns(y,c,r,null),y.flags|=2,o.return=n,y.return=n,o.sibling=y,n.child=o,us(n,t.child,null,r),o=n.child,o.memoizedState=Rf(r),o.childLanes=Af(t,g,r),n.memoizedState=xf,n=br(null,o));else if(mi(n),ch(y)){if(g=y.nextSibling&&y.nextSibling.dataset,g)var N=g.dgst;g=N,o=Error(a(419)),o.stack="",o.digest=g,or({value:o,source:null,stack:null}),n=Of(t,n,r)}else if(rt||Ws(t,n,r,!1),g=(r&t.childLanes)!==0,rt||g){if(g=Pe,g!==null&&(o=Am(g,r),o!==0&&o!==E.retryLane))throw E.retryLane=o,ts(t,o),Lt(g,t,o),Tf;uh(y)||Co(),n=Of(t,n,r)}else uh(y)?(n.flags|=192,n.child=t.child,n=null):(t=E.treeContext,Ve=sn(y.nextSibling),vt=n,ye=!0,oi=null,tn=!1,t!==null&&Tp(n,t),n=Nf(n,o.children),n.flags|=4096);return n}return c?(pi(),y=o.fallback,c=n.mode,E=t.child,N=E.sibling,o=Dn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,N!==null?y=Dn(N,y):(y=ns(y,c,r,null),y.flags|=2),y.return=n,o.return=n,o.sibling=y,n.child=o,br(null,o),o=n.child,y=t.child.memoizedState,y===null?y=Rf(r):(c=y.cachePool,c!==null?(E=st._currentValue,c=c.parent!==E?{parent:E,pool:E}:c):c=Op(),y={baseLanes:y.baseLanes|r,cachePool:c}),o.memoizedState=y,o.childLanes=Af(t,g,r),n.memoizedState=xf,br(t.child,o)):(mi(n),r=t.child,t=r.sibling,r=Dn(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=r,n.memoizedState=null,r)}function Nf(t,n){return n=mo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mo(t,n){return t=Vt(22,t,null,n),t.lanes=0,t}function Of(t,n,r){return us(n,t.child,null,r),t=Nf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function qg(t,n,r){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),Gc(t.return,n,r)}function Df(t,n,r,o,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=c,g.treeForkCount=h)}function Gg(t,n,r){var o=n.pendingProps,c=o.revealOrder,h=o.tail;o=o.children;var g=et.current,y=(g&2)!==0;if(y?(g=g&1|2,n.flags|=128):g&=1,F(et,g),bt(t,n,o,r),o=ye?lr:0,!y&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qg(t,r,n);else if(t.tag===19)qg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&to(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Df(n,!1,c,r,h,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&to(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Df(n,!0,r,null,h,o);break;case"together":Df(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zn(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),vi|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Ws(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=Dn(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=Dn(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Mf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Wl(t)))}function hC(t,n,r){switch(n.tag){case 3:Ct(n,n.stateNode.containerInfo),ci(n,st,t.memoizedState.cache),is();break;case 27:case 5:Fa(n);break;case 4:Ct(n,n.stateNode.containerInfo);break;case 10:ci(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,nf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(mi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Vg(t,n,r):(mi(n),t=zn(t,n,r),t!==null?t.sibling:null);mi(n);break;case 19:var c=(t.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ws(t,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Gg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),F(et,et.current),o)break;return null;case 22:return n.lanes=0,Ug(t,n,r,n.pendingProps);case 24:ci(n,st,t.memoizedState.cache)}return zn(t,n,r)}function Yg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)rt=!0;else{if(!Mf(t,r)&&(n.flags&128)===0)return rt=!1,hC(t,n,r);rt=(t.flags&131072)!==0}else rt=!1,ye&&(n.flags&1048576)!==0&&Cp(n,lr,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(t=ls(n.elementType),n.type=t,typeof t=="function")Uc(t)?(o=fs(t,o),n.tag=1,n=Bg(null,n,t,o,r)):(n.tag=0,n=wf(null,n,t,o,r));else{if(t!=null){var c=t.$$typeof;if(c===ne){n.tag=11,n=Ig(null,n,t,o,r);break e}else if(c===G){n.tag=14,n=Lg(null,n,t,o,r);break e}}throw n=me(t)||t,Error(a(306,n,""))}}return n;case 0:return wf(t,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=fs(o,n.pendingProps),Bg(t,n,o,c,r);case 3:e:{if(Ct(n,n.stateNode.containerInfo),t===null)throw Error(a(387));o=n.pendingProps;var h=n.memoizedState;c=h.element,$c(t,n),pr(n,o,null,r);var g=n.memoizedState;if(o=g.cache,ci(n,st,o),o!==h.cache&&Yc(n,[st],r,!0),mr(),o=g.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=jg(t,n,o,r);break e}else if(o!==c){c=Zt(Error(a(424)),n),or(c),n=jg(t,n,o,r);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ve=sn(t.firstChild),vt=n,ye=!0,oi=null,tn=!0,r=Up(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(is(),o===c){n=zn(t,n,r);break e}bt(t,n,o,r)}n=n.child}return n;case 26:return ho(t,n),t===null?(r=nv(n.type,null,n.pendingProps,null))?n.memoizedState=r:ye||(r=n.type,t=n.pendingProps,o=Oo(fe.current).createElement(r),o[_t]=n,o[At]=t,Et(o,r,t),ft(o),n.stateNode=o):n.memoizedState=nv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Fa(n),t===null&&ye&&(o=n.stateNode=J_(n.type,n.pendingProps,fe.current),vt=n,tn=!0,c=Ve,Ci(n.type)?(fh=c,Ve=sn(o.firstChild)):Ve=c),bt(t,n,n.pendingProps.children,r),ho(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ye&&((c=o=Ve)&&(o=VC(o,n.type,n.pendingProps,tn),o!==null?(n.stateNode=o,vt=n,Ve=sn(o.firstChild),tn=!1,c=!0):c=!1),c||ui(n)),Fa(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,o=h.children,rh(c,h)?o=null:g!==null&&rh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=af(t,n,iC,null,null,r),kr._currentValue=c),ho(t,n),bt(t,n,o,r),n.child;case 6:return t===null&&ye&&((t=r=Ve)&&(r=qC(r,n.pendingProps,tn),r!==null?(n.stateNode=r,vt=n,Ve=null,t=!0):t=!1),t||ui(n)),null;case 13:return Vg(t,n,r);case 4:return Ct(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=us(n,null,o,r):bt(t,n,o,r),n.child;case 11:return Ig(t,n,n.type,n.pendingProps,r);case 7:return bt(t,n,n.pendingProps,r),n.child;case 8:return bt(t,n,n.pendingProps.children,r),n.child;case 12:return bt(t,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,ci(n,n.type,o.value),bt(t,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,as(n),c=yt(c),o=o(c),n.flags|=1,bt(t,n,o,r),n.child;case 14:return Lg(t,n,n.type,n.pendingProps,r);case 15:return kg(t,n,n.type,n.pendingProps,r);case 19:return Gg(t,n,r);case 31:return fC(t,n,r);case 22:return Ug(t,n,r,n.pendingProps);case 24:return as(n),o=yt(st),t===null?(c=Xc(),c===null&&(c=Pe,h=Fc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:o,cache:c},Kc(n),ci(n,st,c)):((t.lanes&r)!==0&&($c(t,n),pr(n,null,null,r),mr()),c=t.memoizedState,h=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ci(n,st,o)):(o=h.cache,ci(n,st,o),o!==c.cache&&Yc(n,[st],r,!0))),bt(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Pn(t){t.flags|=4}function If(t,n,r,o,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(v_())t.flags|=8192;else throw os=$l,Qc}else t.flags&=-16777217}function Fg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!lv(n))if(v_())t.flags|=8192;else throw os=$l,Qc}function po(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?wm():536870912,t.lanes|=n,aa|=n)}function Er(t,n){if(!ye)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function qe(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=o,t.childLanes=r,n}function dC(t,n,r){var o=n.pendingProps;switch(Bc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(n),null;case 1:return qe(n),null;case 3:return r=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ln(st),Je(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fs(n)?Pn(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Vc())),qe(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?(Pn(n),h!==null?(qe(n),Fg(n,h)):(qe(n),If(n,c,null,o,r))):h?h!==t.memoizedState?(Pn(n),qe(n),Fg(n,h)):(qe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==o&&Pn(n),qe(n),If(n,c,t,o,r)),null;case 27:if(wl(n),r=fe.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Pn(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return qe(n),null}t=X.current,Fs(n)?wp(n):(t=J_(c,o,r),n.stateNode=t,Pn(n))}return qe(n),null;case 5:if(wl(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Pn(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return qe(n),null}if(h=X.current,Fs(n))wp(n);else{var g=Oo(fe.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?h.multiple=!0:o.size&&(h.size=o.size);break;default:h=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}h[_t]=n,h[At]=o;e:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break e;for(;g.sibling===null;){if(g.return===null||g.return===n)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;e:switch(Et(h,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Pn(n)}}return qe(n),If(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,r),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Pn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(t=fe.current,Fs(n)){if(t=n.stateNode,r=n.memoizedProps,o=null,c=vt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}t[_t]=n,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||V_(t.nodeValue,r)),t||ui(n,!0)}else t=Oo(t).createTextNode(o),t[_t]=n,n.stateNode=t}return qe(n),null;case 31:if(r=n.memoizedState,t===null||t.memoizedState!==null){if(o=Fs(n),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[_t]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),t=!1}else r=Vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return n.flags&256?(Gt(n),n):(Gt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return qe(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Fs(n),o!==null&&o.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_t]=n}else is(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;qe(n),c=!1}else c=Vc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Gt(n),n):(Gt(n),null)}return Gt(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==c&&(o.flags|=2048)),r!==t&&r&&(n.child.flags|=8192),po(n,n.updateQueue),qe(n),null);case 4:return Je(),t===null&&th(n.stateNode.containerInfo),qe(n),null;case 10:return Ln(n.type),qe(n),null;case 19:if(z(et),o=n.memoizedState,o===null)return qe(n),null;if(c=(n.flags&128)!==0,h=o.rendering,h===null)if(c)Er(o,!1);else{if($e!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=to(t),h!==null){for(n.flags|=128,Er(o,!1),t=h.updateQueue,n.updateQueue=t,po(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)bp(r,t),r=r.sibling;return F(et,et.current&1|2),ye&&Mn(n,o.treeForkCount),n.child}t=t.sibling}o.tail!==null&&Pt()>bo&&(n.flags|=128,c=!0,Er(o,!1),n.lanes=4194304)}else{if(!c)if(t=to(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,po(n,t),Er(o,!0),o.tail===null&&o.tailMode==="hidden"&&!h.alternate&&!ye)return qe(n),null}else 2*Pt()-o.renderingStartTime>bo&&r!==536870912&&(n.flags|=128,c=!0,Er(o,!1),n.lanes=4194304);o.isBackwards?(h.sibling=n.child,n.child=h):(t=o.last,t!==null?t.sibling=h:n.child=h,o.last=h)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Pt(),t.sibling=null,r=et.current,F(et,c?r&1|2:r&1),ye&&Mn(n,o.treeForkCount),t):(qe(n),null);case 22:case 23:return Gt(n),tf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(qe(n),n.subtreeFlags&6&&(n.flags|=8192)):qe(n),r=n.updateQueue,r!==null&&po(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),t!==null&&z(rs),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ln(st),qe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function mC(t,n){switch(Bc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ln(st),Je(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return wl(n),null;case 31:if(n.memoizedState!==null){if(Gt(n),n.alternate===null)throw Error(a(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Gt(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));is()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return z(et),null;case 4:return Je(),null;case 10:return Ln(n.type),null;case 22:case 23:return Gt(n),tf(),t!==null&&z(rs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ln(st),null;case 25:return null;default:return null}}function Wg(t,n){switch(Bc(n),n.tag){case 3:Ln(st),Je();break;case 26:case 27:case 5:wl(n);break;case 4:Je();break;case 31:n.memoizedState!==null&&Gt(n);break;case 13:Gt(n);break;case 19:z(et);break;case 10:Ln(n.type);break;case 22:case 23:Gt(n),tf(),t!==null&&z(rs);break;case 24:Ln(st)}}function Sr(t,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&t)===t){o=void 0;var h=r.create,g=r.inst;o=h(),g.destroy=o}r=r.next}while(r!==c)}}catch(y){De(n,n.return,y)}}function gi(t,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&t)===t){var g=o.inst,y=g.destroy;if(y!==void 0){g.destroy=void 0,c=n;var E=r,N=y;try{N()}catch(k){De(c,E,k)}}}o=o.next}while(o!==h)}}catch(k){De(n,n.return,k)}}function Xg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{Pp(n,r)}catch(o){De(t,t.return,o)}}}function Qg(t,n,r){r.props=fs(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){De(t,n,o)}}function Cr(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(c){De(t,n,c)}}function En(t,n){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){De(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){De(t,n,c)}else r.current=null}function Kg(t){var n=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){De(t,t.return,c)}}function Lf(t,n,r){try{var o=t.stateNode;UC(o,t.type,r,n),o[At]=n}catch(c){De(t,t.return,c)}}function $g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Nn));else if(o!==4&&(o===27&&Ci(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Uf(t,n,r),t=t.sibling;t!==null;)Uf(t,n,r),t=t.sibling}function go(t,n,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(o!==4&&(o===27&&Ci(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(go(t,n,r),t=t.sibling;t!==null;)go(t,n,r),t=t.sibling}function Zg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Et(n,o,r),n[_t]=t,n[At]=r}catch(h){De(t,t.return,h)}}var Hn=!1,lt=!1,zf=!1,Jg=typeof WeakSet=="function"?WeakSet:Set,ht=null;function pC(t,n){if(t=t.containerInfo,sh=zo,t=fp(t),Nc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var g=0,y=-1,E=-1,N=0,k=0,P=t,O=null;t:for(;;){for(var L;P!==r||c!==0&&P.nodeType!==3||(y=g+c),P!==h||o!==0&&P.nodeType!==3||(E=g+o),P.nodeType===3&&(g+=P.nodeValue.length),(L=P.firstChild)!==null;)O=P,P=L;for(;;){if(P===t)break t;if(O===r&&++N===c&&(y=g),O===h&&++k===o&&(E=g),(L=P.nextSibling)!==null)break;P=O,O=P.parentNode}P=L}r=y===-1||E===-1?null:{start:y,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(ah={focusedElem:t,selectionRange:r},zo=!1,ht=n;ht!==null;)if(n=ht,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,ht=t;else for(;ht!==null;){switch(n=ht,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)c=t[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,o=r.stateNode;try{var Q=fs(r.type,c);t=o.getSnapshotBeforeUpdate(Q,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(Z){De(r,r.return,Z)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)oh(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":oh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,ht=t;break}ht=n.return}}function e_(t,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:jn(t,r),o&4&&Sr(5,r);break;case 1:if(jn(t,r),o&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(g){De(r,r.return,g)}else{var c=fs(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){De(r,r.return,g)}}o&64&&Xg(r),o&512&&Cr(r,r.return);break;case 3:if(jn(t,r),o&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Pp(t,n)}catch(g){De(r,r.return,g)}}break;case 27:n===null&&o&4&&Zg(r);case 26:case 5:jn(t,r),n===null&&o&4&&Kg(r),o&512&&Cr(r,r.return);break;case 12:jn(t,r);break;case 31:jn(t,r),o&4&&i_(t,r);break;case 13:jn(t,r),o&4&&s_(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=TC.bind(null,r),GC(t,r))));break;case 22:if(o=r.memoizedState!==null||Hn,!o){n=n!==null&&n.memoizedState!==null||lt,c=Hn;var h=lt;Hn=o,(lt=n)&&!h?Vn(t,r,(r.subtreeFlags&8772)!==0):jn(t,r),Hn=c,lt=h}break;case 30:break;default:jn(t,r)}}function t_(t){var n=t.alternate;n!==null&&(t.alternate=null,t_(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&hc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ge=null,Ot=!1;function Bn(t,n,r){for(r=r.child;r!==null;)n_(t,n,r),r=r.sibling}function n_(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Wa,r)}catch{}switch(r.tag){case 26:lt||En(r,n),Bn(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:lt||En(r,n);var o=Ge,c=Ot;Ci(r.type)&&(Ge=r.stateNode,Ot=!1),Bn(t,n,r),Mr(r.stateNode),Ge=o,Ot=c;break;case 5:lt||En(r,n);case 6:if(o=Ge,c=Ot,Ge=null,Bn(t,n,r),Ge=o,Ot=c,Ge!==null)if(Ot)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(r.stateNode)}catch(h){De(r,n,h)}else try{Ge.removeChild(r.stateNode)}catch(h){De(r,n,h)}break;case 18:Ge!==null&&(Ot?(t=Ge,X_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),da(t)):X_(Ge,r.stateNode));break;case 4:o=Ge,c=Ot,Ge=r.stateNode.containerInfo,Ot=!0,Bn(t,n,r),Ge=o,Ot=c;break;case 0:case 11:case 14:case 15:gi(2,r,n),lt||gi(4,r,n),Bn(t,n,r);break;case 1:lt||(En(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Qg(r,n,o)),Bn(t,n,r);break;case 21:Bn(t,n,r);break;case 22:lt=(o=lt)||r.memoizedState!==null,Bn(t,n,r),lt=o;break;default:Bn(t,n,r)}}function i_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{da(t)}catch(r){De(n,n.return,r)}}}function s_(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{da(t)}catch(r){De(n,n.return,r)}}function gC(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Jg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Jg),n;default:throw Error(a(435,t.tag))}}function _o(t,n){var r=gC(t);n.forEach(function(o){if(!r.has(o)){r.add(o);var c=wC.bind(null,t,o);o.then(c,c)}})}function Dt(t,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],h=t,g=n,y=g;e:for(;y!==null;){switch(y.tag){case 27:if(Ci(y.type)){Ge=y.stateNode,Ot=!1;break e}break;case 5:Ge=y.stateNode,Ot=!1;break e;case 3:case 4:Ge=y.stateNode.containerInfo,Ot=!0;break e}y=y.return}if(Ge===null)throw Error(a(160));n_(h,g,c),Ge=null,Ot=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)a_(n,t),n=n.sibling}var cn=null;function a_(t,n){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Dt(n,t),Mt(t),o&4&&(gi(3,t,t.return),Sr(3,t),gi(5,t,t.return));break;case 1:Dt(n,t),Mt(t),o&512&&(lt||r===null||En(r,r.return)),o&64&&Hn&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=cn;if(Dt(n,t),Mt(t),o&512&&(lt||r===null||En(r,r.return)),o&4){var h=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Ka]||h[_t]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(o),c.head.insertBefore(h,c.querySelector("head > title"))),Et(h,o,r),h[_t]=t,ft(h),o=h;break e;case"link":var g=av("link","href",c).get(o+(r.href||""));if(g){for(var y=0;y<g.length;y++)if(h=g[y],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(y,1);break t}}h=c.createElement(o),Et(h,o,r),c.head.appendChild(h);break;case"meta":if(g=av("meta","content",c).get(o+(r.content||""))){for(y=0;y<g.length;y++)if(h=g[y],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(y,1);break t}}h=c.createElement(o),Et(h,o,r),c.head.appendChild(h);break;default:throw Error(a(468,o))}h[_t]=t,ft(h),o=h}t.stateNode=o}else rv(c,t.type,t.stateNode);else t.stateNode=sv(c,o,t.memoizedProps);else h!==o?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,o===null?rv(c,t.type,t.stateNode):sv(c,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Dt(n,t),Mt(t),o&512&&(lt||r===null||En(r,r.return)),r!==null&&o&4&&Lf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Dt(n,t),Mt(t),o&512&&(lt||r===null||En(r,r.return)),t.flags&32){c=t.stateNode;try{Us(c,"")}catch(Q){De(t,t.return,Q)}}o&4&&t.stateNode!=null&&(c=t.memoizedProps,Lf(t,c,r!==null?r.memoizedProps:c)),o&1024&&(zf=!0);break;case 6:if(Dt(n,t),Mt(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(Q){De(t,t.return,Q)}}break;case 3:if(Io=null,c=cn,cn=Do(n.containerInfo),Dt(n,t),cn=c,Mt(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{da(n.containerInfo)}catch(Q){De(t,t.return,Q)}zf&&(zf=!1,r_(t));break;case 4:o=cn,cn=Do(t.stateNode.containerInfo),Dt(n,t),Mt(t),cn=o;break;case 12:Dt(n,t),Mt(t);break;case 31:Dt(n,t),Mt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_o(t,o)));break;case 13:Dt(n,t),Mt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(yo=Pt()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_o(t,o)));break;case 22:c=t.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,N=Hn,k=lt;if(Hn=N||c,lt=k||E,Dt(n,t),lt=k,Hn=N,Mt(t),o&8192)e:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||E||Hn||lt||hs(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){E=r=n;try{if(h=E.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{y=E.stateNode;var P=E.memoizedProps.style,O=P!=null&&P.hasOwnProperty("display")?P.display:null;y.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(Q){De(E,E.return,Q)}}}else if(n.tag===6){if(r===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(Q){De(E,E.return,Q)}}}else if(n.tag===18){if(r===null){E=n;try{var L=E.stateNode;c?Q_(L,!0):Q_(E.stateNode,!1)}catch(Q){De(E,E.return,Q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,_o(t,r))));break;case 19:Dt(n,t),Mt(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,_o(t,o)));break;case 30:break;case 21:break;default:Dt(n,t),Mt(t)}}function Mt(t){var n=t.flags;if(n&2){try{for(var r,o=t.return;o!==null;){if($g(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,h=kf(t);go(t,h,c);break;case 5:var g=r.stateNode;r.flags&32&&(Us(g,""),r.flags&=-33);var y=kf(t);go(t,y,g);break;case 3:case 4:var E=r.stateNode.containerInfo,N=kf(t);Uf(t,N,E);break;default:throw Error(a(161))}}catch(k){De(t,t.return,k)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function r_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;r_(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function jn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)e_(t,n.alternate,n),n=n.sibling}function hs(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:gi(4,n,n.return),hs(n);break;case 1:En(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Qg(n,n.return,r),hs(n);break;case 27:Mr(n.stateNode);case 26:case 5:En(n,n.return),hs(n);break;case 22:n.memoizedState===null&&hs(n);break;case 30:hs(n);break;default:hs(n)}t=t.sibling}}function Vn(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:Vn(c,h,r),Sr(4,h);break;case 1:if(Vn(c,h,r),o=h,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(N){De(o,o.return,N)}if(o=h,c=o.updateQueue,c!==null){var y=o.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)zp(E[c],y)}catch(N){De(o,o.return,N)}}r&&g&64&&Xg(h),Cr(h,h.return);break;case 27:Zg(h);case 26:case 5:Vn(c,h,r),r&&o===null&&g&4&&Kg(h),Cr(h,h.return);break;case 12:Vn(c,h,r);break;case 31:Vn(c,h,r),r&&g&4&&i_(c,h);break;case 13:Vn(c,h,r),r&&g&4&&s_(c,h);break;case 22:h.memoizedState===null&&Vn(c,h,r),Cr(h,h.return);break;case 30:break;default:Vn(c,h,r)}n=n.sibling}}function Pf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ur(r))}function Hf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ur(t))}function fn(t,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)l_(t,n,r,o),n=n.sibling}function l_(t,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:fn(t,n,r,o),c&2048&&Sr(9,n);break;case 1:fn(t,n,r,o);break;case 3:fn(t,n,r,o),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ur(t)));break;case 12:if(c&2048){fn(t,n,r,o),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,y=h.onPostCommit;typeof y=="function"&&y(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){De(n,n.return,E)}}else fn(t,n,r,o);break;case 31:fn(t,n,r,o);break;case 13:fn(t,n,r,o);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?fn(t,n,r,o):Tr(t,n):h._visibility&2?fn(t,n,r,o):(h._visibility|=2,na(t,n,r,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Pf(g,n);break;case 24:fn(t,n,r,o),c&2048&&Hf(n.alternate,n);break;default:fn(t,n,r,o)}}function na(t,n,r,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,y=r,E=o,N=g.flags;switch(g.tag){case 0:case 11:case 15:na(h,g,y,E,c),Sr(8,g);break;case 23:break;case 22:var k=g.stateNode;g.memoizedState!==null?k._visibility&2?na(h,g,y,E,c):Tr(h,g):(k._visibility|=2,na(h,g,y,E,c)),c&&N&2048&&Pf(g.alternate,g);break;case 24:na(h,g,y,E,c),c&&N&2048&&Hf(g.alternate,g);break;default:na(h,g,y,E,c)}n=n.sibling}}function Tr(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,o=n,c=o.flags;switch(o.tag){case 22:Tr(r,o),c&2048&&Pf(o.alternate,o);break;case 24:Tr(r,o),c&2048&&Hf(o.alternate,o);break;default:Tr(r,o)}n=n.sibling}}var wr=8192;function ia(t,n,r){if(t.subtreeFlags&wr)for(t=t.child;t!==null;)o_(t,n,r),t=t.sibling}function o_(t,n,r){switch(t.tag){case 26:ia(t,n,r),t.flags&wr&&t.memoizedState!==null&&nT(r,cn,t.memoizedState,t.memoizedProps);break;case 5:ia(t,n,r);break;case 3:case 4:var o=cn;cn=Do(t.stateNode.containerInfo),ia(t,n,r),cn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=wr,wr=16777216,ia(t,n,r),wr=o):ia(t,n,r));break;default:ia(t,n,r)}}function u_(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function xr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ht=o,f_(o,t)}u_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 0:case 11:case 15:xr(t),t.flags&2048&&gi(9,t,t.return);break;case 3:xr(t);break;case 12:xr(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vo(t)):xr(t);break;default:xr(t)}}function vo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];ht=o,f_(o,t)}u_(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:gi(8,n,n.return),vo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,vo(n));break;default:vo(n)}t=t.sibling}}function f_(t,n){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:gi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ur(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,ht=o;else e:for(r=t;ht!==null;){o=ht;var c=o.sibling,h=o.return;if(t_(o),o===r){ht=null;break e}if(c!==null){c.return=h,ht=c;break e}ht=h}}}var _C={getCacheForType:function(t){var n=yt(st),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r},cacheSignal:function(){return yt(st).controller.signal}},vC=typeof WeakMap=="function"?WeakMap:Map,Re=0,Pe=null,he=null,ge=0,Oe=0,Yt=null,_i=!1,sa=!1,Bf=!1,qn=0,$e=0,vi=0,ds=0,jf=0,Ft=0,aa=0,Rr=null,It=null,Vf=!1,yo=0,h_=0,bo=1/0,Eo=null,yi=null,ot=0,bi=null,ra=null,Gn=0,qf=0,Gf=null,d_=null,Ar=0,Yf=null;function Wt(){return(Re&2)!==0&&ge!==0?ge&-ge:M.T!==null?$f():Nm()}function m_(){if(Ft===0)if((ge&536870912)===0||ye){var t=Al;Al<<=1,(Al&3932160)===0&&(Al=262144),Ft=t}else Ft=536870912;return t=qt.current,t!==null&&(t.flags|=32),Ft}function Lt(t,n,r){(t===Pe&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)&&(la(t,0),Ei(t,ge,Ft,!1)),Qa(t,r),((Re&2)===0||t!==Pe)&&(t===Pe&&((Re&2)===0&&(ds|=r),$e===4&&Ei(t,ge,Ft,!1)),Sn(t))}function p_(t,n,r){if((Re&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&t.expiredLanes)===0||Xa(t,n),c=o?EC(t,n):Wf(t,n,!0),h=o;do{if(c===0){sa&&!o&&Ei(t,n,0,!1);break}else{if(r=t.current.alternate,h&&!yC(r)){c=Wf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;e:{var y=t;c=Rr;var E=y.current.memoizedState.isDehydrated;if(E&&(la(y,g).flags|=256),g=Wf(y,g,!1),g!==2){if(Bf&&!E){y.errorRecoveryDisabledLanes|=h,ds|=h,c=4;break e}h=It,It=c,h!==null&&(It===null?It=h:It.push.apply(It,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){la(t,0),Ei(t,n,0,!0);break}e:{switch(o=t,h=c,h){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ei(o,n,Ft,!_i);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=yo+300-Pt(),10<c)){if(Ei(o,n,Ft,!_i),Ol(o,0,!0)!==0)break e;Gn=n,o.timeoutHandle=F_(g_.bind(null,o,r,It,Eo,Vf,n,Ft,ds,aa,_i,h,"Throttled",-0,0),c);break e}g_(o,r,It,Eo,Vf,n,Ft,ds,aa,_i,h,null,-0,0)}}break}while(!0);Sn(t)}function g_(t,n,r,o,c,h,g,y,E,N,k,P,O,L){if(t.timeoutHandle=-1,P=n.subtreeFlags,P&8192||(P&16785408)===16785408){P={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},o_(n,h,P);var Q=(h&62914560)===h?yo-Pt():(h&4194048)===h?h_-Pt():0;if(Q=iT(P,Q),Q!==null){Gn=h,t.cancelPendingCommit=Q(T_.bind(null,t,n,h,r,o,c,g,y,E,k,P,null,O,L)),Ei(t,h,g,!N);return}}T_(t,n,h,r,o,c,g,y,E)}function yC(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],h=c.getSnapshot;c=c.value;try{if(!jt(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ei(t,n,r,o){n&=~jf,n&=~ds,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var c=n;0<c;){var h=31-Bt(c),g=1<<h;o[h]=-1,c&=~g}r!==0&&xm(t,r,n)}function So(){return(Re&6)===0?(Nr(0),!1):!0}function Ff(){if(he!==null){if(Oe===0)var t=he.return;else t=he,In=ss=null,of(t),$s=null,fr=0,t=he;for(;t!==null;)Wg(t.alternate,t),t=t.return;he=null}}function la(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,HC(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Gn=0,Ff(),Pe=t,he=r=Dn(t.current,null),ge=n,Oe=0,Yt=null,_i=!1,sa=Xa(t,n),Bf=!1,aa=Ft=jf=ds=vi=$e=0,It=Rr=null,Vf=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var c=31-Bt(o),h=1<<c;n|=t[c],o&=~h}return qn=n,Vl(),r}function __(t,n){se=null,M.H=yr,n===Ks||n===Kl?(n=Ip(),Oe=3):n===Qc?(n=Ip(),Oe=4):Oe=n===Tf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Yt=n,he===null&&($e=1,co(t,Zt(n,t.current)))}function v_(){var t=qt.current;return t===null?!0:(ge&4194048)===ge?nn===null:(ge&62914560)===ge||(ge&536870912)!==0?t===nn:!1}function y_(){var t=M.H;return M.H=yr,t===null?yr:t}function b_(){var t=M.A;return M.A=_C,t}function Co(){$e=4,_i||(ge&4194048)!==ge&&qt.current!==null||(sa=!0),(vi&134217727)===0&&(ds&134217727)===0||Pe===null||Ei(Pe,ge,Ft,!1)}function Wf(t,n,r){var o=Re;Re|=2;var c=y_(),h=b_();(Pe!==t||ge!==n)&&(Eo=null,la(t,n)),n=!1;var g=$e;e:do try{if(Oe!==0&&he!==null){var y=he,E=Yt;switch(Oe){case 8:Ff(),g=6;break e;case 3:case 2:case 9:case 6:qt.current===null&&(n=!0);var N=Oe;if(Oe=0,Yt=null,oa(t,y,E,N),r&&sa){g=0;break e}break;default:N=Oe,Oe=0,Yt=null,oa(t,y,E,N)}}bC(),g=$e;break}catch(k){__(t,k)}while(!0);return n&&t.shellSuspendCounter++,In=ss=null,Re=o,M.H=c,M.A=h,he===null&&(Pe=null,ge=0,Vl()),g}function bC(){for(;he!==null;)E_(he)}function EC(t,n){var r=Re;Re|=2;var o=y_(),c=b_();Pe!==t||ge!==n?(Eo=null,bo=Pt()+500,la(t,n)):sa=Xa(t,n);e:do try{if(Oe!==0&&he!==null){n=he;var h=Yt;t:switch(Oe){case 1:Oe=0,Yt=null,oa(t,n,h,1);break;case 2:case 9:if(Dp(h)){Oe=0,Yt=null,S_(n);break}n=function(){Oe!==2&&Oe!==9||Pe!==t||(Oe=7),Sn(t)},h.then(n,n);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:Dp(h)?(Oe=0,Yt=null,S_(n)):(Oe=0,Yt=null,oa(t,n,h,7));break;case 5:var g=null;switch(he.tag){case 26:g=he.memoizedState;case 5:case 27:var y=he;if(g?lv(g):y.stateNode.complete){Oe=0,Yt=null;var E=y.sibling;if(E!==null)he=E;else{var N=y.return;N!==null?(he=N,To(N)):he=null}break t}}Oe=0,Yt=null,oa(t,n,h,5);break;case 6:Oe=0,Yt=null,oa(t,n,h,6);break;case 8:Ff(),$e=6;break e;default:throw Error(a(462))}}SC();break}catch(k){__(t,k)}while(!0);return In=ss=null,M.H=o,M.A=c,Re=r,he!==null?0:(Pe=null,ge=0,Vl(),$e)}function SC(){for(;he!==null&&!YE();)E_(he)}function E_(t){var n=Yg(t.alternate,t,qn);t.memoizedProps=t.pendingProps,n===null?To(t):he=n}function S_(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Hg(r,n,n.pendingProps,n.type,void 0,ge);break;case 11:n=Hg(r,n,n.pendingProps,n.type.render,n.ref,ge);break;case 5:of(n);default:Wg(r,n),n=he=bp(n,qn),n=Yg(r,n,qn)}t.memoizedProps=t.pendingProps,n===null?To(t):he=n}function oa(t,n,r,o){In=ss=null,of(n),$s=null,fr=0;var c=n.return;try{if(cC(t,c,n,r,ge)){$e=1,co(t,Zt(r,t.current)),he=null;return}}catch(h){if(c!==null)throw he=c,h;$e=1,co(t,Zt(r,t.current)),he=null;return}n.flags&32768?(ye||o===1?t=!0:sa||(ge&536870912)!==0?t=!1:(_i=t=!0,(o===2||o===9||o===3||o===6)&&(o=qt.current,o!==null&&o.tag===13&&(o.flags|=16384))),C_(n,t)):To(n)}function To(t){var n=t;do{if((n.flags&32768)!==0){C_(n,_i);return}t=n.return;var r=dC(n.alternate,n,qn);if(r!==null){he=r;return}if(n=n.sibling,n!==null){he=n;return}he=n=t}while(n!==null);$e===0&&($e=5)}function C_(t,n){do{var r=mC(t.alternate,t);if(r!==null){r.flags&=32767,he=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){he=t;return}he=t=r}while(t!==null);$e=6,he=null}function T_(t,n,r,o,c,h,g,y,E){t.cancelPendingCommit=null;do wo();while(ot!==0);if((Re&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(h=n.lanes|n.childLanes,h|=Lc,tS(t,r,h,g,y,E),t===Pe&&(he=Pe=null,ge=0),ra=n,bi=t,Gn=r,qf=h,Gf=c,d_=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,xC(xl,function(){return N_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=M.T,M.T=null,c=V.p,V.p=2,g=Re,Re|=4;try{pC(t,n,r)}finally{Re=g,V.p=c,M.T=o}}ot=1,w_(),x_(),R_()}}function w_(){if(ot===1){ot=0;var t=bi,n=ra,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=M.T,M.T=null;var o=V.p;V.p=2;var c=Re;Re|=4;try{a_(n,t);var h=ah,g=fp(t.containerInfo),y=h.focusedElem,E=h.selectionRange;if(g!==y&&y&&y.ownerDocument&&cp(y.ownerDocument.documentElement,y)){if(E!==null&&Nc(y)){var N=E.start,k=E.end;if(k===void 0&&(k=N),"selectionStart"in y)y.selectionStart=N,y.selectionEnd=Math.min(k,y.value.length);else{var P=y.ownerDocument||document,O=P&&P.defaultView||window;if(O.getSelection){var L=O.getSelection(),Q=y.textContent.length,Z=Math.min(E.start,Q),Ue=E.end===void 0?Z:Math.min(E.end,Q);!L.extend&&Z>Ue&&(g=Ue,Ue=Z,Z=g);var w=up(y,Z),C=up(y,Ue);if(w&&C&&(L.rangeCount!==1||L.anchorNode!==w.node||L.anchorOffset!==w.offset||L.focusNode!==C.node||L.focusOffset!==C.offset)){var A=P.createRange();A.setStart(w.node,w.offset),L.removeAllRanges(),Z>Ue?(L.addRange(A),L.extend(C.node,C.offset)):(A.setEnd(C.node,C.offset),L.addRange(A))}}}}for(P=[],L=y;L=L.parentNode;)L.nodeType===1&&P.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<P.length;y++){var U=P[y];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}zo=!!sh,ah=sh=null}finally{Re=c,V.p=o,M.T=r}}t.current=n,ot=2}}function x_(){if(ot===2){ot=0;var t=bi,n=ra,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=M.T,M.T=null;var o=V.p;V.p=2;var c=Re;Re|=4;try{e_(t,n.alternate,n)}finally{Re=c,V.p=o,M.T=r}}ot=3}}function R_(){if(ot===4||ot===3){ot=0,FE();var t=bi,n=ra,r=Gn,o=d_;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ot=5:(ot=0,ra=bi=null,A_(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(yi=null),cc(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Wa,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=M.T,c=V.p,V.p=2,M.T=null;try{for(var h=t.onRecoverableError,g=0;g<o.length;g++){var y=o[g];h(y.value,{componentStack:y.stack})}}finally{M.T=n,V.p=c}}(Gn&3)!==0&&wo(),Sn(t),c=t.pendingLanes,(r&261930)!==0&&(c&42)!==0?t===Yf?Ar++:(Ar=0,Yf=t):Ar=0,Nr(0)}}function A_(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ur(n)))}function wo(){return w_(),x_(),R_(),N_()}function N_(){if(ot!==5)return!1;var t=bi,n=qf;qf=0;var r=cc(Gn),o=M.T,c=V.p;try{V.p=32>r?32:r,M.T=null,r=Gf,Gf=null;var h=bi,g=Gn;if(ot=0,ra=bi=null,Gn=0,(Re&6)!==0)throw Error(a(331));var y=Re;if(Re|=4,c_(h.current),l_(h,h.current,g,r),Re=y,Nr(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Wa,h)}catch{}return!0}finally{V.p=c,M.T=o,A_(t,n)}}function O_(t,n,r){n=Zt(r,n),n=Cf(t.stateNode,n,2),t=di(t,n,2),t!==null&&(Qa(t,2),Sn(t))}function De(t,n,r){if(t.tag===3)O_(t,t,r);else for(;n!==null;){if(n.tag===3){O_(n,t,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(yi===null||!yi.has(o))){t=Zt(r,t),r=Dg(2),o=di(n,r,2),o!==null&&(Mg(r,o,n,t),Qa(o,2),Sn(o));break}}n=n.return}}function Xf(t,n,r){var o=t.pingCache;if(o===null){o=t.pingCache=new vC;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(Bf=!0,c.add(r),t=CC.bind(null,t,n,r),n.then(t,t))}function CC(t,n,r){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Pe===t&&(ge&r)===r&&($e===4||$e===3&&(ge&62914560)===ge&&300>Pt()-yo?(Re&2)===0&&la(t,0):jf|=r,aa===ge&&(aa=0)),Sn(t)}function D_(t,n){n===0&&(n=wm()),t=ts(t,n),t!==null&&(Qa(t,n),Sn(t))}function TC(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),D_(t,r)}function wC(t,n){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),D_(t,r)}function xC(t,n){return rc(t,n)}var xo=null,ua=null,Qf=!1,Ro=!1,Kf=!1,Si=0;function Sn(t){t!==ua&&t.next===null&&(ua===null?xo=ua=t:ua=ua.next=t),Ro=!0,Qf||(Qf=!0,AC())}function Nr(t,n){if(!Kf&&Ro){Kf=!0;do for(var r=!1,o=xo;o!==null;){if(t!==0){var c=o.pendingLanes;if(c===0)var h=0;else{var g=o.suspendedLanes,y=o.pingedLanes;h=(1<<31-Bt(42|t)+1)-1,h&=c&~(g&~y),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,k_(o,h))}else h=ge,h=Ol(o,o===Pe?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Xa(o,h)||(r=!0,k_(o,h));o=o.next}while(r);Kf=!1}}function RC(){M_()}function M_(){Ro=Qf=!1;var t=0;Si!==0&&PC()&&(t=Si);for(var n=Pt(),r=null,o=xo;o!==null;){var c=o.next,h=I_(o,n);h===0?(o.next=null,r===null?xo=c:r.next=c,c===null&&(ua=r)):(r=o,(t!==0||(h&3)!==0)&&(Ro=!0)),o=c}ot!==0&&ot!==5||Nr(t),Si!==0&&(Si=0)}function I_(t,n){for(var r=t.suspendedLanes,o=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Bt(h),y=1<<g,E=c[g];E===-1?((y&r)===0||(y&o)!==0)&&(c[g]=eS(y,n)):E<=n&&(t.expiredLanes|=y),h&=~y}if(n=Pe,r=ge,r=Ol(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===n&&(Oe===2||Oe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&lc(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Xa(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(o!==null&&lc(o),cc(r)){case 2:case 8:r=Cm;break;case 32:r=xl;break;case 268435456:r=Tm;break;default:r=xl}return o=L_.bind(null,t),r=rc(r,o),t.callbackPriority=n,t.callbackNode=r,n}return o!==null&&o!==null&&lc(o),t.callbackPriority=2,t.callbackNode=null,2}function L_(t,n){if(ot!==0&&ot!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(wo()&&t.callbackNode!==r)return null;var o=ge;return o=Ol(t,t===Pe?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(p_(t,o,n),I_(t,Pt()),t.callbackNode!=null&&t.callbackNode===r?L_.bind(null,t):null)}function k_(t,n){if(wo())return null;p_(t,n,!0)}function AC(){BC(function(){(Re&6)!==0?rc(Sm,RC):M_()})}function $f(){if(Si===0){var t=Xs;t===0&&(t=Rl,Rl<<=1,(Rl&261888)===0&&(Rl=256)),Si=t}return Si}function U_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ll(""+t)}function z_(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function NC(t,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var h=U_((c[At]||null).action),g=o.submitter;g&&(n=(n=g[At]||null)?U_(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var y=new Pl("action","action",null,o,c);t.push({event:y,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Si!==0){var E=g?z_(c,g):new FormData(c);_f(r,{pending:!0,data:E,method:c.method,action:h},null,E)}}else typeof h=="function"&&(y.preventDefault(),E=g?z_(c,g):new FormData(c),_f(r,{pending:!0,data:E,method:c.method,action:h},h,E))},currentTarget:c}]})}}for(var Zf=0;Zf<Ic.length;Zf++){var Jf=Ic[Zf],OC=Jf.toLowerCase(),DC=Jf[0].toUpperCase()+Jf.slice(1);un(OC,"on"+DC)}un(mp,"onAnimationEnd"),un(pp,"onAnimationIteration"),un(gp,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(WS,"onTransitionRun"),un(XS,"onTransitionStart"),un(QS,"onTransitionCancel"),un(_p,"onTransitionEnd"),Ls("onMouseEnter",["mouseout","mouseover"]),Ls("onMouseLeave",["mouseout","mouseover"]),Ls("onPointerEnter",["pointerout","pointerover"]),Ls("onPointerLeave",["pointerout","pointerover"]),$i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$i("onBeforeInput",["compositionend","keypress","textInput","paste"]),$i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Or));function P_(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],c=o.event;o=o.listeners;e:{var h=void 0;if(n)for(var g=o.length-1;0<=g;g--){var y=o[g],E=y.instance,N=y.currentTarget;if(y=y.listener,E!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=N;try{h(c)}catch(k){jl(k)}c.currentTarget=null,h=E}else for(g=0;g<o.length;g++){if(y=o[g],E=y.instance,N=y.currentTarget,y=y.listener,E!==h&&c.isPropagationStopped())break e;h=y,c.currentTarget=N;try{h(c)}catch(k){jl(k)}c.currentTarget=null,h=E}}}}function de(t,n){var r=n[fc];r===void 0&&(r=n[fc]=new Set);var o=t+"__bubble";r.has(o)||(H_(n,t,2,!1),r.add(o))}function eh(t,n,r){var o=0;n&&(o|=4),H_(r,t,o,n)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function th(t){if(!t[Ao]){t[Ao]=!0,Mm.forEach(function(r){r!=="selectionchange"&&(MC.has(r)||eh(r,!1,t),eh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ao]||(n[Ao]=!0,eh("selectionchange",!1,n))}}function H_(t,n,r,o){switch(mv(n)){case 2:var c=rT;break;case 8:c=lT;break;default:c=gh}r=c.bind(null,n,r,t),c=void 0,!bc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function nh(t,n,r,o,c){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var y=o.stateNode.containerInfo;if(y===c)break;if(g===4)for(g=o.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;y!==null;){if(g=Ds(y),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){o=h=g;continue e}y=y.parentNode}}o=o.return}Gm(function(){var N=h,k=vc(r),P=[];e:{var O=vp.get(t);if(O!==void 0){var L=Pl,Q=t;switch(t){case"keypress":if(Ul(r)===0)break e;case"keydown":case"keyup":L=wS;break;case"focusin":Q="focus",L=Tc;break;case"focusout":Q="blur",L=Tc;break;case"beforeblur":case"afterblur":L=Tc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Wm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=dS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=AS;break;case mp:case pp:case gp:L=gS;break;case _p:L=OS;break;case"scroll":case"scrollend":L=fS;break;case"wheel":L=MS;break;case"copy":case"cut":case"paste":L=vS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Qm;break;case"toggle":case"beforetoggle":L=LS}var Z=(n&4)!==0,Ue=!Z&&(t==="scroll"||t==="scrollend"),w=Z?O!==null?O+"Capture":null:O;Z=[];for(var C=N,A;C!==null;){var U=C;if(A=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||A===null||w===null||(U=Za(C,w),U!=null&&Z.push(Dr(C,U,A))),Ue)break;C=C.return}0<Z.length&&(O=new L(O,Q,null,r,k),P.push({event:O,listeners:Z}))}}if((n&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",O&&r!==_c&&(Q=r.relatedTarget||r.fromElement)&&(Ds(Q)||Q[Os]))break e;if((L||O)&&(O=k.window===k?k:(O=k.ownerDocument)?O.defaultView||O.parentWindow:window,L?(Q=r.relatedTarget||r.toElement,L=N,Q=Q?Ds(Q):null,Q!==null&&(Ue=u(Q),Z=Q.tag,Q!==Ue||Z!==5&&Z!==27&&Z!==6)&&(Q=null)):(L=null,Q=N),L!==Q)){if(Z=Wm,U="onMouseLeave",w="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(Z=Qm,U="onPointerLeave",w="onPointerEnter",C="pointer"),Ue=L==null?O:$a(L),A=Q==null?O:$a(Q),O=new Z(U,C+"leave",L,r,k),O.target=Ue,O.relatedTarget=A,U=null,Ds(k)===N&&(Z=new Z(w,C+"enter",Q,r,k),Z.target=A,Z.relatedTarget=Ue,U=Z),Ue=U,L&&Q)t:{for(Z=IC,w=L,C=Q,A=0,U=w;U;U=Z(U))A++;U=0;for(var $=C;$;$=Z($))U++;for(;0<A-U;)w=Z(w),A--;for(;0<U-A;)C=Z(C),U--;for(;A--;){if(w===C||C!==null&&w===C.alternate){Z=w;break t}w=Z(w),C=Z(C)}Z=null}else Z=null;L!==null&&B_(P,O,L,Z,!1),Q!==null&&Ue!==null&&B_(P,Ue,Q,Z,!0)}}e:{if(O=N?$a(N):window,L=O.nodeName&&O.nodeName.toLowerCase(),L==="select"||L==="input"&&O.type==="file")var Te=ip;else if(tp(O))if(sp)Te=GS;else{Te=VS;var K=jS}else L=O.nodeName,!L||L.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?N&&gc(N.elementType)&&(Te=ip):Te=qS;if(Te&&(Te=Te(t,N))){np(P,Te,r,k);break e}K&&K(t,O,N),t==="focusout"&&N&&O.type==="number"&&N.memoizedProps.value!=null&&pc(O,"number",O.value)}switch(K=N?$a(N):window,t){case"focusin":(tp(K)||K.contentEditable==="true")&&(Bs=K,Oc=N,rr=null);break;case"focusout":rr=Oc=Bs=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,hp(P,r,k);break;case"selectionchange":if(FS)break;case"keydown":case"keyup":hp(P,r,k)}var ae;if(xc)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Hs?Jm(t,r)&&(_e="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_e="onCompositionStart");_e&&(Km&&r.locale!=="ko"&&(Hs||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Hs&&(ae=Ym()):(ri=k,Ec="value"in ri?ri.value:ri.textContent,Hs=!0)),K=No(N,_e),0<K.length&&(_e=new Xm(_e,t,null,r,k),P.push({event:_e,listeners:K}),ae?_e.data=ae:(ae=ep(r),ae!==null&&(_e.data=ae)))),(ae=US?zS(t,r):PS(t,r))&&(_e=No(N,"onBeforeInput"),0<_e.length&&(K=new Xm("onBeforeInput","beforeinput",null,r,k),P.push({event:K,listeners:_e}),K.data=ae)),NC(P,t,N,r,k)}P_(P,n)})}function Dr(t,n,r){return{instance:t,listener:n,currentTarget:r}}function No(t,n){for(var r=n+"Capture",o=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Za(t,r),c!=null&&o.unshift(Dr(t,c,h)),c=Za(t,n),c!=null&&o.push(Dr(t,c,h))),t.tag===3)return o;t=t.return}return[]}function IC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function B_(t,n,r,o,c){for(var h=n._reactName,g=[];r!==null&&r!==o;){var y=r,E=y.alternate,N=y.stateNode;if(y=y.tag,E!==null&&E===o)break;y!==5&&y!==26&&y!==27||N===null||(E=N,c?(N=Za(r,h),N!=null&&g.unshift(Dr(r,N,E))):c||(N=Za(r,h),N!=null&&g.push(Dr(r,N,E)))),r=r.return}g.length!==0&&t.push({event:n,listeners:g})}var LC=/\r\n?/g,kC=/\u0000|\uFFFD/g;function j_(t){return(typeof t=="string"?t:""+t).replace(LC,`
`).replace(kC,"")}function V_(t,n){return n=j_(n),j_(t)===n}function ke(t,n,r,o,c,h){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Us(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Us(t,""+o);break;case"className":Ml(t,"class",o);break;case"tabIndex":Ml(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ml(t,r,o);break;case"style":Vm(t,o,h);break;case"data":if(n!=="object"){Ml(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Ll(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&ke(t,n,"name",c.name,c,null),ke(t,n,"formEncType",c.formEncType,c,null),ke(t,n,"formMethod",c.formMethod,c,null),ke(t,n,"formTarget",c.formTarget,c,null)):(ke(t,n,"encType",c.encType,c,null),ke(t,n,"method",c.method,c,null),ke(t,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Ll(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=Nn);break;case"onScroll":o!=null&&de("scroll",t);break;case"onScrollEnd":o!=null&&de("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Ll(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":de("beforetoggle",t),de("toggle",t),Dl(t,"popover",o);break;case"xlinkActuate":An(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":An(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":An(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":An(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":An(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":An(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":An(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":An(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":An(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Dl(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=uS.get(r)||r,Dl(t,r,o))}}function ih(t,n,r,o,c,h){switch(r){case"style":Vm(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Us(t,o):(typeof o=="number"||typeof o=="bigint")&&Us(t,""+o);break;case"onScroll":o!=null&&de("scroll",t);break;case"onScrollEnd":o!=null&&de("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Im.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[At]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof o=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,o,c);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Dl(t,r,o)}}}function Et(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":de("error",t),de("load",t);var o=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var g=r[h];if(g!=null)switch(h){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ke(t,n,h,g,r,null)}}c&&ke(t,n,"srcSet",r.srcSet,r,null),o&&ke(t,n,"src",r.src,r,null);return;case"input":de("invalid",t);var y=h=g=c=null,E=null,N=null;for(o in r)if(r.hasOwnProperty(o)){var k=r[o];if(k!=null)switch(o){case"name":c=k;break;case"type":g=k;break;case"checked":E=k;break;case"defaultChecked":N=k;break;case"value":h=k;break;case"defaultValue":y=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:ke(t,n,o,k,r,null)}}Pm(t,h,y,E,N,g,c,!1);return;case"select":de("invalid",t),o=g=h=null;for(c in r)if(r.hasOwnProperty(c)&&(y=r[c],y!=null))switch(c){case"value":h=y;break;case"defaultValue":g=y;break;case"multiple":o=y;default:ke(t,n,c,y,r,null)}n=h,r=g,t.multiple=!!o,n!=null?ks(t,!!o,n,!1):r!=null&&ks(t,!!o,r,!0);return;case"textarea":de("invalid",t),h=c=o=null;for(g in r)if(r.hasOwnProperty(g)&&(y=r[g],y!=null))switch(g){case"value":o=y;break;case"defaultValue":c=y;break;case"children":h=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(a(91));break;default:ke(t,n,g,y,r,null)}Bm(t,o,c,h);return;case"option":for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null)&&(E==="selected"?t.selected=o&&typeof o!="function"&&typeof o!="symbol":ke(t,n,E,o,r,null));return;case"dialog":de("beforetoggle",t),de("toggle",t),de("cancel",t),de("close",t);break;case"iframe":case"object":de("load",t);break;case"video":case"audio":for(o=0;o<Or.length;o++)de(Or[o],t);break;case"image":de("error",t),de("load",t);break;case"details":de("toggle",t);break;case"embed":case"source":case"link":de("error",t),de("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(N in r)if(r.hasOwnProperty(N)&&(o=r[N],o!=null))switch(N){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ke(t,n,N,o,r,null)}return;default:if(gc(n)){for(k in r)r.hasOwnProperty(k)&&(o=r[k],o!==void 0&&ih(t,n,k,o,r,void 0));return}}for(y in r)r.hasOwnProperty(y)&&(o=r[y],o!=null&&ke(t,n,y,o,r,null))}function UC(t,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,y=null,E=null,N=null,k=null;for(L in r){var P=r[L];if(r.hasOwnProperty(L)&&P!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":E=P;default:o.hasOwnProperty(L)||ke(t,n,L,null,o,P)}}for(var O in o){var L=o[O];if(P=r[O],o.hasOwnProperty(O)&&(L!=null||P!=null))switch(O){case"type":h=L;break;case"name":c=L;break;case"checked":N=L;break;case"defaultChecked":k=L;break;case"value":g=L;break;case"defaultValue":y=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(137,n));break;default:L!==P&&ke(t,n,O,L,o,P)}}mc(t,g,y,E,N,k,h,c);return;case"select":L=g=y=O=null;for(h in r)if(E=r[h],r.hasOwnProperty(h)&&E!=null)switch(h){case"value":break;case"multiple":L=E;default:o.hasOwnProperty(h)||ke(t,n,h,null,o,E)}for(c in o)if(h=o[c],E=r[c],o.hasOwnProperty(c)&&(h!=null||E!=null))switch(c){case"value":O=h;break;case"defaultValue":y=h;break;case"multiple":g=h;default:h!==E&&ke(t,n,c,h,o,E)}n=y,r=g,o=L,O!=null?ks(t,!!r,O,!1):!!o!=!!r&&(n!=null?ks(t,!!r,n,!0):ks(t,!!r,r?[]:"",!1));return;case"textarea":L=O=null;for(y in r)if(c=r[y],r.hasOwnProperty(y)&&c!=null&&!o.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:ke(t,n,y,null,o,c)}for(g in o)if(c=o[g],h=r[g],o.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":O=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&ke(t,n,g,c,o,h)}Hm(t,O,L);return;case"option":for(var Q in r)O=r[Q],r.hasOwnProperty(Q)&&O!=null&&!o.hasOwnProperty(Q)&&(Q==="selected"?t.selected=!1:ke(t,n,Q,null,o,O));for(E in o)O=o[E],L=r[E],o.hasOwnProperty(E)&&O!==L&&(O!=null||L!=null)&&(E==="selected"?t.selected=O&&typeof O!="function"&&typeof O!="symbol":ke(t,n,E,O,o,L));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Z in r)O=r[Z],r.hasOwnProperty(Z)&&O!=null&&!o.hasOwnProperty(Z)&&ke(t,n,Z,null,o,O);for(N in o)if(O=o[N],L=r[N],o.hasOwnProperty(N)&&O!==L&&(O!=null||L!=null))switch(N){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:ke(t,n,N,O,o,L)}return;default:if(gc(n)){for(var Ue in r)O=r[Ue],r.hasOwnProperty(Ue)&&O!==void 0&&!o.hasOwnProperty(Ue)&&ih(t,n,Ue,void 0,o,O);for(k in o)O=o[k],L=r[k],!o.hasOwnProperty(k)||O===L||O===void 0&&L===void 0||ih(t,n,k,O,o,L);return}}for(var w in r)O=r[w],r.hasOwnProperty(w)&&O!=null&&!o.hasOwnProperty(w)&&ke(t,n,w,null,o,O);for(P in o)O=o[P],L=r[P],!o.hasOwnProperty(P)||O===L||O==null&&L==null||ke(t,n,P,O,o,L)}function q_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var c=r[o],h=c.transferSize,g=c.initiatorType,y=c.duration;if(h&&y&&q_(g)){for(g=0,y=c.responseEnd,o+=1;o<r.length;o++){var E=r[o],N=E.startTime;if(N>y)break;var k=E.transferSize,P=E.initiatorType;k&&q_(P)&&(E=E.responseEnd,g+=k*(E<y?1:(y-N)/(E-N)))}if(--o,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sh=null,ah=null;function Oo(t){return t.nodeType===9?t:t.ownerDocument}function G_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y_(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var lh=null;function PC(){var t=window.event;return t&&t.type==="popstate"?t===lh?!1:(lh=t,!0):(lh=null,!1)}var F_=typeof setTimeout=="function"?setTimeout:void 0,HC=typeof clearTimeout=="function"?clearTimeout:void 0,W_=typeof Promise=="function"?Promise:void 0,BC=typeof queueMicrotask=="function"?queueMicrotask:typeof W_<"u"?function(t){return W_.resolve(null).then(t).catch(jC)}:F_;function jC(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function X_(t,n){var r=n,o=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(c),da(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Mr(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Mr(r);for(var h=r.firstChild;h;){var g=h.nextSibling,y=h.nodeName;h[Ka]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=g}}else r==="body"&&Mr(t.ownerDocument.body);r=c}while(r);da(n)}function Q_(t,n){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function oh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":oh(r),hc(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function VC(t,n,r,o){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ka])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=sn(t.nextSibling),t===null)break}return null}function qC(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=sn(t.nextSibling),t===null))return null;return t}function K_(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sn(t.nextSibling),t===null))return null;return t}function uh(t){return t.data==="$?"||t.data==="$~"}function ch(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GC(t,n){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function sn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var fh=null;function $_(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(n===0)return sn(t.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}t=t.nextSibling}return null}function Z_(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return t;n--}else r!=="/$"&&r!=="/&"||n++}t=t.previousSibling}return null}function J_(t,n,r){switch(n=Oo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Mr(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);hc(t)}var an=new Map,ev=new Set;function Do(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yn=V.d;V.d={f:YC,r:FC,D:WC,C:XC,L:QC,m:KC,X:ZC,S:$C,M:JC};function YC(){var t=Yn.f(),n=So();return t||n}function FC(t){var n=Ms(t);n!==null&&n.tag===5&&n.type==="form"?_g(n):Yn.r(t)}var ca=typeof document>"u"?null:document;function tv(t,n,r){var o=ca;if(o&&typeof n=="string"&&n){var c=Kt(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ev.has(c)||(ev.add(c),t={rel:t,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Et(n,"link",t),ft(n),o.head.appendChild(n)))}}function WC(t){Yn.D(t),tv("dns-prefetch",t,null)}function XC(t,n){Yn.C(t,n),tv("preconnect",t,n)}function QC(t,n,r){Yn.L(t,n,r);var o=ca;if(o&&t&&n){var c='link[rel="preload"][as="'+Kt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+Kt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+Kt(r.imageSizes)+'"]')):c+='[href="'+Kt(t)+'"]';var h=c;switch(n){case"style":h=fa(t);break;case"script":h=ha(t)}an.has(h)||(t=_({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),an.set(h,t),o.querySelector(c)!==null||n==="style"&&o.querySelector(Ir(h))||n==="script"&&o.querySelector(Lr(h))||(n=o.createElement("link"),Et(n,"link",t),ft(n),o.head.appendChild(n)))}}function KC(t,n){Yn.m(t,n);var r=ca;if(r&&t){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Kt(o)+'"][href="'+Kt(t)+'"]',h=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ha(t)}if(!an.has(h)&&(t=_({rel:"modulepreload",href:t},n),an.set(h,t),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Lr(h)))return}o=r.createElement("link"),Et(o,"link",t),ft(o),r.head.appendChild(o)}}}function $C(t,n,r){Yn.S(t,n,r);var o=ca;if(o&&t){var c=Is(o).hoistableStyles,h=fa(t);n=n||"default";var g=c.get(h);if(!g){var y={loading:0,preload:null};if(g=o.querySelector(Ir(h)))y.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":n},r),(r=an.get(h))&&hh(t,r);var E=g=o.createElement("link");ft(E),Et(E,"link",t),E._p=new Promise(function(N,k){E.onload=N,E.onerror=k}),E.addEventListener("load",function(){y.loading|=1}),E.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Mo(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:y},c.set(h,g)}}}function ZC(t,n){Yn.X(t,n);var r=ca;if(r&&t){var o=Is(r).hoistableScripts,c=ha(t),h=o.get(c);h||(h=r.querySelector(Lr(c)),h||(t=_({src:t,async:!0},n),(n=an.get(c))&&dh(t,n),h=r.createElement("script"),ft(h),Et(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function JC(t,n){Yn.M(t,n);var r=ca;if(r&&t){var o=Is(r).hoistableScripts,c=ha(t),h=o.get(c);h||(h=r.querySelector(Lr(c)),h||(t=_({src:t,async:!0,type:"module"},n),(n=an.get(c))&&dh(t,n),h=r.createElement("script"),ft(h),Et(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(c,h))}}function nv(t,n,r,o){var c=(c=fe.current)?Do(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=fa(r.href),r=Is(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=fa(r.href);var h=Is(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(Ir(t)))&&!h._p&&(g.instance=h,g.state.loading=5),an.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},an.set(t,r),h||eT(c,t,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ha(r),r=Is(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function fa(t){return'href="'+Kt(t)+'"'}function Ir(t){return'link[rel="stylesheet"]['+t+"]"}function iv(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function eT(t,n,r,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Et(n,"link",r),ft(n),t.head.appendChild(n))}function ha(t){return'[src="'+Kt(t)+'"]'}function Lr(t){return"script[async]"+t}function sv(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+Kt(r.href)+'"]');if(o)return n.instance=o,ft(o),o;var c=_({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ft(o),Et(o,"style",c),Mo(o,r.precedence,t),n.instance=o;case"stylesheet":c=fa(r.href);var h=t.querySelector(Ir(c));if(h)return n.state.loading|=4,n.instance=h,ft(h),h;o=iv(r),(c=an.get(c))&&hh(o,c),h=(t.ownerDocument||t).createElement("link"),ft(h);var g=h;return g._p=new Promise(function(y,E){g.onload=y,g.onerror=E}),Et(h,"link",o),n.state.loading|=4,Mo(h,r.precedence,t),n.instance=h;case"script":return h=ha(r.src),(c=t.querySelector(Lr(h)))?(n.instance=c,ft(c),c):(o=r,(c=an.get(h))&&(o=_({},r),dh(o,c)),t=t.ownerDocument||t,c=t.createElement("script"),ft(c),Et(c,"link",o),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Mo(o,r.precedence,t));return n.instance}function Mo(t,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,h=c,g=0;g<o.length;g++){var y=o[g];if(y.dataset.precedence===n)h=y;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function hh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function dh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Io=null;function av(t,n,r){if(Io===null){var o=new Map,c=Io=new Map;c.set(r,o)}else c=Io,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Ka]||h[_t]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var y=o.get(g);y?y.push(h):o.set(g,[h])}}return o}function rv(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function tT(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function lv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nT(t,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=fa(o.href),h=n.querySelector(Ir(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Lo.bind(t),n.then(t,t)),r.state.loading|=4,r.instance=h,ft(h);return}h=n.ownerDocument||n,o=iv(o),(c=an.get(c))&&hh(o,c),h=h.createElement("link"),ft(h);var g=h;g._p=new Promise(function(y,E){g.onload=y,g.onerror=E}),Et(h,"link",o),r.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Lo.bind(t),n.addEventListener("load",r),n.addEventListener("error",r))}}var mh=0;function iT(t,n){return t.stylesheets&&t.count===0&&Uo(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Uo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&mh===0&&(mh=62500*zC());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Uo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>mh?50:800)+n);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Lo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ko=null;function Uo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ko=new Map,n.forEach(sT,t),ko=null,Lo.call(t))}function sT(t,n){if(!(n.state.loading&4)){var r=ko.get(t);if(r)var o=r.get(null);else{r=new Map,ko.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}c=n.instance,g=c.getAttribute("data-precedence"),h=r.get(g)||o,h===o&&r.set(null,c),r.set(g,c),this.count++,o=Lo.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var kr={$$typeof:q,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function aT(t,n,r,o,c,h,g,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oc(0),this.hiddenUpdates=oc(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ov(t,n,r,o,c,h,g,y,E,N,k,P){return t=new aT(t,n,r,g,E,N,k,P,y),n=1,h===!0&&(n|=24),h=Vt(3,null,null,n),t.current=h,h.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:r,cache:n},Kc(h),t}function uv(t){return t?(t=qs,t):qs}function cv(t,n,r,o,c,h){c=uv(c),o.context===null?o.context=c:o.pendingContext=c,o=hi(n),o.payload={element:r},h=h===void 0?null:h,h!==null&&(o.callback=h),r=di(t,o,n),r!==null&&(Lt(r,t,n),dr(r,t,n))}function fv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function ph(t,n){fv(t,n),(t=t.alternate)&&fv(t,n)}function hv(t){if(t.tag===13||t.tag===31){var n=ts(t,67108864);n!==null&&Lt(n,t,67108864),ph(t,67108864)}}function dv(t){if(t.tag===13||t.tag===31){var n=Wt();n=uc(n);var r=ts(t,n);r!==null&&Lt(r,t,n),ph(t,n)}}var zo=!0;function rT(t,n,r,o){var c=M.T;M.T=null;var h=V.p;try{V.p=2,gh(t,n,r,o)}finally{V.p=h,M.T=c}}function lT(t,n,r,o){var c=M.T;M.T=null;var h=V.p;try{V.p=8,gh(t,n,r,o)}finally{V.p=h,M.T=c}}function gh(t,n,r,o){if(zo){var c=_h(o);if(c===null)nh(t,n,o,Po,r),pv(t,o);else if(uT(c,t,n,r,o))o.stopPropagation();else if(pv(t,o),n&4&&-1<oT.indexOf(t)){for(;c!==null;){var h=Ms(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Ki(h.pendingLanes);if(g!==0){var y=h;for(y.pendingLanes|=2,y.entangledLanes|=2;g;){var E=1<<31-Bt(g);y.entanglements[1]|=E,g&=~E}Sn(h),(Re&6)===0&&(bo=Pt()+500,Nr(0))}}break;case 31:case 13:y=ts(h,2),y!==null&&Lt(y,h,2),So(),ph(h,2)}if(h=_h(o),h===null&&nh(t,n,o,Po,r),h===c)break;c=h}c!==null&&o.stopPropagation()}else nh(t,n,o,null,r)}}function _h(t){return t=vc(t),vh(t)}var Po=null;function vh(t){if(Po=null,t=Ds(t),t!==null){var n=u(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=f(n),t!==null)return t;t=null}else if(r===31){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Po=t,null}function mv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(WE()){case Sm:return 2;case Cm:return 8;case xl:case XE:return 32;case Tm:return 268435456;default:return 32}default:return 32}}var yh=!1,Ti=null,wi=null,xi=null,Ur=new Map,zr=new Map,Ri=[],oT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pv(t,n){switch(t){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Ur.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":zr.delete(n.pointerId)}}function Pr(t,n,r,o,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Ms(n),n!==null&&hv(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function uT(t,n,r,o,c){switch(n){case"focusin":return Ti=Pr(Ti,t,n,r,o,c),!0;case"dragenter":return wi=Pr(wi,t,n,r,o,c),!0;case"mouseover":return xi=Pr(xi,t,n,r,o,c),!0;case"pointerover":var h=c.pointerId;return Ur.set(h,Pr(Ur.get(h)||null,t,n,r,o,c)),!0;case"gotpointercapture":return h=c.pointerId,zr.set(h,Pr(zr.get(h)||null,t,n,r,o,c)),!0}return!1}function gv(t){var n=Ds(t.target);if(n!==null){var r=u(n);if(r!==null){if(n=r.tag,n===13){if(n=f(r),n!==null){t.blockedOn=n,Om(t.priority,function(){dv(r)});return}}else if(n===31){if(n=d(r),n!==null){t.blockedOn=n,Om(t.priority,function(){dv(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ho(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=_h(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);_c=o,r.target.dispatchEvent(o),_c=null}else return n=Ms(r),n!==null&&hv(n),t.blockedOn=r,!1;n.shift()}return!0}function _v(t,n,r){Ho(t)&&r.delete(n)}function cT(){yh=!1,Ti!==null&&Ho(Ti)&&(Ti=null),wi!==null&&Ho(wi)&&(wi=null),xi!==null&&Ho(xi)&&(xi=null),Ur.forEach(_v),zr.forEach(_v)}function Bo(t,n){t.blockedOn===n&&(t.blockedOn=null,yh||(yh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cT)))}var jo=null;function vv(t){jo!==t&&(jo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jo===t&&(jo=null);for(var n=0;n<t.length;n+=3){var r=t[n],o=t[n+1],c=t[n+2];if(typeof o!="function"){if(vh(o||r)===null)continue;break}var h=Ms(r);h!==null&&(t.splice(n,3),n-=3,_f(h,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function da(t){function n(E){return Bo(E,t)}Ti!==null&&Bo(Ti,t),wi!==null&&Bo(wi,t),xi!==null&&Bo(xi,t),Ur.forEach(n),zr.forEach(n);for(var r=0;r<Ri.length;r++){var o=Ri[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Ri.length&&(r=Ri[0],r.blockedOn===null);)gv(r),r.blockedOn===null&&Ri.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],h=r[o+1],g=c[At]||null;if(typeof h=="function")g||vv(r);else if(g){var y=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[At]||null)y=g.formAction;else if(vh(c)!==null)continue}else y=g.action;typeof y=="function"?r[o+1]=y:(r.splice(o,3),o-=3),vv(r)}}}function yv(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function bh(t){this._internalRoot=t}Vo.prototype.render=bh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=Wt();cv(r,o,t,n,null,null)},Vo.prototype.unmount=bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;cv(t.current,2,null,t,null,null),So(),n[Os]=null}};function Vo(t){this._internalRoot=t}Vo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Nm();t={blockedOn:null,target:t,priority:n};for(var r=0;r<Ri.length&&n!==0&&n<Ri[r].priority;r++);Ri.splice(r,0,t),r===0&&gv(t)}};var bv=e.version;if(bv!=="19.2.4")throw Error(a(527,bv,"19.2.4"));V.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var fT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{Wa=qo.inject(fT),Ht=qo}catch{}}return Br.createRoot=function(t,n){if(!l(t))throw Error(a(299));var r=!1,o="",c=Rg,h=Ag,g=Ng;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ov(t,1,!1,null,null,r,o,null,c,h,g,yv),t[Os]=n.current,th(t),new bh(n)},Br.hydrateRoot=function(t,n,r){if(!l(t))throw Error(a(299));var o=!1,c="",h=Rg,g=Ag,y=Ng,E=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError),r.formState!==void 0&&(E=r.formState)),n=ov(t,1,!0,n,r??null,o,c,E,h,g,y,yv),n.context=uv(null),r=n.current,o=Wt(),o=uc(o),c=hi(o),c.callback=null,di(r,c,o),r=o,n.current.lanes=r,Qa(n,r),Sn(n),t[Os]=n.current,th(t),new Vo(n)},Br.version="19.2.4",Br}var Ov;function ET(){if(Ov)return Ch.exports;Ov=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Ch.exports=bT(),Ch.exports}var ST=ET();const CT=r0(ST);var Dv="popstate";function TT(s={}){function e(l,u){let{pathname:f="/",search:d="",hash:p=""}=xs(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Fh("",{pathname:f,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let f=l.document.querySelector("base"),d="";if(f&&f.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");d=m===-1?p:p.slice(0,m)}return d+"#"+(typeof u=="string"?u:el(u))}function a(l,u){vn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return xT(e,i,a,s)}function Qe(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function vn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wT(){return Math.random().toString(36).substring(2,10)}function Mv(s,e){return{usr:s.state,key:s.key,idx:e}}function Fh(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?xs(e):e,state:i,key:e&&e.key||a||wT()}}function el({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function xs(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function xT(s,e,i,a={}){let{window:l=document.defaultView,v5Compat:u=!1}=a,f=l.history,d="POP",p=null,m=v();m==null&&(m=0,f.replaceState({...f.state,idx:m},""));function v(){return(f.state||{idx:null}).idx}function _(){d="POP";let H=v(),j=H==null?null:H-m;m=H,p&&p({action:d,location:I.location,delta:j})}function b(H,j){d="PUSH";let B=Fh(I.location,H,j);i&&i(B,H),m=v()+1;let q=Mv(B,m),ne=I.createHref(B);try{f.pushState(q,"",ne)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;l.location.assign(ne)}u&&p&&p({action:d,location:I.location,delta:1})}function T(H,j){d="REPLACE";let B=Fh(I.location,H,j);i&&i(B,H),m=v();let q=Mv(B,m),ne=I.createHref(B);f.replaceState(q,"",ne),u&&p&&p({action:d,location:I.location,delta:0})}function x(H){return RT(H)}let I={get action(){return d},get location(){return s(l,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Dv,_),p=H,()=>{l.removeEventListener(Dv,_),p=null}},createHref(H){return e(l,H)},createURL:x,encodeLocation(H){let j=x(H);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:b,replace:T,go(H){return f.go(H)}};return I}function RT(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:el(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function l0(s,e,i="/"){return AT(s,e,i,!1)}function AT(s,e,i,a){let l=typeof e=="string"?xs(e):e,u=Zn(l.pathname||"/",i);if(u==null)return null;let f=o0(s);NT(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let m=BT(u);d=PT(f[p],m,a)}return d}function o0(s,e=[],i=[],a="",l=!1){let u=(f,d,p=l,m)=>{let v={relativePath:m===void 0?f.path||"":m,caseSensitive:f.caseSensitive===!0,childrenIndex:d,route:f};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&p)return;Qe(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let _=Kn([a,v.relativePath]),b=i.concat(v);f.children&&f.children.length>0&&(Qe(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),o0(f.children,e,b,_,p)),!(f.path==null&&!f.index)&&e.push({path:_,score:UT(_,f.index),routesMeta:b})};return s.forEach((f,d)=>{if(f.path===""||!f.path?.includes("?"))u(f,d);else for(let p of u0(f.path))u(f,d,!0,p)}),e}function u0(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return l?[u,""]:[u];let f=u0(a.join("/")),d=[];return d.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&d.push(...f),d.map(p=>s.startsWith("/")&&p===""?"/":p)}function NT(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:zT(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var OT=/^:[\w-]+$/,DT=3,MT=2,IT=1,LT=10,kT=-2,Iv=s=>s==="*";function UT(s,e){let i=s.split("/"),a=i.length;return i.some(Iv)&&(a+=kT),e&&(a+=MT),i.filter(l=>!Iv(l)).reduce((l,u)=>l+(OT.test(u)?DT:u===""?IT:LT),a)}function zT(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function PT(s,e,i=!1){let{routesMeta:a}=s,l={},u="/",f=[];for(let d=0;d<a.length;++d){let p=a[d],m=d===a.length-1,v=u==="/"?e:e.slice(u.length)||"/",_=uu({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},v),b=p.route;if(!_&&m&&i&&!a[a.length-1].route.index&&(_=uu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(l,_.params),f.push({params:l,pathname:Kn([u,_.pathname]),pathnameBase:GT(Kn([u,_.pathnameBase])),route:b}),_.pathnameBase!=="/"&&(u=Kn([u,_.pathnameBase]))}return f}function uu(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=HT(s.path,s.caseSensitive,s.end),l=e.match(i);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),d=l.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:_},b)=>{if(v==="*"){let x=d[b]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const T=d[b];return _&&!T?m[v]=void 0:m[v]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:f,pattern:s}}function HT(s,e=!1,i=!0){vn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function BT(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function Zn(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}var jT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function VT(s,e="/"){let{pathname:i,search:a="",hash:l=""}=typeof s=="string"?xs(s):s,u;return i?(i=i.replace(/\/\/+/g,"/"),i.startsWith("/")?u=Lv(i.substring(1),"/"):u=Lv(i,e)):u=e,{pathname:u,search:YT(a),hash:FT(l)}}function Lv(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Rh(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qT(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function c0(s){let e=qT(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function f0(s,e,i,a=!1){let l;typeof s=="string"?l=xs(s):(l={...s},Qe(!l.pathname||!l.pathname.includes("?"),Rh("?","pathname","search",l)),Qe(!l.pathname||!l.pathname.includes("#"),Rh("#","pathname","hash",l)),Qe(!l.search||!l.search.includes("#"),Rh("#","search","hash",l)));let u=s===""||l.pathname==="",f=u?"/":l.pathname,d;if(f==null)d=i;else{let _=e.length-1;if(!a&&f.startsWith("..")){let b=f.split("/");for(;b[0]==="..";)b.shift(),_-=1;l.pathname=b.join("/")}d=_>=0?e[_]:"/"}let p=VT(l,d),m=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||v)&&(p.pathname+="/"),p}var Kn=s=>s.join("/").replace(/\/\/+/g,"/"),GT=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),YT=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,FT=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,WT=class{constructor(s,e,i,a=!1){this.status=s,this.statusText=e||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function XT(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function QT(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d0(s,e){let i=s;if(typeof i!="string"||!jT.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,l=!1;if(h0)try{let u=new URL(window.location.href),f=i.startsWith("//")?new URL(u.protocol+i):new URL(i),d=Zn(f.pathname,e);f.origin===u.origin&&d!=null?i=d+f.search+f.hash:l=!0}catch{vn(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:l,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m0=["POST","PUT","PATCH","DELETE"];new Set(m0);var KT=["GET",...m0];new Set(KT);var ka=D.createContext(null);ka.displayName="DataRouter";var Uu=D.createContext(null);Uu.displayName="DataRouterState";var $T=D.createContext(!1),p0=D.createContext({isTransitioning:!1});p0.displayName="ViewTransition";var ZT=D.createContext(new Map);ZT.displayName="Fetchers";var JT=D.createContext(null);JT.displayName="Await";var on=D.createContext(null);on.displayName="Navigation";var hl=D.createContext(null);hl.displayName="Location";var xn=D.createContext({outlet:null,matches:[],isDataRoute:!1});xn.displayName="Route";var Td=D.createContext(null);Td.displayName="RouteError";var g0="REACT_ROUTER_ERROR",ew="REDIRECT",tw="ROUTE_ERROR_RESPONSE";function nw(s){if(s.startsWith(`${g0}:${ew}:{`))try{let e=JSON.parse(s.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function iw(s){if(s.startsWith(`${g0}:${tw}:{`))try{let e=JSON.parse(s.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new WT(e.status,e.statusText,e.data)}catch{}}function sw(s,{relative:e}={}){Qe(dl(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=D.useContext(on),{hash:l,pathname:u,search:f}=ml(s,{relative:e}),d=u;return i!=="/"&&(d=u==="/"?i:Kn([i,u])),a.createHref({pathname:d,search:f,hash:l})}function dl(){return D.useContext(hl)!=null}function Rs(){return Qe(dl(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(hl).location}var _0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function v0(s){D.useContext(on).static||D.useLayoutEffect(s)}function y0(){let{isDataRoute:s}=D.useContext(xn);return s?vw():aw()}function aw(){Qe(dl(),"useNavigate() may be used only in the context of a <Router> component.");let s=D.useContext(ka),{basename:e,navigator:i}=D.useContext(on),{matches:a}=D.useContext(xn),{pathname:l}=Rs(),u=JSON.stringify(c0(a)),f=D.useRef(!1);return v0(()=>{f.current=!0}),D.useCallback((p,m={})=>{if(vn(f.current,_0),!f.current)return;if(typeof p=="number"){i.go(p);return}let v=f0(p,JSON.parse(u),l,m.relative==="path");s==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Kn([e,v.pathname])),(m.replace?i.replace:i.push)(v,m.state,m)},[e,i,u,l,s])}D.createContext(null);function rw(){let{matches:s}=D.useContext(xn),e=s[s.length-1];return e?e.params:{}}function ml(s,{relative:e}={}){let{matches:i}=D.useContext(xn),{pathname:a}=Rs(),l=JSON.stringify(c0(i));return D.useMemo(()=>f0(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function lw(s,e){return b0(s,e)}function b0(s,e,i,a,l){Qe(dl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=D.useContext(on),{matches:f}=D.useContext(xn),d=f[f.length-1],p=d?d.params:{},m=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let B=_&&_.path||"";S0(m,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let b=Rs(),T;if(e){let B=typeof e=="string"?xs(e):e;Qe(v==="/"||B.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${B.pathname}" was given in the \`location\` prop.`),T=B}else T=b;let x=T.pathname||"/",I=x;if(v!=="/"){let B=v.replace(/^\//,"").split("/");I="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let H=l0(s,{pathname:I});vn(_||H!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),vn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=hw(H&&H.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Kn([v,u.encodeLocation?u.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?v:Kn([v,u.encodeLocation?u.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),f,i,a,l);return e&&j?D.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},j):j}function ow(){let s=_w(),e=XT(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=D.createElement(D.Fragment,null,D.createElement("p",null," Hey developer "),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:u},"ErrorBoundary")," or"," ",D.createElement("code",{style:u},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),i?D.createElement("pre",{style:l},i):null,f)}var uw=D.createElement(ow,null),E0=class extends D.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const i=iw(s.digest);i&&(s=i)}let e=s!==void 0?D.createElement(xn.Provider,{value:this.props.routeContext},D.createElement(Td.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?D.createElement(cw,{error:s},e):e}};E0.contextType=$T;var Ah=new WeakMap;function cw({children:s,error:e}){let{basename:i}=D.useContext(on);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=nw(e.digest);if(a){let l=Ah.get(e);if(l)throw l;let u=d0(a.location,i);if(h0&&!Ah.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Ah.set(e,f),f}return D.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return s}function fw({routeContext:s,match:e,children:i}){let a=D.useContext(ka);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),D.createElement(xn.Provider,{value:s},i)}function hw(s,e=[],i=null,a=null,l=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let u=s,f=i?.errors;if(f!=null){let v=u.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Qe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,v+1))}let d=!1,p=-1;if(i)for(let v=0;v<u.length;v++){let _=u[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:b,errors:T}=i,x=_.route.loader&&!b.hasOwnProperty(_.route.id)&&(!T||T[_.route.id]===void 0);if(_.route.lazy||x){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let m=i&&a?(v,_)=>{a(v,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:QT(i.matches),errorInfo:_})}:void 0;return u.reduceRight((v,_,b)=>{let T,x=!1,I=null,H=null;i&&(T=f&&_.route.id?f[_.route.id]:void 0,I=_.route.errorElement||uw,d&&(p<0&&b===0?(S0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,H=null):p===b&&(x=!0,H=_.route.hydrateFallbackElement||null)));let j=e.concat(u.slice(0,b+1)),B=()=>{let q;return T?q=I:x?q=H:_.route.Component?q=D.createElement(_.route.Component,null):_.route.element?q=_.route.element:q=v,D.createElement(fw,{match:_,routeContext:{outlet:v,matches:j,isDataRoute:i!=null},children:q})};return i&&(_.route.ErrorBoundary||_.route.errorElement||b===0)?D.createElement(E0,{location:i.location,revalidation:i.revalidation,component:I,error:T,children:B(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:m}):B()},null)}function wd(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dw(s){let e=D.useContext(ka);return Qe(e,wd(s)),e}function mw(s){let e=D.useContext(Uu);return Qe(e,wd(s)),e}function pw(s){let e=D.useContext(xn);return Qe(e,wd(s)),e}function xd(s){let e=pw(s),i=e.matches[e.matches.length-1];return Qe(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function gw(){return xd("useRouteId")}function _w(){let s=D.useContext(Td),e=mw("useRouteError"),i=xd("useRouteError");return s!==void 0?s:e.errors?.[i]}function vw(){let{router:s}=dw("useNavigate"),e=xd("useNavigate"),i=D.useRef(!1);return v0(()=>{i.current=!0}),D.useCallback(async(l,u={})=>{vn(i.current,_0),i.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var kv={};function S0(s,e,i){!e&&!kv[s]&&(kv[s]=!0,vn(!1,i))}D.memo(yw);function yw({routes:s,future:e,state:i,onError:a}){return b0(s,void 0,i,a,e)}function Wh(s){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bw({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){Qe(!dl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),p=D.useMemo(()=>({basename:d,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[d,l,u,f]);typeof i=="string"&&(i=xs(i));let{pathname:m="/",search:v="",hash:_="",state:b=null,key:T="default"}=i,x=D.useMemo(()=>{let I=Zn(m,d);return I==null?null:{location:{pathname:I,search:v,hash:_,state:b,key:T},navigationType:a}},[d,m,v,_,b,T,a]);return vn(x!=null,`<Router basename="${d}"> is not able to match the URL "${m}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:D.createElement(on.Provider,{value:p},D.createElement(hl.Provider,{children:e,value:x}))}function Ew({children:s,location:e}){return lw(Xh(s),e)}function Xh(s,e=[]){let i=[];return D.Children.forEach(s,(a,l)=>{if(!D.isValidElement(a))return;let u=[...e,l];if(a.type===D.Fragment){i.push.apply(i,Xh(a.props.children,u));return}Qe(a.type===Wh,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Xh(a.props.children,u)),i.push(f)}),i}var tu="get",nu="application/x-www-form-urlencoded";function zu(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Sw(s){return zu(s)&&s.tagName.toLowerCase()==="button"}function Cw(s){return zu(s)&&s.tagName.toLowerCase()==="form"}function Tw(s){return zu(s)&&s.tagName.toLowerCase()==="input"}function ww(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function xw(s,e){return s.button===0&&(!e||e==="_self")&&!ww(s)}var Go=null;function Rw(){if(Go===null)try{new FormData(document.createElement("form"),0),Go=!1}catch{Go=!0}return Go}var Aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nh(s){return s!=null&&!Aw.has(s)?(vn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nu}"`),null):s}function Nw(s,e){let i,a,l,u,f;if(Cw(s)){let d=s.getAttribute("action");a=d?Zn(d,e):null,i=s.getAttribute("method")||tu,l=Nh(s.getAttribute("enctype"))||nu,u=new FormData(s)}else if(Sw(s)||Tw(s)&&(s.type==="submit"||s.type==="image")){let d=s.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||d.getAttribute("action");if(a=p?Zn(p,e):null,i=s.getAttribute("formmethod")||d.getAttribute("method")||tu,l=Nh(s.getAttribute("formenctype"))||Nh(d.getAttribute("enctype"))||nu,u=new FormData(d,s),!Rw()){let{name:m,type:v,value:_}=s;if(v==="image"){let b=m?`${m}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else m&&u.append(m,_)}}else{if(zu(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=tu,a=null,l=nu,f=s}return u&&l==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rd(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Ow(s,e,i,a){let l=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i?l.pathname.endsWith("/")?l.pathname=`${l.pathname}_.${a}`:l.pathname=`${l.pathname}.${a}`:l.pathname==="/"?l.pathname=`_root.${a}`:e&&Zn(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${a}`,l}async function Dw(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Mw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Iw(s,e,i){let a=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await Dw(u,i);return f.links?f.links():[]}return[]}));return zw(a.flat(1).filter(Mw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Uv(s,e,i,a,l,u){let f=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,d=(p,m)=>i[m].pathname!==p.pathname||i[m].route.path?.endsWith("*")&&i[m].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,m)=>f(p,m)||d(p,m)):u==="data"?e.filter((p,m)=>{let v=a.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Lw(s,e,{includeHydrateFallback:i}={}){return kw(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function kw(s){return[...new Set(s)]}function Uw(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function zw(s,e){let i=new Set;return new Set(e),s.reduce((a,l)=>{let u=JSON.stringify(Uw(l));return i.has(u)||(i.add(u),a.push({key:u,link:l})),a},[])}function C0(){let s=D.useContext(ka);return Rd(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Pw(){let s=D.useContext(Uu);return Rd(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Ad=D.createContext(void 0);Ad.displayName="FrameworkContext";function T0(){let s=D.useContext(Ad);return Rd(s,"You must render this element inside a <HydratedRouter> element"),s}function Hw(s,e){let i=D.useContext(Ad),[a,l]=D.useState(!1),[u,f]=D.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:v,onTouchStart:_}=e,b=D.useRef(null);D.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let I=j=>{j.forEach(B=>{f(B.isIntersecting)})},H=new IntersectionObserver(I,{threshold:.5});return b.current&&H.observe(b.current),()=>{H.disconnect()}}},[s]),D.useEffect(()=>{if(a){let I=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(I)}}},[a]);let T=()=>{l(!0)},x=()=>{l(!1),f(!1)};return i?s!=="intent"?[u,b,{}]:[u,b,{onFocus:jr(d,T),onBlur:jr(p,x),onMouseEnter:jr(m,T),onMouseLeave:jr(v,x),onTouchStart:jr(_,T)}]:[!1,b,{}]}function jr(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function Bw({page:s,...e}){let{router:i}=C0(),a=D.useMemo(()=>l0(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?D.createElement(Vw,{page:s,matches:a,...e}):null}function jw(s){let{manifest:e,routeModules:i}=T0(),[a,l]=D.useState([]);return D.useEffect(()=>{let u=!1;return Iw(s,e,i).then(f=>{u||l(f)}),()=>{u=!0}},[s,e,i]),a}function Vw({page:s,matches:e,...i}){let a=Rs(),{future:l,manifest:u,routeModules:f}=T0(),{basename:d}=C0(),{loaderData:p,matches:m}=Pw(),v=D.useMemo(()=>Uv(s,e,m,u,a,"data"),[s,e,m,u,a]),_=D.useMemo(()=>Uv(s,e,m,u,a,"assets"),[s,e,m,u,a]),b=D.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let I=new Set,H=!1;if(e.forEach(B=>{let q=u.routes[B.route.id];!q||!q.hasLoader||(!v.some(ne=>ne.route.id===B.route.id)&&B.route.id in p&&f[B.route.id]?.shouldRevalidate||q.hasClientLoader?H=!0:I.add(B.route.id))}),I.size===0)return[];let j=Ow(s,d,l.unstable_trailingSlashAwareDataRequests,"data");return H&&I.size>0&&j.searchParams.set("_routes",e.filter(B=>I.has(B.route.id)).map(B=>B.route.id).join(",")),[j.pathname+j.search]},[d,l.unstable_trailingSlashAwareDataRequests,p,a,u,v,e,s,f]),T=D.useMemo(()=>Lw(_,u),[_,u]),x=jw(_);return D.createElement(D.Fragment,null,b.map(I=>D.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...i})),T.map(I=>D.createElement("link",{key:I,rel:"modulepreload",href:I,...i})),x.map(({key:I,link:H})=>D.createElement("link",{key:I,nonce:i.nonce,...H,crossOrigin:H.crossOrigin??i.crossOrigin})))}function qw(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var Gw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gw&&(window.__reactRouterVersion="7.13.0")}catch{}function Yw({basename:s,children:e,unstable_useTransitions:i,window:a}){let l=D.useRef();l.current==null&&(l.current=TT({window:a,v5Compat:!0}));let u=l.current,[f,d]=D.useState({action:u.action,location:u.location}),p=D.useCallback(m=>{i===!1?d(m):D.startTransition(()=>d(m))},[i]);return D.useLayoutEffect(()=>u.listen(p),[u,p]),D.createElement(bw,{basename:s,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:i})}var w0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x0=D.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:l,reloadDocument:u,replace:f,state:d,target:p,to:m,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:b,...T},x){let{basename:I,unstable_useTransitions:H}=D.useContext(on),j=typeof m=="string"&&w0.test(m),B=d0(m,I);m=B.to;let q=sw(m,{relative:l}),[ne,le,ve]=Hw(a,T),G=Qw(m,{replace:f,state:d,target:p,preventScrollReset:v,relative:l,viewTransition:_,unstable_defaultShouldRevalidate:b,unstable_useTransitions:H});function re(je){e&&e(je),je.defaultPrevented||G(je)}let Ie=D.createElement("a",{...T,...ve,href:B.absoluteURL||q,onClick:B.isExternal||u?e:re,ref:qw(x,le),target:p,"data-discover":!j&&i==="render"?"true":void 0});return ne&&!j?D.createElement(D.Fragment,null,Ie,D.createElement(Bw,{page:q})):Ie});x0.displayName="Link";var Fw=D.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:l=!1,style:u,to:f,viewTransition:d,children:p,...m},v){let _=ml(f,{relative:m.relative}),b=Rs(),T=D.useContext(Uu),{navigator:x,basename:I}=D.useContext(on),H=T!=null&&e1(_)&&d===!0,j=x.encodeLocation?x.encodeLocation(_).pathname:_.pathname,B=b.pathname,q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;i||(B=B.toLowerCase(),q=q?q.toLowerCase():null,j=j.toLowerCase()),q&&I&&(q=Zn(q,I)||q);const ne=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let le=B===j||!l&&B.startsWith(j)&&B.charAt(ne)==="/",ve=q!=null&&(q===j||!l&&q.startsWith(j)&&q.charAt(j.length)==="/"),G={isActive:le,isPending:ve,isTransitioning:H},re=le?e:void 0,Ie;typeof a=="function"?Ie=a(G):Ie=[a,le?"active":null,ve?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let je=typeof u=="function"?u(G):u;return D.createElement(x0,{...m,"aria-current":re,className:Ie,ref:v,style:je,to:f,viewTransition:d},typeof p=="function"?p(G):p)});Fw.displayName="NavLink";var Ww=D.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:l,state:u,method:f=tu,action:d,onSubmit:p,relative:m,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:b,...T},x)=>{let{unstable_useTransitions:I}=D.useContext(on),H=Zw(),j=Jw(d,{relative:m}),B=f.toLowerCase()==="get"?"get":"post",q=typeof d=="string"&&w0.test(d),ne=le=>{if(p&&p(le),le.defaultPrevented)return;le.preventDefault();let ve=le.nativeEvent.submitter,G=ve?.getAttribute("formmethod")||f,re=()=>H(ve||le.currentTarget,{fetcherKey:e,method:G,navigate:i,replace:l,state:u,relative:m,preventScrollReset:v,viewTransition:_,unstable_defaultShouldRevalidate:b});I&&i!==!1?D.startTransition(()=>re()):re()};return D.createElement("form",{ref:x,method:B,action:j,onSubmit:a?p:ne,...T,"data-discover":!q&&s==="render"?"true":void 0})});Ww.displayName="Form";function Xw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R0(s){let e=D.useContext(ka);return Qe(e,Xw(s)),e}function Qw(s,{target:e,replace:i,state:a,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let m=y0(),v=Rs(),_=ml(s,{relative:u});return D.useCallback(b=>{if(xw(b,e)){b.preventDefault();let T=i!==void 0?i:el(v)===el(_),x=()=>m(s,{replace:T,state:a,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:d});p?D.startTransition(()=>x()):x()}},[v,m,_,i,a,e,s,l,u,f,d,p])}var Kw=0,$w=()=>`__${String(++Kw)}__`;function Zw(){let{router:s}=R0("useSubmit"),{basename:e}=D.useContext(on),i=gw(),a=s.fetch,l=s.navigate;return D.useCallback(async(u,f={})=>{let{action:d,method:p,encType:m,formData:v,body:_}=Nw(u,e);if(f.navigate===!1){let b=f.fetcherKey||$w();await a(b,i,f.action||d,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||p,formEncType:f.encType||m,flushSync:f.flushSync})}else await l(f.action||d,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:v,body:_,formMethod:f.method||p,formEncType:f.encType||m,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[a,l,e,i])}function Jw(s,{relative:e}={}){let{basename:i}=D.useContext(on),a=D.useContext(xn);Qe(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),u={...ml(s||".",{relative:e})},f=Rs();if(s==null){u.search=f.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();u.search=v?`?${v}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Kn([i,u.pathname])),el(u)}function e1(s,{relative:e}={}){let i=D.useContext(p0);Qe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=R0("useViewTransitionState"),l=ml(s,{relative:e});if(!i.isTransitioning)return!1;let u=Zn(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=Zn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return uu(l.pathname,f)!=null||uu(l.pathname,u)!=null}const t1=()=>{};var zv={};const A0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const Y=function(s,e){if(!s)throw Ua(e)},Ua=function(s){return new Error("Firebase Database ("+A0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const N0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},n1=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[i++];e[a++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[i++],f=s[i++],d=s[i++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=s[i++],f=s[i++];e[a++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Nd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,d=f?s[l+1]:0,p=l+2<s.length,m=p?s[l+2]:0,v=u>>2,_=(u&3)<<4|d>>4;let b=(d&15)<<2|m>>6,T=m&63;p||(T=64,f||(b=64)),a.push(i[v],i[_],i[b],i[T])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(N0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):n1(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const u=i[s.charAt(l++)],d=l<s.length?i[s.charAt(l)]:0;++l;const m=l<s.length?i[s.charAt(l)]:64;++l;const _=l<s.length?i[s.charAt(l)]:64;if(++l,u==null||d==null||m==null||_==null)throw new i1;const b=u<<2|d>>4;if(a.push(b),m!==64){const T=d<<4&240|m>>2;if(a.push(T),_!==64){const x=m<<6&192|_;a.push(x)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class i1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O0=function(s){const e=N0(s);return Nd.encodeByteArray(e,!0)},cu=function(s){return O0(s).replace(/\./g,"")},fu=function(s){try{return Nd.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function s1(s){return D0(void 0,s)}function D0(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!a1(i)||(s[i]=D0(s[i],e[i]));return s}function a1(s){return s!=="__proto__"}function r1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const l1=()=>r1().__FIREBASE_DEFAULTS__,o1=()=>{if(typeof process>"u"||typeof zv>"u")return;const s=zv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},u1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&fu(s[1]);return e&&JSON.parse(e)},Od=()=>{try{return t1()||l1()||o1()||u1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},M0=s=>Od()?.emulatorHosts?.[s],c1=s=>{const e=M0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},I0=()=>Od()?.config,L0=s=>Od()?.[`_${s}`];class Cn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}function za(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(s){return(await fetch(s,{credentials:"include"})).ok}function f1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[cu(JSON.stringify(i)),cu(JSON.stringify(f)),""].join(".")}const Fr={};function h1(){const s={prod:[],emulator:[]};for(const e of Object.keys(Fr))Fr[e]?s.emulator.push(e):s.prod.push(e);return s}function d1(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let Pv=!1;function U0(s,e){if(typeof window>"u"||typeof document>"u"||!za(window.location.host)||Fr[s]===e||Fr[s]||Pv)return;Fr[s]=e;function i(b){return`__firebase__banner__${b}`}const a="__firebase__banner",u=h1().prod.length>0;function f(){const b=document.getElementById(a);b&&b.remove()}function d(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function p(b,T){b.setAttribute("width","24"),b.setAttribute("id",T),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function m(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Pv=!0,f()},b}function v(b,T){b.setAttribute("id",T),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function _(){const b=d1(a),T=i("text"),x=document.getElementById(T)||document.createElement("span"),I=i("learnmore"),H=document.getElementById(I)||document.createElement("a"),j=i("preprendIcon"),B=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const q=b.element;d(q),v(H,I);const ne=m();p(B,j),q.append(B,x,H,ne),document.body.appendChild(q)}u?(x.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Dd(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rt())}function m1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function p1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function z0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function g1(){const s=Rt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function _1(){return A0.NODE_ADMIN===!0}function v1(){try{return typeof indexedDB=="object"}catch{return!1}}function y1(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(i){e(i)}})}const b1="FirebaseError";class Xi extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=b1,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?E1(u,a):"Error",d=`${this.serviceName}: ${f} (${l}).`;return new Xi(l,d,a)}}function E1(s,e){return s.replace(S1,(i,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const S1=/\{\$([^}]+)}/g;function tl(s){return JSON.parse(s)}function ut(s){return JSON.stringify(s)}const P0=function(s){let e={},i={},a={},l="";try{const u=s.split(".");e=tl(fu(u[0])||""),i=tl(fu(u[1])||""),l=u[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:l}},C1=function(s){const e=P0(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},T1=function(s){const e=P0(s).claims;return typeof e=="object"&&e.admin===!0};function Rn(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function xa(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function hu(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function du(s,e,i){const a={};for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&(a[l]=e.call(i,s[l],l,s));return a}function ys(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const l of i){if(!a.includes(l))return!1;const u=s[l],f=e[l];if(Hv(u)&&Hv(f)){if(!ys(u,f))return!1}else if(u!==f)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Hv(s){return s!==null&&typeof s=="object"}function Pa(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}class w1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)a[_]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let _=0;_<16;_++)a[_]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let _=16;_<80;_++){const b=a[_-3]^a[_-8]^a[_-14]^a[_-16];a[_]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],u=this.chain_[1],f=this.chain_[2],d=this.chain_[3],p=this.chain_[4],m,v;for(let _=0;_<80;_++){_<40?_<20?(m=d^u&(f^d),v=1518500249):(m=u^f^d,v=1859775393):_<60?(m=u&f|d&(u|f),v=2400959708):(m=u^f^d,v=3395469782);const b=(l<<5|l>>>27)+m+p+v+a[_]&4294967295;p=d,d=f,f=(u<<30|u>>>2)&4294967295,u=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+p&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let l=0;const u=this.buf_;let f=this.inbuf_;for(;l<i;){if(f===0)for(;l<=a;)this.compress_(e,l),l+=this.blockSize;if(typeof e=="string"){for(;l<i;)if(u[f]=e.charCodeAt(l),++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}else for(;l<i;)if(u[f]=e[l],++f,++l,f===this.blockSize){this.compress_(u),f=0;break}}this.inbuf_=f,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let l=0;l<5;l++)for(let u=24;u>=0;u-=8)e[a]=this.chain_[l]>>u&255,++a;return e}}function x1(s,e){const i=new R1(s,e);return i.subscribe.bind(i)}class R1{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let l;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");A1(e,["next","error","complete"])?l=e:l={next:e,error:i,complete:a},l.next===void 0&&(l.next=Oh),l.error===void 0&&(l.error=Oh),l.complete===void 0&&(l.complete=Oh);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function A1(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Oh(){}function Ra(s,e){return`${s} failed: ${e} argument `}const N1=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);if(l>=55296&&l<=56319){const u=l-55296;a++,Y(a<s.length,"Surrogate pair missing trail surrogate.");const f=s.charCodeAt(a)-56320;l=65536+(u<<10)+f}l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):l<65536?(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},Pu=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};function zt(s){return s&&s._delegate?s._delegate:s}class bs{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ps="[DEFAULT]";class O1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Cn;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(M1(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:l});a.resolve(u)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);a===d&&f.resolve(l)}return l}onInit(e,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D1(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(s){return s===ps?void 0:s}function M1(s){return s.instantiationMode==="EAGER"}class I1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new O1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var ze;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(ze||(ze={}));const L1={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},k1=ze.INFO,U1={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},z1=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=U1[e];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Md{constructor(e){this.name=e,this._logLevel=k1,this._logHandler=z1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?L1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const P1=(s,e)=>e.some(i=>s instanceof i);let Bv,jv;function H1(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return jv||(jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,Qh=new WeakMap,B0=new WeakMap,Dh=new WeakMap,Id=new WeakMap;function j1(s){const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{i(zi(s.result)),l()},f=()=>{a(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&H0.set(i,s)}).catch(()=>{}),Id.set(e,s),e}function V1(s){if(Qh.has(s))return;const e=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{i(),l()},f=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Qh.set(s,e)}let Kh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Qh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||B0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return zi(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function q1(s){Kh=s(Kh)}function G1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Mh(this),e,...i);return B0.set(a,e.sort?e.sort():[e]),zi(a)}:B1().includes(s)?function(...e){return s.apply(Mh(this),e),zi(H0.get(this))}:function(...e){return zi(s.apply(Mh(this),e))}}function Y1(s){return typeof s=="function"?G1(s):(s instanceof IDBTransaction&&V1(s),P1(s,H1())?new Proxy(s,Kh):s)}function zi(s){if(s instanceof IDBRequest)return j1(s);if(Dh.has(s))return Dh.get(s);const e=Y1(s);return e!==s&&(Dh.set(s,e),Id.set(e,s)),e}const Mh=s=>Id.get(s);function F1(s,e,{blocked:i,upgrade:a,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),d=zi(f);return a&&f.addEventListener("upgradeneeded",p=>{a(zi(f.result),p.oldVersion,p.newVersion,zi(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",m=>l(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const W1=["get","getKey","getAll","getAllKeys","count"],X1=["put","add","delete","clear"],Ih=new Map;function Vv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Ih.get(e))return Ih.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,l=X1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||W1.includes(i)))return;const u=async function(f,...d){const p=this.transaction(f,l?"readwrite":"readonly");let m=p.store;return a&&(m=m.index(d.shift())),(await Promise.all([m[i](...d),l&&p.done]))[0]};return Ih.set(e,u),u}q1(s=>({...s,get:(e,i,a)=>Vv(e,i)||s.get(e,i,a),has:(e,i)=>!!Vv(e,i)||s.has(e,i)}));class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(K1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function K1(s){return s.getComponent()?.type==="VERSION"}const $h="@firebase/app",qv="0.14.7";const Jn=new Md("@firebase/app"),$1="@firebase/app-compat",Z1="@firebase/analytics-compat",J1="@firebase/analytics",ex="@firebase/app-check-compat",tx="@firebase/app-check",nx="@firebase/auth",ix="@firebase/auth-compat",sx="@firebase/database",ax="@firebase/data-connect",rx="@firebase/database-compat",lx="@firebase/functions",ox="@firebase/functions-compat",ux="@firebase/installations",cx="@firebase/installations-compat",fx="@firebase/messaging",hx="@firebase/messaging-compat",dx="@firebase/performance",mx="@firebase/performance-compat",px="@firebase/remote-config",gx="@firebase/remote-config-compat",_x="@firebase/storage",vx="@firebase/storage-compat",yx="@firebase/firestore",bx="@firebase/ai",Ex="@firebase/firestore-compat",Sx="firebase",Cx="12.8.0";const Zh="[DEFAULT]",Tx={[$h]:"fire-core",[$1]:"fire-core-compat",[J1]:"fire-analytics",[Z1]:"fire-analytics-compat",[tx]:"fire-app-check",[ex]:"fire-app-check-compat",[nx]:"fire-auth",[ix]:"fire-auth-compat",[sx]:"fire-rtdb",[ax]:"fire-data-connect",[rx]:"fire-rtdb-compat",[lx]:"fire-fn",[ox]:"fire-fn-compat",[ux]:"fire-iid",[cx]:"fire-iid-compat",[fx]:"fire-fcm",[hx]:"fire-fcm-compat",[dx]:"fire-perf",[mx]:"fire-perf-compat",[px]:"fire-rc",[gx]:"fire-rc-compat",[_x]:"fire-gcs",[vx]:"fire-gcs-compat",[yx]:"fire-fst",[Ex]:"fire-fst-compat",[bx]:"fire-vertex","fire-js":"fire-js",[Sx]:"fire-js-all"};const mu=new Map,wx=new Map,Jh=new Map;function Gv(s,e){try{s.container.addComponent(e)}catch(i){Jn.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Aa(s){const e=s.name;if(Jh.has(e))return Jn.debug(`There were multiple attempts to register component ${e}.`),!1;Jh.set(e,s);for(const i of mu.values())Gv(i,s);for(const i of wx.values())Gv(i,s);return!0}function Ld(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function dn(s){return s==null?!1:s.settings!==void 0}const xx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new pl("app","Firebase",xx);class Rx{constructor(e,i,a){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}const Ha=Cx;function j0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a={name:Zh,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw Pi.create("bad-app-name",{appName:String(l)});if(i||(i=I0()),!i)throw Pi.create("no-options");const u=mu.get(l);if(u){if(ys(i,u.options)&&ys(a,u.config))return u;throw Pi.create("duplicate-app",{appName:l})}const f=new I1(l);for(const p of Jh.values())f.addComponent(p);const d=new Rx(i,a,f);return mu.set(l,d),d}function V0(s=Zh){const e=mu.get(s);if(!e&&s===Zh&&I0())return j0();if(!e)throw Pi.create("no-app",{appName:s});return e}function Hi(s,e,i){let a=Tx[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Jn.warn(f.join(" "));return}Aa(new bs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const Ax="firebase-heartbeat-database",Nx=1,nl="firebase-heartbeat-store";let Lh=null;function q0(){return Lh||(Lh=F1(Ax,Nx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(nl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Pi.create("idb-open",{originalErrorMessage:s.message})})),Lh}async function Ox(s){try{const i=(await q0()).transaction(nl),a=await i.objectStore(nl).get(G0(s));return await i.done,a}catch(e){if(e instanceof Xi)Jn.warn(e.message);else{const i=Pi.create("idb-get",{originalErrorMessage:e?.message});Jn.warn(i.message)}}}async function Yv(s,e){try{const a=(await q0()).transaction(nl,"readwrite");await a.objectStore(nl).put(e,G0(s)),await a.done}catch(i){if(i instanceof Xi)Jn.warn(i.message);else{const a=Pi.create("idb-set",{originalErrorMessage:i?.message});Jn.warn(a.message)}}}function G0(s){return`${s.name}!${s.options.appId}`}const Dx=1024,Mx=30;class Ix{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kx(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Fv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Mx){const l=Ux(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Jn.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fv(),{heartbeatsToSend:i,unsentEntries:a}=Lx(this._heartbeatsCache.heartbeats),l=cu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Jn.warn(e),""}}}function Fv(){return new Date().toISOString().substring(0,10)}function Lx(s,e=Dx){const i=[];let a=s.slice();for(const l of s){const u=i.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),Wv(i)>e){u.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Wv(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class kx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v1()?y1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Ox(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return Yv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Wv(s){return cu(JSON.stringify({version:2,heartbeats:s})).length}function Ux(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}function zx(s){Aa(new bs("platform-logger",e=>new Q1(e),"PRIVATE")),Aa(new bs("heartbeat",e=>new Ix(e),"PRIVATE")),Hi($h,qv,s),Hi($h,qv,"esm2020"),Hi("fire-js","")}zx("");var Px="firebase",Hx="12.8.0";Hi(Px,Hx,"app");var Xv={};const Qv="@firebase/database",Kv="1.1.0";let Y0="";function Bx(s){Y0=s}class jx{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ut(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:tl(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Vx{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return Rn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const F0=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jx(e)}}catch{}return new Vx},_s=F0("localStorage"),qx=F0("sessionStorage");const ya=new Md("@firebase/database"),Gx=(function(){let s=1;return function(){return s++}})(),W0=function(s){const e=N1(s),i=new w1;i.update(e);const a=i.digest();return Nd.encodeByteArray(a)},gl=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=gl.apply(null,a):typeof a=="object"?e+=ut(a):e+=a,e+=" "}return e};let Wr=null,$v=!0;const Yx=function(s,e){Y(!0,"Can't turn on custom loggers persistently."),ya.logLevel=ze.VERBOSE,Wr=ya.log.bind(ya)},pt=function(...s){if($v===!0&&($v=!1,Wr===null&&qx.get("logging_enabled")===!0&&Yx()),Wr){const e=gl.apply(null,s);Wr(e)}},_l=function(s){return function(...e){pt(s,...e)}},ed=function(...s){const e="FIREBASE INTERNAL ERROR: "+gl(...s);ya.error(e)},ei=function(...s){const e=`FIREBASE FATAL ERROR: ${gl(...s)}`;throw ya.error(e),new Error(e)},xt=function(...s){const e="FIREBASE WARNING: "+gl(...s);ya.warn(e)},Fx=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Hu=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},Wx=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},Na="[MIN_NAME]",Es="[MAX_NAME]",As=function(s,e){if(s===e)return 0;if(s===Na||e===Es)return-1;if(e===Na||s===Es)return 1;{const i=Zv(s),a=Zv(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},Xx=function(s,e){return s===e?0:s<e?-1:1},Vr=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+ut(e))},kd=function(s){if(typeof s!="object"||s===null)return ut(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=ut(e[a]),i+=":",i+=kd(s[e[a]]);return i+="}",i},X0=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let l=0;l<i;l+=e)l+e>i?a.push(s.substring(l,i)):a.push(s.substring(l,l+e));return a};function gt(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const Q0=function(s){Y(!Hu(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let l,u,f,d,p;s===0?(u=0,f=0,l=1/s===-1/0?1:0):(l=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),u=d+a,f=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(u=0,f=Math.round(s/Math.pow(2,1-a-i))));const m=[];for(p=i;p;p-=1)m.push(f%2?1:0),f=Math.floor(f/2);for(p=e;p;p-=1)m.push(u%2?1:0),u=Math.floor(u/2);m.push(l?1:0),m.reverse();const v=m.join("");let _="";for(p=0;p<64;p+=8){let b=parseInt(v.substr(p,8),2).toString(16);b.length===1&&(b="0"+b),_=_+b}return _.toLowerCase()},Qx=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Kx=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $x(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const Zx=new RegExp("^-?(0*)\\d{1,10}$"),Jx=-2147483648,eR=2147483647,Zv=function(s){if(Zx.test(s)){const e=Number(s);if(e>=Jx&&e<=eR)return e}return null},Ba=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw xt("Exception was thrown by user callback.",i),e},Math.floor(0))}},tR=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xr=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};class nR{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.appCheckProvider?.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){xt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class iR{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(l=>this.auth_=l)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xt(e)}}class iu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}iu.OWNER="owner";const Ud="5",K0="v",$0="s",Z0="r",J0="f",eb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tb="ls",nb="p",td="ac",ib="websocket",sb="long_polling";class ab{constructor(e,i,a,l,u=!1,f="",d=!1,p=!1,m=null){this.secure=i,this.namespace=a,this.webSocketOnly=l,this.nodeAdmin=u,this.persistenceKey=f,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=p,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_s.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_s.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function sR(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function rb(s,e,i){Y(typeof e=="string","typeof type must == string"),Y(typeof i=="object","typeof params must == object");let a;if(e===ib)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===sb)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sR(s)&&(i.ns=s.namespace);const l=[];return gt(i,(u,f)=>{l.push(u+"="+f)}),a+l.join("&")}class aR{constructor(){this.counters_={}}incrementCounter(e,i=1){Rn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return s1(this.counters_)}}const kh={},Uh={};function zd(s){const e=s.toString();return kh[e]||(kh[e]=new aR),kh[e]}function rR(s,e){const i=s.toString();return Uh[i]||(Uh[i]=e()),Uh[i]}class lR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<a.length;++l)a[l]&&Ba(()=>{this.onMessage_(a[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Jv="start",oR="close",uR="pLPCommand",cR="pRTLPCB",lb="id",ob="pw",ub="ser",fR="cb",hR="seg",dR="ts",mR="d",pR="dframe",cb=1870,fb=30,gR=cb-fb,_R=25e3,vR=3e4;class ga{constructor(e,i,a,l,u,f,d){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=l,this.authToken=u,this.transportSessionId=f,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_l(e),this.stats_=zd(i),this.urlFn=p=>(this.appCheckToken&&(p[td]=this.appCheckToken),rb(i,sb,p))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new lR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(vR)),Wx(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pd((...u)=>{const[f,d,p,m,v]=u;if(this.incrementIncomingBytes_(u),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Jv)this.id=d,this.password=p;else if(f===oR)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...u)=>{const[f,d]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(f,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[Jv]="t",a[ub]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[fR]=this.scriptTagHolder.uniqueCallbackIdentifier),a[K0]=Ud,this.transportSessionId&&(a[$0]=this.transportSessionId),this.lastSessionId&&(a[tb]=this.lastSessionId),this.applicationId&&(a[nb]=this.applicationId),this.appCheckToken&&(a[td]=this.appCheckToken),typeof location<"u"&&location.hostname&&eb.test(location.hostname)&&(a[Z0]=J0);const l=this.urlFn(a);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ga.forceAllow_=!0}static forceDisallow(){ga.forceDisallow_=!0}static isAvailable(){return ga.forceAllow_?!0:!ga.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Qx()&&!Kx()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=ut(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=O0(i),l=X0(a,gR);for(let u=0;u<l.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[u]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[pR]="t",a[lb]=e,a[ob]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=ut(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Pd{constructor(e,i,a,l){this.onDisconnect=a,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Gx(),window[uR+this.uniqueCallbackIdentifier]=e,window[cR+this.uniqueCallbackIdentifier]=i,this.myIFrame=Pd.createIFrame_();let u="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(u='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(d){pt("frame writing exception"),d.stack&&pt(d.stack),pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||pt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[lb]=this.myID,e[ob]=this.myPW,e[ub]=this.currentSerial;let i=this.urlFn(e),a="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fb+a.length<=cb;){const f=this.pendingSegs.shift();a=a+"&"+hR+l+"="+f.seg+"&"+dR+l+"="+f.ts+"&"+mR+l+"="+f.d,l++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},l=setTimeout(a,Math.floor(_R)),u=()=>{clearTimeout(l),a()};this.addTag(e,u)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const l=a.readyState;(!l||l==="loaded"||l==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}const yR=16384,bR=45e3;let pu=null;typeof MozWebSocket<"u"?pu=MozWebSocket:typeof WebSocket<"u"&&(pu=WebSocket);class mn{constructor(e,i,a,l,u,f,d){this.connId=e,this.applicationId=a,this.appCheckToken=l,this.authToken=u,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_l(this.connId),this.stats_=zd(i),this.connURL=mn.connectionURL_(i,f,d,l,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,l,u){const f={};return f[K0]=Ud,typeof location<"u"&&location.hostname&&eb.test(location.hostname)&&(f[Z0]=J0),i&&(f[$0]=i),a&&(f[tb]=a),l&&(f[td]=l),u&&(f[nb]=u),rb(e,ib,f)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_s.set("previous_websocket_failure",!0);try{let a;_1(),this.mySock=new pu(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const l=a.message||a.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const l=a.message||a.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){mn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&pu!==null&&!mn.forceDisallow_}static previouslyFailed(){return _s.isInMemoryStorage||_s.get("previous_websocket_failure")===!0}markConnectionHealthy(){_s.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=tl(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Y(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=ut(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=X0(i,yR);a.length>1&&this.sendString_(String(a.length));for(let l=0;l<a.length;l++)this.sendString_(a[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bR))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}mn.responsesRequiredToBeHealthy=2;mn.healthyTimeout=3e4;class il{static get ALL_TRANSPORTS(){return[ga,mn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=mn&&mn.isAvailable();let a=i&&!mn.previouslyFailed();if(e.webSocketOnly&&(i||xt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[mn];else{const l=this.transports_=[];for(const u of il.ALL_TRANSPORTS)u&&u.isAvailable()&&l.push(u);il.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}il.globalTransportInitialized_=!1;const ER=6e4,SR=5e3,CR=10*1024,TR=100*1024,zh="t",ey="d",wR="s",ty="r",xR="e",ny="o",iy="a",sy="n",ay="p",RR="h";class AR{constructor(e,i,a,l,u,f,d,p,m,v){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=l,this.authToken_=u,this.onMessage_=f,this.onReady_=d,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_l("c:"+this.id+":"),this.transportManager_=new il(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const l=e.healthyTimeout||0;l>0&&(this.healthyTimeout_=Xr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>TR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>CR?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zh in e){const i=e[zh];i===iy?this.upgradeIfSecondaryHealthy_():i===ty?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===ny&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Vr("t",e),a=Vr("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ay,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:iy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:sy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Vr("t",e),a=Vr("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Vr(zh,e);if(ey in e){const a=e[ey];if(i===RR){const l={...a};this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(i===sy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===wR?this.onConnectionShutdown_(a):i===ty?this.onReset_(a):i===xR?ed("Server Error: "+a):i===ny?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ed("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,l=e.h;this.sessionId=e.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),Ud!==a&&xt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),Xr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ER))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(SR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ay,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_s.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class hb{put(e,i,a,l){}merge(e,i,a,l){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}class db{constructor(e){this.allowedEvents_=e,this.listeners_={},Y(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let l=0;l<a.length;l++)a[l].callback.apply(a[l].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const l=this.getInitialEvent(e);l&&i.apply(a,l)}off(e,i,a){this.validateEventType_(e);const l=this.listeners_[e]||[];for(let u=0;u<l.length;u++)if(l[u].callback===i&&(!a||a===l[u].context)){l.splice(u,1);return}}validateEventType_(e){Y(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}class gu extends db{static getInstance(){return new gu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Dd()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Y(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const ry=32,ly=768;class Me{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[a]=this.pieces_[l],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function xe(){return new Me("")}function oe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function qi(s){return s.pieces_.length-s.pieceNum_}function He(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Me(s.pieces_,e)}function Hd(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function NR(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function sl(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function mb(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Me(e,0)}function We(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Me)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let l=0;l<a.length;l++)a[l].length>0&&i.push(a[l])}return new Me(i,0)}function ue(s){return s.pieceNum_>=s.pieces_.length}function wt(s,e){const i=oe(s),a=oe(e);if(i===null)return e;if(i===a)return wt(He(s),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function OR(s,e){const i=sl(s,0),a=sl(e,0);for(let l=0;l<i.length&&l<a.length;l++){const u=As(i[l],a[l]);if(u!==0)return u}return i.length===a.length?0:i.length<a.length?-1:1}function Bd(s,e){if(qi(s)!==qi(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function rn(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(qi(s)>qi(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class DR{constructor(e,i){this.errorPrefix_=i,this.parts_=sl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Pu(this.parts_[a]);pb(this)}}function MR(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=Pu(e),pb(s)}function IR(s){const e=s.parts_.pop();s.byteLength_-=Pu(e),s.parts_.length>0&&(s.byteLength_-=1)}function pb(s){if(s.byteLength_>ly)throw new Error(s.errorPrefix_+"has a key path longer than "+ly+" bytes ("+s.byteLength_+").");if(s.parts_.length>ry)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ry+") or object contains a cycle "+gs(s))}function gs(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class jd extends db{static getInstance(){return new jd}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return Y(e==="visible","Unknown event type: "+e),[this.visible_]}}const qr=1e3,LR=300*1e3,oy=30*1e3,kR=1.3,UR=3e4,zR="server_kill",uy=3;class $n extends hb{constructor(e,i,a,l,u,f,d,p){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=l,this.onServerInfoUpdate_=u,this.authTokenProvider_=f,this.appCheckTokenProvider_=d,this.authOverride_=p,this.id=$n.nextPersistentConnectionId_++,this.log_=_l("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=qr,this.maxReconnectDelay_=LR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,p)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jd.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const l=++this.requestNumber_,u={r:l,a:e,b:i};this.log_(ut(u)),Y(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(u),a&&(this.requestCBHash_[l]=a)}get(e){this.initConnection_();const i=new Cn,l={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:f=>{const d=f.d;f.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const u=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(u),i.promise}listen(e,i,a,l){this.initConnection_();const u=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+u),this.listens.has(f)||this.listens.set(f,new Map),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Y(!this.listens.get(f).has(u),"listen() called twice for same path/queryId.");const d={onComplete:l,hashFn:i,query:e,tag:a};this.listens.get(f).set(u,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),l=i._queryIdentifier;this.log_("Listen on "+a+" for "+l);const u={p:a},f="q";e.tag&&(u.q=i._queryObject,u.t=e.tag),u.h=e.hashFn(),this.sendRequest(f,u,d=>{const p=d.d,m=d.s;$n.warnOnListenWarnings_(p,i),(this.listens.get(a)&&this.listens.get(a).get(l))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(a,l),e.onComplete&&e.onComplete(m,p))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&Rn(e,"w")){const a=xa(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const l='".indexOn": "'+i._queryParams.getIndex().toString()+'"',u=i._path.toString();xt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${u} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||T1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=C1(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,l=>{const u=l.s,f=l.d||"error";this.authToken_===e&&(u==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(u,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),l=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+l),Y(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,l)&&this.connected_&&this.sendUnlisten_(a,l,e._queryObject,i)}sendUnlisten_(e,i,a,l){this.log_("Unlisten on "+e+" for "+i);const u={p:e},f="n";l&&(u.q=a,u.t=l),this.sendRequest(f,u)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,l){const u={p:i,d:a};this.log_("onDisconnect "+e,u),this.sendRequest(e,u,f=>{l&&setTimeout(()=>{l(f.s,f.d)},Math.floor(0))})}put(e,i,a,l){this.putInternal("p",e,i,a,l)}merge(e,i,a,l){this.putInternal("m",e,i,a,l)}putInternal(e,i,a,l,u){this.initConnection_();const f={p:i,d:a};u!==void 0&&(f.h=u),this.outstandingPuts_.push({action:e,request:f,onComplete:l}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,l=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,u=>{this.log_(i+" response",u),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(u.s,u.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const u=a.d;this.log_("reportStats","Error sending stats: "+u)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ut(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):ed("Unrecognized action received from server: "+ut(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Y(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>UR&&(this.reconnectDelay_=qr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+$n.nextConnectionId_++,u=this.lastSessionId;let f=!1,d=null;const p=function(){d?d.close():(f=!0,a())},m=function(_){Y(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(_)};this.realtime_={close:p,sendRequest:m};const v=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,b]=await Promise.all([this.authTokenProvider_.getToken(v),this.appCheckTokenProvider_.getToken(v)]);f?pt("getToken() completed but was canceled"):(pt("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=b&&b.token,d=new AR(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,T=>{xt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(zR)},u))}catch(_){this.log_("Failed to get token: "+_),f||(this.repoInfo_.nodeAdmin&&xt(_),p())}}}interrupt(e){pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hu(this.interruptReasons_)&&(this.reconnectDelay_=qr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(u=>kd(u)).join("$"):a="default";const l=this.removeListen_(e,a);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(e,i){const a=new Me(e).toString();let l;if(this.listens.has(a)){const u=this.listens.get(a);l=u.get(i),u.delete(i),u.size===0&&this.listens.delete(a)}else l=void 0;return l}onAuthRevoked_(e,i){pt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uy&&(this.reconnectDelay_=oy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){pt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+Y0.replace(/\./g,"-")]=1,Dd()?e["framework.cordova"]=1:z0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gu.getInstance().currentlyOnline();return hu(this.interruptReasons_)&&e}}$n.nextPersistentConnectionId_=0;$n.nextConnectionId_=0;class ce{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new ce(e,i)}}class Bu{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new ce(Na,e),l=new ce(Na,i);return this.compare(a,l)!==0}minPost(){return ce.MIN}}let Yo;class gb extends Bu{static get __EMPTY_NODE(){return Yo}static set __EMPTY_NODE(e){Yo=e}compare(e,i){return As(e.name,i.name)}isDefinedOn(e){throw Ua("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return ce.MIN}maxPost(){return new ce(Es,Yo)}makePost(e,i){return Y(typeof e=="string","KeyIndex indexValue must always be a string."),new ce(e,Yo)}toString(){return".key"}}const ba=new gb;class Fo{constructor(e,i,a,l,u=null){this.isReverse_=l,this.resultGenerator_=u,this.nodeStack_=[];let f=1;for(;!e.isEmpty();)if(e=e,f=i?a(e.key,i):1,l&&(f*=-1),f<0)this.isReverse_?e=e.left:e=e.right;else if(f===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class mt{constructor(e,i,a,l,u){this.key=e,this.value=i,this.color=a??mt.RED,this.left=l??kt.EMPTY_NODE,this.right=u??kt.EMPTY_NODE}copy(e,i,a,l,u){return new mt(e??this.key,i??this.value,a??this.color,l??this.left,u??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let l=this;const u=a(e,l.key);return u<0?l=l.copy(null,null,null,l.left.insert(e,i,a),null):u===0?l=l.copy(null,i,null,null,null):l=l.copy(null,null,null,null,l.right.insert(e,i,a)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return kt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,l;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return kt.EMPTY_NODE;l=a.right.min_(),a=a.copy(l.key,l.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}mt.RED=!0;mt.BLACK=!1;class PR{copy(e,i,a,l,u){return this}insert(e,i,a){return new mt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class kt{constructor(e,i=kt.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new kt(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,mt.BLACK,null,null))}remove(e){return new kt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,mt.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,l=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return l?l.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(l=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Fo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new Fo(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new Fo(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new Fo(this.root_,null,this.comparator_,!0,e)}}kt.EMPTY_NODE=new PR;function HR(s,e){return As(s.name,e.name)}function Vd(s,e){return As(s,e)}let nd;function BR(s){nd=s}const _b=function(s){return typeof s=="number"?"number:"+Q0(s):"string:"+s},vb=function(s){if(s.isLeafNode()){const e=s.val();Y(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Rn(e,".sv"),"Priority must be a string or number.")}else Y(s===nd||s.isEmpty(),"priority of unexpected type.");Y(s===nd||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let cy;class dt{static set __childrenNodeConstructor(e){cy=e}static get __childrenNodeConstructor(){return cy}constructor(e,i=dt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,Y(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),vb(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new dt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:dt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ue(e)?this:oe(e)===".priority"?this.priorityNode_:dt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:dt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=oe(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(Y(a!==".priority"||qi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,dt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+_b(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=Q0(this.value_):e+=this.value_,this.lazyHash_=W0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===dt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof dt.__childrenNodeConstructor?-1:(Y(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,l=dt.VALUE_TYPE_ORDER.indexOf(i),u=dt.VALUE_TYPE_ORDER.indexOf(a);return Y(l>=0,"Unknown leaf type: "+i),Y(u>=0,"Unknown leaf type: "+a),l===u?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:u-l}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}dt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let yb,bb;function jR(s){yb=s}function VR(s){bb=s}class qR extends Bu{compare(e,i){const a=e.node.getPriority(),l=i.node.getPriority(),u=a.compareTo(l);return u===0?As(e.name,i.name):u}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return ce.MIN}maxPost(){return new ce(Es,new dt("[PRIORITY-POST]",bb))}makePost(e,i){const a=yb(e);return new ce(i,new dt("[PRIORITY-POST]",a))}toString(){return".priority"}}const Xe=new qR;const GR=Math.log(2);class YR{constructor(e){const i=u=>parseInt(Math.log(u)/GR,10),a=u=>parseInt(Array(u+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const l=a(this.count);this.bits_=e+1&l}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _u=function(s,e,i,a){s.sort(e);const l=function(p,m){const v=m-p;let _,b;if(v===0)return null;if(v===1)return _=s[p],b=i?i(_):_,new mt(b,_.node,mt.BLACK,null,null);{const T=parseInt(v/2,10)+p,x=l(p,T),I=l(T+1,m);return _=s[T],b=i?i(_):_,new mt(b,_.node,mt.BLACK,x,I)}},u=function(p){let m=null,v=null,_=s.length;const b=function(x,I){const H=_-x,j=_;_-=x;const B=l(H+1,j),q=s[H],ne=i?i(q):q;T(new mt(ne,q.node,I,null,B))},T=function(x){m?(m.left=x,m=x):(v=x,m=x)};for(let x=0;x<p.count;++x){const I=p.nextBitIsOne(),H=Math.pow(2,p.count-(x+1));I?b(H,mt.BLACK):(b(H,mt.BLACK),b(H,mt.RED))}return v},f=new YR(s.length),d=u(f);return new kt(a||e,d)};let Ph;const ma={};class Wn{static get Default(){return Y(ma&&Xe,"ChildrenNode.ts has not been loaded"),Ph=Ph||new Wn({".priority":ma},{".priority":Xe}),Ph}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=xa(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof kt?i:null}hasIndex(e){return Rn(this.indexSet_,e.toString())}addIndex(e,i){Y(e!==ba,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let l=!1;const u=i.getIterator(ce.Wrap);let f=u.getNext();for(;f;)l=l||e.isDefinedOn(f.node),a.push(f),f=u.getNext();let d;l?d=_u(a,e.getCompare()):d=ma;const p=e.toString(),m={...this.indexSet_};m[p]=e;const v={...this.indexes_};return v[p]=d,new Wn(v,m)}addToIndexes(e,i){const a=du(this.indexes_,(l,u)=>{const f=xa(this.indexSet_,u);if(Y(f,"Missing index implementation for "+u),l===ma)if(f.isDefinedOn(e.node)){const d=[],p=i.getIterator(ce.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&d.push(m),m=p.getNext();return d.push(e),_u(d,f.getCompare())}else return ma;else{const d=i.get(e.name);let p=l;return d&&(p=p.remove(new ce(e.name,d))),p.insert(e,e.node)}});return new Wn(a,this.indexSet_)}removeFromIndexes(e,i){const a=du(this.indexes_,l=>{if(l===ma)return l;{const u=i.get(e.name);return u?l.remove(new ce(e.name,u)):l}});return new Wn(a,this.indexSet_)}}let Gr;class J{static get EMPTY_NODE(){return Gr||(Gr=new J(new kt(Vd),null,Wn.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&vb(this.priorityNode_),this.children_.isEmpty()&&Y(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Gr}updatePriority(e){return this.children_.isEmpty()?this:new J(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Gr:i}}getChild(e){const i=oe(e);return i===null?this:this.getImmediateChild(i).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(Y(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new ce(e,i);let l,u;i.isEmpty()?(l=this.children_.remove(e),u=this.indexMap_.removeFromIndexes(a,this.children_)):(l=this.children_.insert(e,i),u=this.indexMap_.addToIndexes(a,this.children_));const f=l.isEmpty()?Gr:this.priorityNode_;return new J(l,f,u)}}updateChild(e,i){const a=oe(e);if(a===null)return i;{Y(oe(e)!==".priority"||qi(e)===1,".priority must be the last token in a path");const l=this.getImmediateChild(a).updateChild(He(e),i);return this.updateImmediateChild(a,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,l=0,u=!0;if(this.forEachChild(Xe,(f,d)=>{i[f]=d.val(e),a++,u&&J.INTEGER_REGEXP_.test(f)?l=Math.max(l,Number(f)):u=!1}),!e&&u&&l<2*a){const f=[];for(const d in i)f[d]=i[d];return f}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+_b(this.getPriority().val())+":"),this.forEachChild(Xe,(i,a)=>{const l=a.hash();l!==""&&(e+=":"+i+":"+l)}),this.lazyHash_=e===""?"":W0(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const l=this.resolveIndex_(a);if(l){const u=l.getPredecessorKey(new ce(e,i));return u?u.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new ce(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new ce(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(l=>i(l.name,l.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,l=>l);{const l=this.children_.getIteratorFrom(e.name,ce.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)<0;)l.getNext(),u=l.peek();return l}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,l=>l);{const l=this.children_.getReverseIteratorFrom(e.name,ce.Wrap);let u=l.peek();for(;u!=null&&i.compare(u,e)>0;)l.getNext(),u=l.peek();return l}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===vl?-1:0}withIndex(e){if(e===ba||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new J(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===ba||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Xe),l=i.getIterator(Xe);let u=a.getNext(),f=l.getNext();for(;u&&f;){if(u.name!==f.name||!u.node.equals(f.node))return!1;u=a.getNext(),f=l.getNext()}return u===null&&f===null}else return!1;else return!1}}resolveIndex_(e){return e===ba?null:this.indexMap_.get(e.toString())}}J.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class FR extends J{constructor(){super(new kt(Vd),J.EMPTY_NODE,Wn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return J.EMPTY_NODE}isEmpty(){return!1}}const vl=new FR;Object.defineProperties(ce,{MIN:{value:new ce(Na,J.EMPTY_NODE)},MAX:{value:new ce(Es,vl)}});gb.__EMPTY_NODE=J.EMPTY_NODE;dt.__childrenNodeConstructor=J;BR(vl);VR(vl);const WR=!0;function Ze(s,e=null){if(s===null)return J.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),Y(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new dt(i,Ze(e))}if(!(s instanceof Array)&&WR){const i=[];let a=!1;if(gt(s,(f,d)=>{if(f.substring(0,1)!=="."){const p=Ze(d);p.isEmpty()||(a=a||!p.getPriority().isEmpty(),i.push(new ce(f,p)))}}),i.length===0)return J.EMPTY_NODE;const u=_u(i,HR,f=>f.name,Vd);if(a){const f=_u(i,Xe.getCompare());return new J(u,Ze(e),new Wn({".priority":f},{".priority":Xe}))}else return new J(u,Ze(e),Wn.Default)}else{let i=J.EMPTY_NODE;return gt(s,(a,l)=>{if(Rn(s,a)&&a.substring(0,1)!=="."){const u=Ze(l);(u.isLeafNode()||!u.isEmpty())&&(i=i.updateImmediateChild(a,u))}}),i.updatePriority(Ze(e))}}jR(Ze);class XR extends Bu{constructor(e){super(),this.indexPath_=e,Y(!ue(e)&&oe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),l=this.extractChild(i.node),u=a.compareTo(l);return u===0?As(e.name,i.name):u}makePost(e,i){const a=Ze(e),l=J.EMPTY_NODE.updateChild(this.indexPath_,a);return new ce(i,l)}maxPost(){const e=J.EMPTY_NODE.updateChild(this.indexPath_,vl);return new ce(Es,e)}toString(){return sl(this.indexPath_,0).join("/")}}class QR extends Bu{compare(e,i){const a=e.node.compareTo(i.node);return a===0?As(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return ce.MIN}maxPost(){return ce.MAX}makePost(e,i){const a=Ze(e);return new ce(i,a)}toString(){return".value"}}const KR=new QR;function Eb(s){return{type:"value",snapshotNode:s}}function Oa(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function al(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function rl(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function $R(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}class qd{constructor(e){this.index_=e}updateChild(e,i,a,l,u,f){Y(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(i);return d.getChild(l).equals(a.getChild(l))&&d.isEmpty()===a.isEmpty()||(f!=null&&(a.isEmpty()?e.hasChild(i)?f.trackChildChange(al(i,d)):Y(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?f.trackChildChange(Oa(i,a)):f.trackChildChange(rl(i,a,d))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(Xe,(l,u)=>{i.hasChild(l)||a.trackChildChange(al(l,u))}),i.isLeafNode()||i.forEachChild(Xe,(l,u)=>{if(e.hasChild(l)){const f=e.getImmediateChild(l);f.equals(u)||a.trackChildChange(rl(l,u,f))}else a.trackChildChange(Oa(l,u))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?J.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ll{constructor(e){this.indexedFilter_=new qd(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ll.getStartPost_(e),this.endPost_=ll.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,l,u,f){return this.matches(new ce(i,a))||(a=J.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,l,u,f)}updateFullNode(e,i,a){i.isLeafNode()&&(i=J.EMPTY_NODE);let l=i.withIndex(this.index_);l=l.updatePriority(J.EMPTY_NODE);const u=this;return i.forEachChild(Xe,(f,d)=>{u.matches(new ce(f,d))||(l=l.updateImmediateChild(f,J.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,l,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}class ZR{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new ll(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,l,u,f){return this.rangedFilter_.matches(new ce(i,a))||(a=J.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,l,u,f):this.fullLimitUpdateChild_(e,i,a,u,f)}updateFullNode(e,i,a){let l;if(i.isLeafNode()||i.isEmpty())l=J.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){l=J.EMPTY_NODE.withIndex(this.index_);let u;this.reverse_?u=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):u=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;u.hasNext()&&f<this.limit_;){const d=u.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))l=l.updateImmediateChild(d.name,d.node),f++;else break;else continue}}else{l=i.withIndex(this.index_),l=l.updatePriority(J.EMPTY_NODE);let u;this.reverse_?u=l.getReverseIterator(this.index_):u=l.getIterator(this.index_);let f=0;for(;u.hasNext();){const d=u.getNext();f<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?f++:l=l.updateImmediateChild(d.name,J.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,l,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,l,u){let f;if(this.reverse_){const _=this.index_.getCompare();f=(b,T)=>_(T,b)}else f=this.index_.getCompare();const d=e;Y(d.numChildren()===this.limit_,"");const p=new ce(i,a),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(p);if(d.hasChild(i)){const _=d.getImmediateChild(i);let b=l.getChildAfterChild(this.index_,m,this.reverse_);for(;b!=null&&(b.name===i||d.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const T=b==null?1:f(b,p);if(v&&!a.isEmpty()&&T>=0)return u?.trackChildChange(rl(i,a,_)),d.updateImmediateChild(i,a);{u?.trackChildChange(al(i,_));const I=d.updateImmediateChild(i,J.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(u?.trackChildChange(Oa(b.name,b.node)),I.updateImmediateChild(b.name,b.node)):I}}else return a.isEmpty()?e:v&&f(m,p)>=0?(u!=null&&(u.trackChildChange(al(m.name,m.node)),u.trackChildChange(Oa(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(m.name,J.EMPTY_NODE)):e}}class Gd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Y(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Y(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Na}hasEnd(){return this.endSet_}getIndexEndValue(){return Y(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Y(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Es}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Y(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const e=new Gd;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JR(s){return s.loadsAllData()?new qd(s.getIndex()):s.hasLimit()?new ZR(s):new ll(s)}function fy(s){const e={};if(s.isDefault())return e;let i;if(s.index_===Xe?i="$priority":s.index_===KR?i="$value":s.index_===ba?i="$key":(Y(s.index_ instanceof XR,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=ut(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=ut(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+ut(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=ut(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+ut(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function hy(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==Xe&&(e.i=s.index_.toString()),e}class vu extends hb{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(Y(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,l){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.log_=_l("p:rest:"),this.listens_={}}listen(e,i,a,l){const u=e._path.toString();this.log_("Listen called for "+u+" "+e._queryIdentifier);const f=vu.getListenId_(e,a),d={};this.listens_[f]=d;const p=fy(e._queryParams);this.restRequest_(u+".json",p,(m,v)=>{let _=v;if(m===404&&(_=null,m=null),m===null&&this.onDataUpdate_(u,_,!1,a),xa(this.listens_,f)===d){let b;m?m===401?b="permission_denied":b="rest_error:"+m:b="ok",l(b,null)}})}unlisten(e,i){const a=vu.getListenId_(e,i);delete this.listens_[a]}get(e){const i=fy(e._queryParams),a=e._path.toString(),l=new Cn;return this.restRequest_(a+".json",i,(u,f)=>{let d=f;u===404&&(d=null,u=null),u===null?(this.onDataUpdate_(a,d,!1,null),l.resolve(d)):l.reject(new Error(d))}),l.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,u])=>{l&&l.accessToken&&(i.auth=l.accessToken),u&&u.token&&(i.ac=u.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Pa(i);this.log_("Sending REST request for "+f);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+f+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=tl(d.responseText)}catch{xt("Failed to parse JSON response for "+f+": "+d.responseText)}a(null,p)}else d.status!==401&&d.status!==404&&xt("Got unsuccessful REST response for "+f+" Status: "+d.status),a(d.status);a=null}},d.open("GET",f,!0),d.send()})}}class eA{constructor(){this.rootNode_=J.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}function yu(){return{value:null,children:new Map}}function ja(s,e,i){if(ue(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=oe(e);s.children.has(a)||s.children.set(a,yu());const l=s.children.get(a);e=He(e),ja(l,e,i)}}function id(s,e){if(ue(e))return s.value=null,s.children.clear(),!0;if(s.value!==null){if(s.value.isLeafNode())return!1;{const i=s.value;return s.value=null,i.forEachChild(Xe,(a,l)=>{ja(s,new Me(a),l)}),id(s,e)}}else if(s.children.size>0){const i=oe(e);return e=He(e),s.children.has(i)&&id(s.children.get(i),e)&&s.children.delete(i),s.children.size===0}else return!0}function sd(s,e,i){s.value!==null?i(e,s.value):tA(s,(a,l)=>{const u=new Me(e.toString()+"/"+a);sd(l,u,i)})}function tA(s,e){s.children.forEach((i,a)=>{e(a,i)})}class nA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i={...e};return this.last_&&gt(this.last_,(a,l)=>{i[a]=i[a]-l}),this.last_=e,i}}const dy=10*1e3,iA=30*1e3,sA=300*1e3;class aA{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new nA(e);const a=dy+(iA-dy)*Math.random();Xr(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;gt(e,(l,u)=>{u>0&&Rn(this.statsToReport_,l)&&(i[l]=u,a=!0)}),a&&this.server_.reportStats(i),Xr(this.reportStats_.bind(this),Math.floor(Math.random()*2*sA))}}var pn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(pn||(pn={}));function Yd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Wd(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class bu{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=pn.ACK_USER_WRITE,this.source=Yd()}operationForChild(e){if(ue(this.path)){if(this.affectedTree.value!=null)return Y(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Me(e));return new bu(xe(),i,this.revert)}}else return Y(oe(this.path)===e,"operationForChild called for unrelated child."),new bu(He(this.path),this.affectedTree,this.revert)}}class ol{constructor(e,i){this.source=e,this.path=i,this.type=pn.LISTEN_COMPLETE}operationForChild(e){return ue(this.path)?new ol(this.source,xe()):new ol(this.source,He(this.path))}}class Ss{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=pn.OVERWRITE}operationForChild(e){return ue(this.path)?new Ss(this.source,xe(),this.snap.getImmediateChild(e)):new Ss(this.source,He(this.path),this.snap)}}class Da{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=pn.MERGE}operationForChild(e){if(ue(this.path)){const i=this.children.subtree(new Me(e));return i.isEmpty()?null:i.value?new Ss(this.source,xe(),i.value):new Da(this.source,xe(),i)}else return Y(oe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Da(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Gi{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ue(e))return this.isFullyInitialized()&&!this.filtered_;const i=oe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class rA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lA(s,e,i,a){const l=[],u=[];return e.forEach(f=>{f.type==="child_changed"&&s.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&u.push($R(f.childName,f.snapshotNode))}),Yr(s,l,"child_removed",e,a,i),Yr(s,l,"child_added",e,a,i),Yr(s,l,"child_moved",u,a,i),Yr(s,l,"child_changed",e,a,i),Yr(s,l,"value",e,a,i),l}function Yr(s,e,i,a,l,u){const f=a.filter(d=>d.type===i);f.sort((d,p)=>uA(s,d,p)),f.forEach(d=>{const p=oA(s,d,u);l.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(p,s.query_))})})}function oA(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function uA(s,e,i){if(e.childName==null||i.childName==null)throw Ua("Should only compare child_ events.");const a=new ce(e.childName,e.snapshotNode),l=new ce(i.childName,i.snapshotNode);return s.index_.compare(a,l)}function ju(s,e){return{eventCache:s,serverCache:e}}function Qr(s,e,i,a){return ju(new Gi(e,i,a),s.serverCache)}function Sb(s,e,i,a){return ju(s.eventCache,new Gi(e,i,a))}function Eu(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Cs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Hh;const cA=()=>(Hh||(Hh=new kt(Xx)),Hh);class Be{static fromObject(e){let i=new Be(null);return gt(e,(a,l)=>{i=i.set(new Me(a),l)}),i}constructor(e,i=cA()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:xe(),value:this.value};if(ue(e))return null;{const a=oe(e),l=this.children.get(a);if(l!==null){const u=l.findRootMostMatchingPathAndValue(He(e),i);return u!=null?{path:We(new Me(a),u.path),value:u.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ue(e))return this;{const i=oe(e),a=this.children.get(i);return a!==null?a.subtree(He(e)):new Be(null)}}set(e,i){if(ue(e))return new Be(i,this.children);{const a=oe(e),u=(this.children.get(a)||new Be(null)).set(He(e),i),f=this.children.insert(a,u);return new Be(this.value,f)}}remove(e){if(ue(e))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const i=oe(e),a=this.children.get(i);if(a){const l=a.remove(He(e));let u;return l.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,l),this.value===null&&u.isEmpty()?new Be(null):new Be(this.value,u)}else return this}}get(e){if(ue(e))return this.value;{const i=oe(e),a=this.children.get(i);return a?a.get(He(e)):null}}setTree(e,i){if(ue(e))return i;{const a=oe(e),u=(this.children.get(a)||new Be(null)).setTree(He(e),i);let f;return u.isEmpty()?f=this.children.remove(a):f=this.children.insert(a,u),new Be(this.value,f)}}fold(e){return this.fold_(xe(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((l,u)=>{a[l]=u.fold_(We(e,l),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,xe(),i)}findOnPath_(e,i,a){const l=this.value?a(i,this.value):!1;if(l)return l;if(ue(e))return null;{const u=oe(e),f=this.children.get(u);return f?f.findOnPath_(He(e),We(i,u),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,xe(),i)}foreachOnPath_(e,i,a){if(ue(e))return this;{this.value&&a(i,this.value);const l=oe(e),u=this.children.get(l);return u?u.foreachOnPath_(He(e),We(i,l),a):new Be(null)}}foreach(e){this.foreach_(xe(),e)}foreach_(e,i){this.children.inorderTraversal((a,l)=>{l.foreach_(We(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}class _n{constructor(e){this.writeTree_=e}static empty(){return new _n(new Be(null))}}function Kr(s,e,i){if(ue(e))return new _n(new Be(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const l=a.path;let u=a.value;const f=wt(l,e);return u=u.updateChild(f,i),new _n(s.writeTree_.set(l,u))}else{const l=new Be(i),u=s.writeTree_.setTree(e,l);return new _n(u)}}}function ad(s,e,i){let a=s;return gt(i,(l,u)=>{a=Kr(a,We(e,l),u)}),a}function my(s,e){if(ue(e))return _n.empty();{const i=s.writeTree_.setTree(e,new Be(null));return new _n(i)}}function rd(s,e){return Ns(s,e)!=null}function Ns(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(wt(i.path,e)):null}function py(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Xe,(a,l)=>{e.push(new ce(a,l))}):s.writeTree_.children.inorderTraversal((a,l)=>{l.value!=null&&e.push(new ce(a,l.value))}),e}function Bi(s,e){if(ue(e))return s;{const i=Ns(s,e);return i!=null?new _n(new Be(i)):new _n(s.writeTree_.subtree(e))}}function ld(s){return s.writeTree_.isEmpty()}function Ma(s,e){return Cb(xe(),s.writeTree_,e)}function Cb(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((l,u)=>{l===".priority"?(Y(u.value!==null,"Priority writes must always be leaf nodes"),a=u.value):i=Cb(We(s,l),u,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(We(s,".priority"),a)),i}}function Vu(s,e){return Rb(e,s)}function fA(s,e,i,a,l){Y(a>s.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:l}),l&&(s.visibleWrites=Kr(s.visibleWrites,e,i)),s.lastWriteId=a}function hA(s,e,i,a){Y(a>s.lastWriteId,"Stacking an older merge on top of newer ones"),s.allWrites.push({path:e,children:i,writeId:a,visible:!0}),s.visibleWrites=ad(s.visibleWrites,e,i),s.lastWriteId=a}function dA(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function mA(s,e){const i=s.allWrites.findIndex(d=>d.writeId===e);Y(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let l=a.visible,u=!1,f=s.allWrites.length-1;for(;l&&f>=0;){const d=s.allWrites[f];d.visible&&(f>=i&&pA(d,a.path)?l=!1:rn(a.path,d.path)&&(u=!0)),f--}if(l){if(u)return gA(s),!0;if(a.snap)s.visibleWrites=my(s.visibleWrites,a.path);else{const d=a.children;gt(d,p=>{s.visibleWrites=my(s.visibleWrites,We(a.path,p))})}return!0}else return!1}function pA(s,e){if(s.snap)return rn(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&rn(We(s.path,i),e))return!0;return!1}function gA(s){s.visibleWrites=Tb(s.allWrites,_A,xe()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function _A(s){return s.visible}function Tb(s,e,i){let a=_n.empty();for(let l=0;l<s.length;++l){const u=s[l];if(e(u)){const f=u.path;let d;if(u.snap)rn(i,f)?(d=wt(i,f),a=Kr(a,d,u.snap)):rn(f,i)&&(d=wt(f,i),a=Kr(a,xe(),u.snap.getChild(d)));else if(u.children){if(rn(i,f))d=wt(i,f),a=ad(a,d,u.children);else if(rn(f,i))if(d=wt(f,i),ue(d))a=ad(a,xe(),u.children);else{const p=xa(u.children,oe(d));if(p){const m=p.getChild(He(d));a=Kr(a,xe(),m)}}}else throw Ua("WriteRecord should have .snap or .children")}}return a}function wb(s,e,i,a,l){if(!a&&!l){const u=Ns(s.visibleWrites,e);if(u!=null)return u;{const f=Bi(s.visibleWrites,e);if(ld(f))return i;if(i==null&&!rd(f,xe()))return null;{const d=i||J.EMPTY_NODE;return Ma(f,d)}}}else{const u=Bi(s.visibleWrites,e);if(!l&&ld(u))return i;if(!l&&i==null&&!rd(u,xe()))return null;{const f=function(m){return(m.visible||l)&&(!a||!~a.indexOf(m.writeId))&&(rn(m.path,e)||rn(e,m.path))},d=Tb(s.allWrites,f,e),p=i||J.EMPTY_NODE;return Ma(d,p)}}}function vA(s,e,i){let a=J.EMPTY_NODE;const l=Ns(s.visibleWrites,e);if(l)return l.isLeafNode()||l.forEachChild(Xe,(u,f)=>{a=a.updateImmediateChild(u,f)}),a;if(i){const u=Bi(s.visibleWrites,e);return i.forEachChild(Xe,(f,d)=>{const p=Ma(Bi(u,new Me(f)),d);a=a.updateImmediateChild(f,p)}),py(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}else{const u=Bi(s.visibleWrites,e);return py(u).forEach(f=>{a=a.updateImmediateChild(f.name,f.node)}),a}}function yA(s,e,i,a,l){Y(a||l,"Either existingEventSnap or existingServerSnap must exist");const u=We(e,i);if(rd(s.visibleWrites,u))return null;{const f=Bi(s.visibleWrites,u);return ld(f)?l.getChild(i):Ma(f,l.getChild(i))}}function bA(s,e,i,a){const l=We(e,i),u=Ns(s.visibleWrites,l);if(u!=null)return u;if(a.isCompleteForChild(i)){const f=Bi(s.visibleWrites,l);return Ma(f,a.getNode().getImmediateChild(i))}else return null}function EA(s,e){return Ns(s.visibleWrites,e)}function SA(s,e,i,a,l,u,f){let d;const p=Bi(s.visibleWrites,e),m=Ns(p,xe());if(m!=null)d=m;else if(i!=null)d=Ma(p,i);else return[];if(d=d.withIndex(f),!d.isEmpty()&&!d.isLeafNode()){const v=[],_=f.getCompare(),b=u?d.getReverseIteratorFrom(a,f):d.getIteratorFrom(a,f);let T=b.getNext();for(;T&&v.length<l;)_(T,a)!==0&&v.push(T),T=b.getNext();return v}else return[]}function CA(){return{visibleWrites:_n.empty(),allWrites:[],lastWriteId:-1}}function Su(s,e,i,a){return wb(s.writeTree,s.treePath,e,i,a)}function Xd(s,e){return vA(s.writeTree,s.treePath,e)}function gy(s,e,i,a){return yA(s.writeTree,s.treePath,e,i,a)}function Cu(s,e){return EA(s.writeTree,We(s.treePath,e))}function TA(s,e,i,a,l,u){return SA(s.writeTree,s.treePath,e,i,a,l,u)}function Qd(s,e,i){return bA(s.writeTree,s.treePath,e,i)}function xb(s,e){return Rb(We(s.treePath,e),s.writeTree)}function Rb(s,e){return{treePath:s,writeTree:e}}class wA{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;Y(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),Y(a!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(a);if(l){const u=l.type;if(i==="child_added"&&u==="child_removed")this.changeMap.set(a,rl(a,e.snapshotNode,l.snapshotNode));else if(i==="child_removed"&&u==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&u==="child_changed")this.changeMap.set(a,al(a,l.oldSnap));else if(i==="child_changed"&&u==="child_added")this.changeMap.set(a,Oa(a,e.snapshotNode));else if(i==="child_changed"&&u==="child_changed")this.changeMap.set(a,rl(a,e.snapshotNode,l.oldSnap));else throw Ua("Illegal combination of changes: "+e+" occurred after "+l)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}class xA{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const Ab=new xA;class Kd{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Gi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qd(this.writes_,e,a)}}getChildAfterChild(e,i,a){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Cs(this.viewCache_),u=TA(this.writes_,l,i,1,a,e);return u.length===0?null:u[0]}}function RA(s){return{filter:s}}function AA(s,e){Y(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Y(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function NA(s,e,i,a,l){const u=new wA;let f,d;if(i.type===pn.OVERWRITE){const m=i;m.source.fromUser?f=od(s,e,m.path,m.snap,a,l,u):(Y(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ue(m.path),f=Tu(s,e,m.path,m.snap,a,l,d,u))}else if(i.type===pn.MERGE){const m=i;m.source.fromUser?f=DA(s,e,m.path,m.children,a,l,u):(Y(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),f=ud(s,e,m.path,m.children,a,l,d,u))}else if(i.type===pn.ACK_USER_WRITE){const m=i;m.revert?f=LA(s,e,m.path,a,l,u):f=MA(s,e,m.path,m.affectedTree,a,l,u)}else if(i.type===pn.LISTEN_COMPLETE)f=IA(s,e,i.path,a,u);else throw Ua("Unknown operation type: "+i.type);const p=u.getChanges();return OA(e,f,p),{viewCache:f,changes:p}}function OA(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const l=a.getNode().isLeafNode()||a.getNode().isEmpty(),u=Eu(s);(i.length>0||!s.eventCache.isFullyInitialized()||l&&!a.getNode().equals(u)||!a.getNode().getPriority().equals(u.getPriority()))&&i.push(Eb(Eu(e)))}}function Nb(s,e,i,a,l,u){const f=e.eventCache;if(Cu(a,i)!=null)return e;{let d,p;if(ue(i))if(Y(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Cs(e),v=m instanceof J?m:J.EMPTY_NODE,_=Xd(a,v);d=s.filter.updateFullNode(e.eventCache.getNode(),_,u)}else{const m=Su(a,Cs(e));d=s.filter.updateFullNode(e.eventCache.getNode(),m,u)}else{const m=oe(i);if(m===".priority"){Y(qi(i)===1,"Can't have a priority with additional path components");const v=f.getNode();p=e.serverCache.getNode();const _=gy(a,i,v,p);_!=null?d=s.filter.updatePriority(v,_):d=f.getNode()}else{const v=He(i);let _;if(f.isCompleteForChild(m)){p=e.serverCache.getNode();const b=gy(a,i,f.getNode(),p);b!=null?_=f.getNode().getImmediateChild(m).updateChild(v,b):_=f.getNode().getImmediateChild(m)}else _=Qd(a,m,e.serverCache);_!=null?d=s.filter.updateChild(f.getNode(),m,_,v,l,u):d=f.getNode()}}return Qr(e,d,f.isFullyInitialized()||ue(i),s.filter.filtersNodes())}}function Tu(s,e,i,a,l,u,f,d){const p=e.serverCache;let m;const v=f?s.filter:s.filter.getIndexedFilter();if(ue(i))m=v.updateFullNode(p.getNode(),a,null);else if(v.filtersNodes()&&!p.isFiltered()){const T=p.getNode().updateChild(i,a);m=v.updateFullNode(p.getNode(),T,null)}else{const T=oe(i);if(!p.isCompleteForPath(i)&&qi(i)>1)return e;const x=He(i),H=p.getNode().getImmediateChild(T).updateChild(x,a);T===".priority"?m=v.updatePriority(p.getNode(),H):m=v.updateChild(p.getNode(),T,H,x,Ab,null)}const _=Sb(e,m,p.isFullyInitialized()||ue(i),v.filtersNodes()),b=new Kd(l,_,u);return Nb(s,_,i,l,b,d)}function od(s,e,i,a,l,u,f){const d=e.eventCache;let p,m;const v=new Kd(l,e,u);if(ue(i))m=s.filter.updateFullNode(e.eventCache.getNode(),a,f),p=Qr(e,m,!0,s.filter.filtersNodes());else{const _=oe(i);if(_===".priority")m=s.filter.updatePriority(e.eventCache.getNode(),a),p=Qr(e,m,d.isFullyInitialized(),d.isFiltered());else{const b=He(i),T=d.getNode().getImmediateChild(_);let x;if(ue(b))x=a;else{const I=v.getCompleteChild(_);I!=null?Hd(b)===".priority"&&I.getChild(mb(b)).isEmpty()?x=I:x=I.updateChild(b,a):x=J.EMPTY_NODE}if(T.equals(x))p=e;else{const I=s.filter.updateChild(d.getNode(),_,x,b,v,f);p=Qr(e,I,d.isFullyInitialized(),s.filter.filtersNodes())}}}return p}function _y(s,e){return s.eventCache.isCompleteForChild(e)}function DA(s,e,i,a,l,u,f){let d=e;return a.foreach((p,m)=>{const v=We(i,p);_y(e,oe(v))&&(d=od(s,d,v,m,l,u,f))}),a.foreach((p,m)=>{const v=We(i,p);_y(e,oe(v))||(d=od(s,d,v,m,l,u,f))}),d}function vy(s,e,i){return i.foreach((a,l)=>{e=e.updateChild(a,l)}),e}function ud(s,e,i,a,l,u,f,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let p=e,m;ue(i)?m=a:m=new Be(null).setTree(i,a);const v=e.serverCache.getNode();return m.children.inorderTraversal((_,b)=>{if(v.hasChild(_)){const T=e.serverCache.getNode().getImmediateChild(_),x=vy(s,T,b);p=Tu(s,p,new Me(_),x,l,u,f,d)}}),m.children.inorderTraversal((_,b)=>{const T=!e.serverCache.isCompleteForChild(_)&&b.value===null;if(!v.hasChild(_)&&!T){const x=e.serverCache.getNode().getImmediateChild(_),I=vy(s,x,b);p=Tu(s,p,new Me(_),I,l,u,f,d)}}),p}function MA(s,e,i,a,l,u,f){if(Cu(l,i)!=null)return e;const d=e.serverCache.isFiltered(),p=e.serverCache;if(a.value!=null){if(ue(i)&&p.isFullyInitialized()||p.isCompleteForPath(i))return Tu(s,e,i,p.getNode().getChild(i),l,u,d,f);if(ue(i)){let m=new Be(null);return p.getNode().forEachChild(ba,(v,_)=>{m=m.set(new Me(v),_)}),ud(s,e,i,m,l,u,d,f)}else return e}else{let m=new Be(null);return a.foreach((v,_)=>{const b=We(i,v);p.isCompleteForPath(b)&&(m=m.set(v,p.getNode().getChild(b)))}),ud(s,e,i,m,l,u,d,f)}}function IA(s,e,i,a,l){const u=e.serverCache,f=Sb(e,u.getNode(),u.isFullyInitialized()||ue(i),u.isFiltered());return Nb(s,f,i,a,Ab,l)}function LA(s,e,i,a,l,u){let f;if(Cu(a,i)!=null)return e;{const d=new Kd(a,e,l),p=e.eventCache.getNode();let m;if(ue(i)||oe(i)===".priority"){let v;if(e.serverCache.isFullyInitialized())v=Su(a,Cs(e));else{const _=e.serverCache.getNode();Y(_ instanceof J,"serverChildren would be complete if leaf node"),v=Xd(a,_)}v=v,m=s.filter.updateFullNode(p,v,u)}else{const v=oe(i);let _=Qd(a,v,e.serverCache);_==null&&e.serverCache.isCompleteForChild(v)&&(_=p.getImmediateChild(v)),_!=null?m=s.filter.updateChild(p,v,_,He(i),d,u):e.eventCache.getNode().hasChild(v)?m=s.filter.updateChild(p,v,J.EMPTY_NODE,He(i),d,u):m=p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(f=Su(a,Cs(e)),f.isLeafNode()&&(m=s.filter.updateFullNode(m,f,u)))}return f=e.serverCache.isFullyInitialized()||Cu(a,xe())!=null,Qr(e,m,f,s.filter.filtersNodes())}}class kA{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,l=new qd(a.getIndex()),u=JR(a);this.processor_=RA(u);const f=i.serverCache,d=i.eventCache,p=l.updateFullNode(J.EMPTY_NODE,f.getNode(),null),m=u.updateFullNode(J.EMPTY_NODE,d.getNode(),null),v=new Gi(p,f.isFullyInitialized(),l.filtersNodes()),_=new Gi(m,d.isFullyInitialized(),u.filtersNodes());this.viewCache_=ju(_,v),this.eventGenerator_=new rA(this.query_)}get query(){return this.query_}}function UA(s){return s.viewCache_.serverCache.getNode()}function zA(s){return Eu(s.viewCache_)}function PA(s,e){const i=Cs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ue(e)&&!i.getImmediateChild(oe(e)).isEmpty())?i.getChild(e):null}function yy(s){return s.eventRegistrations_.length===0}function HA(s,e){s.eventRegistrations_.push(e)}function by(s,e,i){const a=[];if(i){Y(e==null,"A cancel should cancel all event registrations.");const l=s.query._path;s.eventRegistrations_.forEach(u=>{const f=u.createCancelEvent(i,l);f&&a.push(f)})}if(e){let l=[];for(let u=0;u<s.eventRegistrations_.length;++u){const f=s.eventRegistrations_[u];if(!f.matches(e))l.push(f);else if(e.hasAnyCallback()){l=l.concat(s.eventRegistrations_.slice(u+1));break}}s.eventRegistrations_=l}else s.eventRegistrations_=[];return a}function Ey(s,e,i,a){e.type===pn.MERGE&&e.source.queryId!==null&&(Y(Cs(s.viewCache_),"We should always have a full cache before handling merges"),Y(Eu(s.viewCache_),"Missing event cache, even though we have a server cache"));const l=s.viewCache_,u=NA(s.processor_,l,e,i,a);return AA(s.processor_,u.viewCache),Y(u.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=u.viewCache,Ob(s,u.changes,u.viewCache.eventCache.getNode(),null)}function BA(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Xe,(u,f)=>{a.push(Oa(u,f))}),i.isFullyInitialized()&&a.push(Eb(i.getNode())),Ob(s,a,i.getNode(),e)}function Ob(s,e,i,a){const l=a?[a]:s.eventRegistrations_;return lA(s.eventGenerator_,e,i,l)}let wu;class Db{constructor(){this.views=new Map}}function jA(s){Y(!wu,"__referenceConstructor has already been defined"),wu=s}function VA(){return Y(wu,"Reference.ts has not been loaded"),wu}function qA(s){return s.views.size===0}function $d(s,e,i,a){const l=e.source.queryId;if(l!==null){const u=s.views.get(l);return Y(u!=null,"SyncTree gave us an op for an invalid query."),Ey(u,e,i,a)}else{let u=[];for(const f of s.views.values())u=u.concat(Ey(f,e,i,a));return u}}function Mb(s,e,i,a,l){const u=e._queryIdentifier,f=s.views.get(u);if(!f){let d=Su(i,l?a:null),p=!1;d?p=!0:a instanceof J?(d=Xd(i,a),p=!1):(d=J.EMPTY_NODE,p=!1);const m=ju(new Gi(d,p,!1),new Gi(a,l,!1));return new kA(e,m)}return f}function GA(s,e,i,a,l,u){const f=Mb(s,e,a,l,u);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,f),HA(f,i),BA(f,i)}function YA(s,e,i,a){const l=e._queryIdentifier,u=[];let f=[];const d=Yi(s);if(l==="default")for(const[p,m]of s.views.entries())f=f.concat(by(m,i,a)),yy(m)&&(s.views.delete(p),m.query._queryParams.loadsAllData()||u.push(m.query));else{const p=s.views.get(l);p&&(f=f.concat(by(p,i,a)),yy(p)&&(s.views.delete(l),p.query._queryParams.loadsAllData()||u.push(p.query)))}return d&&!Yi(s)&&u.push(new(VA())(e._repo,e._path)),{removed:u,events:f}}function Ib(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function ji(s,e){let i=null;for(const a of s.views.values())i=i||PA(a,e);return i}function Lb(s,e){if(e._queryParams.loadsAllData())return qu(s);{const a=e._queryIdentifier;return s.views.get(a)}}function kb(s,e){return Lb(s,e)!=null}function Yi(s){return qu(s)!=null}function qu(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let xu;function FA(s){Y(!xu,"__referenceConstructor has already been defined"),xu=s}function WA(){return Y(xu,"Reference.ts has not been loaded"),xu}let XA=1;class Sy{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Be(null),this.pendingWriteTree_=CA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ub(s,e,i,a,l){return fA(s.pendingWriteTree_,e,i,a,l),l?Va(s,new Ss(Yd(),e,i)):[]}function QA(s,e,i,a){hA(s.pendingWriteTree_,e,i,a);const l=Be.fromObject(i);return Va(s,new Da(Yd(),e,l))}function Ui(s,e,i=!1){const a=dA(s.pendingWriteTree_,e);if(mA(s.pendingWriteTree_,e)){let u=new Be(null);return a.snap!=null?u=u.set(xe(),!0):gt(a.children,f=>{u=u.set(new Me(f),!0)}),Va(s,new bu(a.path,u,i))}else return[]}function yl(s,e,i){return Va(s,new Ss(Fd(),e,i))}function KA(s,e,i){const a=Be.fromObject(i);return Va(s,new Da(Fd(),e,a))}function $A(s,e){return Va(s,new ol(Fd(),e))}function ZA(s,e,i){const a=Jd(s,i);if(a){const l=em(a),u=l.path,f=l.queryId,d=wt(u,e),p=new ol(Wd(f),d);return tm(s,u,p)}else return[]}function Ru(s,e,i,a,l=!1){const u=e._path,f=s.syncPointTree_.get(u);let d=[];if(f&&(e._queryIdentifier==="default"||kb(f,e))){const p=YA(f,e,i,a);qA(f)&&(s.syncPointTree_=s.syncPointTree_.remove(u));const m=p.removed;if(d=p.events,!l){const v=m.findIndex(b=>b._queryParams.loadsAllData())!==-1,_=s.syncPointTree_.findOnPath(u,(b,T)=>Yi(T));if(v&&!_){const b=s.syncPointTree_.subtree(u);if(!b.isEmpty()){const T=tN(b);for(let x=0;x<T.length;++x){const I=T[x],H=I.query,j=Bb(s,I);s.listenProvider_.startListening($r(H),ul(s,H),j.hashFn,j.onComplete)}}}!_&&m.length>0&&!a&&(v?s.listenProvider_.stopListening($r(e),null):m.forEach(b=>{const T=s.queryToTagMap.get(Gu(b));s.listenProvider_.stopListening($r(b),T)}))}nN(s,m)}return d}function zb(s,e,i,a){const l=Jd(s,a);if(l!=null){const u=em(l),f=u.path,d=u.queryId,p=wt(f,e),m=new Ss(Wd(d),p,i);return tm(s,f,m)}else return[]}function JA(s,e,i,a){const l=Jd(s,a);if(l){const u=em(l),f=u.path,d=u.queryId,p=wt(f,e),m=Be.fromObject(i),v=new Da(Wd(d),p,m);return tm(s,f,v)}else return[]}function cd(s,e,i,a=!1){const l=e._path;let u=null,f=!1;s.syncPointTree_.foreachOnPath(l,(b,T)=>{const x=wt(b,l);u=u||ji(T,x),f=f||Yi(T)});let d=s.syncPointTree_.get(l);d?(f=f||Yi(d),u=u||ji(d,xe())):(d=new Db,s.syncPointTree_=s.syncPointTree_.set(l,d));let p;u!=null?p=!0:(p=!1,u=J.EMPTY_NODE,s.syncPointTree_.subtree(l).foreachChild((T,x)=>{const I=ji(x,xe());I&&(u=u.updateImmediateChild(T,I))}));const m=kb(d,e);if(!m&&!e._queryParams.loadsAllData()){const b=Gu(e);Y(!s.queryToTagMap.has(b),"View does not exist, but we have a tag");const T=iN();s.queryToTagMap.set(b,T),s.tagToQueryMap.set(T,b)}const v=Vu(s.pendingWriteTree_,l);let _=GA(d,e,i,v,u,p);if(!m&&!f&&!a){const b=Lb(d,e);_=_.concat(sN(s,e,b))}return _}function Zd(s,e,i){const l=s.pendingWriteTree_,u=s.syncPointTree_.findOnPath(e,(f,d)=>{const p=wt(f,e),m=ji(d,p);if(m)return m});return wb(l,e,u,i,!0)}function eN(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(m,v)=>{const _=wt(m,i);a=a||ji(v,_)});let l=s.syncPointTree_.get(i);l?a=a||ji(l,xe()):(l=new Db,s.syncPointTree_=s.syncPointTree_.set(i,l));const u=a!=null,f=u?new Gi(a,!0,!1):null,d=Vu(s.pendingWriteTree_,e._path),p=Mb(l,e,d,u?f.getNode():J.EMPTY_NODE,u);return zA(p)}function Va(s,e){return Pb(e,s.syncPointTree_,null,Vu(s.pendingWriteTree_,xe()))}function Pb(s,e,i,a){if(ue(s.path))return Hb(s,e,i,a);{const l=e.get(xe());i==null&&l!=null&&(i=ji(l,xe()));let u=[];const f=oe(s.path),d=s.operationForChild(f),p=e.children.get(f);if(p&&d){const m=i?i.getImmediateChild(f):null,v=xb(a,f);u=u.concat(Pb(d,p,m,v))}return l&&(u=u.concat($d(l,s,a,i))),u}}function Hb(s,e,i,a){const l=e.get(xe());i==null&&l!=null&&(i=ji(l,xe()));let u=[];return e.children.inorderTraversal((f,d)=>{const p=i?i.getImmediateChild(f):null,m=xb(a,f),v=s.operationForChild(f);v&&(u=u.concat(Hb(v,d,p,m)))}),l&&(u=u.concat($d(l,s,a,i))),u}function Bb(s,e){const i=e.query,a=ul(s,i);return{hashFn:()=>(UA(e)||J.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return a?ZA(s,i._path,a):$A(s,i._path);{const u=$x(l,i);return Ru(s,i,null,u)}}}}function ul(s,e){const i=Gu(e);return s.queryToTagMap.get(i)}function Gu(s){return s._path.toString()+"$"+s._queryIdentifier}function Jd(s,e){return s.tagToQueryMap.get(e)}function em(s){const e=s.indexOf("$");return Y(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Me(s.substr(0,e))}}function tm(s,e,i){const a=s.syncPointTree_.get(e);Y(a,"Missing sync point for query tag that we're tracking");const l=Vu(s.pendingWriteTree_,e);return $d(a,i,l,null)}function tN(s){return s.fold((e,i,a)=>{if(i&&Yi(i))return[qu(i)];{let l=[];return i&&(l=Ib(i)),gt(a,(u,f)=>{l=l.concat(f)}),l}})}function $r(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(WA())(s._repo,s._path):s}function nN(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const l=Gu(a),u=s.queryToTagMap.get(l);s.queryToTagMap.delete(l),s.tagToQueryMap.delete(u)}}}function iN(){return XA++}function sN(s,e,i){const a=e._path,l=ul(s,e),u=Bb(s,i),f=s.listenProvider_.startListening($r(e),l,u.hashFn,u.onComplete),d=s.syncPointTree_.subtree(a);if(l)Y(!Yi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((m,v,_)=>{if(!ue(m)&&v&&Yi(v))return[qu(v).query];{let b=[];return v&&(b=b.concat(Ib(v).map(T=>T.query))),gt(_,(T,x)=>{b=b.concat(x)}),b}});for(let m=0;m<p.length;++m){const v=p[m];s.listenProvider_.stopListening($r(v),ul(s,v))}}return f}class nm{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new nm(i)}node(){return this.node_}}class im{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=We(this.path_,e);return new im(this.syncTree_,i)}node(){return Zd(this.syncTree_,this.path_)}}const aN=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Cy=function(s,e,i){if(!s||typeof s!="object")return s;if(Y(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return rN(s[".sv"],e,i);if(typeof s[".sv"]=="object")return lN(s[".sv"],e);Y(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},rN=function(s,e,i){if(s==="timestamp")return i.timestamp;Y(!1,"Unexpected server value: "+s)},lN=function(s,e,i){s.hasOwnProperty("increment")||Y(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&Y(!1,"Unexpected increment value: "+a);const l=e.node();if(Y(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return a;const f=l.getValue();return typeof f!="number"?a:f+a},jb=function(s,e,i,a){return sm(e,new im(i,s),a)},Vb=function(s,e,i){return sm(s,new nm(e),i)};function sm(s,e,i){const a=s.getPriority().val(),l=Cy(a,e.getImmediateChild(".priority"),i);let u;if(s.isLeafNode()){const f=s,d=Cy(f.getValue(),e,i);return d!==f.getValue()||l!==f.getPriority().val()?new dt(d,Ze(l)):s}else{const f=s;return u=f,l!==f.getPriority().val()&&(u=u.updatePriority(new dt(l))),f.forEachChild(Xe,(d,p)=>{const m=sm(p,e.getImmediateChild(d),i);m!==p&&(u=u.updateImmediateChild(d,m))}),u}}class am{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function rm(s,e){let i=e instanceof Me?e:new Me(e),a=s,l=oe(i);for(;l!==null;){const u=xa(a.node.children,l)||{children:{},childCount:0};a=new am(l,a,u),i=He(i),l=oe(i)}return a}function qa(s){return s.node.value}function qb(s,e){s.node.value=e,fd(s)}function Gb(s){return s.node.childCount>0}function oN(s){return qa(s)===void 0&&!Gb(s)}function Yu(s,e){gt(s.node.children,(i,a)=>{e(new am(i,s,a))})}function Yb(s,e,i,a){i&&e(s),Yu(s,l=>{Yb(l,e,!0)})}function uN(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function bl(s){return new Me(s.parent===null?s.name:bl(s.parent)+"/"+s.name)}function fd(s){s.parent!==null&&cN(s.parent,s.name,s)}function cN(s,e,i){const a=oN(i),l=Rn(s.node.children,e);a&&l?(delete s.node.children[e],s.node.childCount--,fd(s)):!a&&!l&&(s.node.children[e]=i.node,s.node.childCount++,fd(s))}const fN=/[\[\].#$\/\u0000-\u001F\u007F]/,hN=/[\[\].#$\u0000-\u001F\u007F]/,Bh=10*1024*1024,lm=function(s){return typeof s=="string"&&s.length!==0&&!fN.test(s)},Fb=function(s){return typeof s=="string"&&s.length!==0&&!hN.test(s)},dN=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),Fb(s)},Wb=function(s){return s===null||typeof s=="string"||typeof s=="number"&&!Hu(s)||s&&typeof s=="object"&&Rn(s,".sv")},hd=function(s,e,i,a){Fu(Ra(s,"value"),e,i)},Fu=function(s,e,i){const a=i instanceof Me?new DR(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+gs(a));if(typeof e=="function")throw new Error(s+"contains a function "+gs(a)+" with contents = "+e.toString());if(Hu(e))throw new Error(s+"contains "+e.toString()+" "+gs(a));if(typeof e=="string"&&e.length>Bh/3&&Pu(e)>Bh)throw new Error(s+"contains a string greater than "+Bh+" utf8 bytes "+gs(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let l=!1,u=!1;if(gt(e,(f,d)=>{if(f===".value")l=!0;else if(f!==".priority"&&f!==".sv"&&(u=!0,!lm(f)))throw new Error(s+" contains an invalid key ("+f+") "+gs(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);MR(a,f),Fu(s,d,a),IR(a)}),l&&u)throw new Error(s+' contains ".value" child '+gs(a)+" in addition to actual children.")}},mN=function(s,e){let i,a;for(i=0;i<e.length;i++){a=e[i];const u=sl(a);for(let f=0;f<u.length;f++)if(!(u[f]===".priority"&&f===u.length-1)){if(!lm(u[f]))throw new Error(s+"contains an invalid key ("+u[f]+") in path "+a.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(OR);let l=null;for(i=0;i<e.length;i++){if(a=e[i],l!==null&&rn(l,a))throw new Error(s+"contains a path "+l.toString()+" that is ancestor of another path "+a.toString());l=a}},Xb=function(s,e,i,a){const l=Ra(s,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(l+" must be an object containing the children to replace.");const u=[];gt(e,(f,d)=>{const p=new Me(f);if(Fu(l,d,We(i,p)),Hd(p)===".priority"&&!Wb(d))throw new Error(l+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(p)}),mN(l,u)},pN=function(s,e,i){if(Hu(e))throw new Error(Ra(s,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wb(e))throw new Error(Ra(s,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Qb=function(s,e,i,a){if(!Fb(i))throw new Error(Ra(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},gN=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Qb(s,e,i)},_a=function(s,e){if(oe(e)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},_N=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!dN(i))throw new Error(Ra(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class vN{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wu(s,e){let i=null;for(let a=0;a<e.length;a++){const l=e[a],u=l.getPath();i!==null&&!Bd(u,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:u}),i.events.push(l)}i&&s.eventLists_.push(i)}function Kb(s,e,i){Wu(s,i),$b(s,a=>Bd(a,e))}function ln(s,e,i){Wu(s,i),$b(s,a=>rn(a,e)||rn(e,a))}function $b(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const l=s.eventLists_[a];if(l){const u=l.path;e(u)?(yN(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function yN(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Wr&&pt("event: "+i.toString()),Ba(a)}}}const bN="repo_interrupt",EN=25;class SN{constructor(e,i,a,l){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vN,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yu(),this.transactionQueueTree_=new am,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function CN(s,e,i){if(s.stats_=zd(s.repoInfo_),s.forceRestClient_||tR())s.server_=new vu(s.repoInfo_,(a,l,u,f)=>{Ty(s,a,l,u,f)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>wy(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ut(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new $n(s.repoInfo_,e,(a,l,u,f)=>{Ty(s,a,l,u,f)},a=>{wy(s,a)},a=>{wN(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=rR(s.repoInfo_,()=>new aA(s.stats_,s.server_)),s.infoData_=new eA,s.infoSyncTree_=new Sy({startListening:(a,l,u,f)=>{let d=[];const p=s.infoData_.getNode(a._path);return p.isEmpty()||(d=yl(s.infoSyncTree_,a._path,p),setTimeout(()=>{f("ok")},0)),d},stopListening:()=>{}}),om(s,"connected",!1),s.serverSyncTree_=new Sy({startListening:(a,l,u,f)=>(s.server_.listen(a,u,l,(d,p)=>{const m=f(d,p);ln(s.eventQueue_,a._path,m)}),[]),stopListening:(a,l)=>{s.server_.unlisten(a,l)}})}function TN(s){const i=s.infoData_.getNode(new Me(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Xu(s){return aN({timestamp:TN(s)})}function Ty(s,e,i,a,l){s.dataUpdateCount++;const u=new Me(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let f=[];if(l)if(a){const p=du(i,m=>Ze(m));f=JA(s.serverSyncTree_,u,p,l)}else{const p=Ze(i);f=zb(s.serverSyncTree_,u,p,l)}else if(a){const p=du(i,m=>Ze(m));f=KA(s.serverSyncTree_,u,p)}else{const p=Ze(i);f=yl(s.serverSyncTree_,u,p)}let d=u;f.length>0&&(d=Ia(s,u)),ln(s.eventQueue_,d,f)}function wy(s,e){om(s,"connected",e),e===!1&&NN(s)}function wN(s,e){gt(e,(i,a)=>{om(s,i,a)})}function om(s,e,i){const a=new Me("/.info/"+e),l=Ze(i);s.infoData_.updateSnapshot(a,l);const u=yl(s.infoSyncTree_,a,l);ln(s.eventQueue_,a,u)}function um(s){return s.nextWriteId_++}function xN(s,e,i){const a=eN(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(l=>{const u=Ze(l).withIndex(e._queryParams.getIndex());cd(s.serverSyncTree_,e,i,!0);let f;if(e._queryParams.loadsAllData())f=yl(s.serverSyncTree_,e._path,u);else{const d=ul(s.serverSyncTree_,e);f=zb(s.serverSyncTree_,e._path,u,d)}return ln(s.eventQueue_,e._path,f),Ru(s.serverSyncTree_,e,i,null,!0),u},l=>(El(s,"get for query "+ut(e)+" failed: "+l),Promise.reject(new Error(l))))}function RN(s,e,i,a,l){El(s,"set",{path:e.toString(),value:i,priority:a});const u=Xu(s),f=Ze(i,a),d=Zd(s.serverSyncTree_,e),p=Vb(f,d,u),m=um(s),v=Ub(s.serverSyncTree_,e,p,m,!0);Wu(s.eventQueue_,v),s.server_.put(e.toString(),f.val(!0),(b,T)=>{const x=b==="ok";x||xt("set at "+e+" failed: "+b);const I=Ui(s.serverSyncTree_,m,!x);ln(s.eventQueue_,e,I),Fi(s,l,b,T)});const _=fm(s,e);Ia(s,_),ln(s.eventQueue_,_,[])}function AN(s,e,i,a){El(s,"update",{path:e.toString(),value:i});let l=!0;const u=Xu(s),f={};if(gt(i,(d,p)=>{l=!1,f[d]=jb(We(e,d),Ze(p),s.serverSyncTree_,u)}),l)pt("update() called with empty data.  Don't do anything."),Fi(s,a,"ok",void 0);else{const d=um(s),p=QA(s.serverSyncTree_,e,f,d);Wu(s.eventQueue_,p),s.server_.merge(e.toString(),i,(m,v)=>{const _=m==="ok";_||xt("update at "+e+" failed: "+m);const b=Ui(s.serverSyncTree_,d,!_),T=b.length>0?Ia(s,e):e;ln(s.eventQueue_,T,b),Fi(s,a,m,v)}),gt(i,m=>{const v=fm(s,We(e,m));Ia(s,v)}),ln(s.eventQueue_,e,[])}}function NN(s){El(s,"onDisconnectEvents");const e=Xu(s),i=yu();sd(s.onDisconnect_,xe(),(l,u)=>{const f=jb(l,u,s.serverSyncTree_,e);ja(i,l,f)});let a=[];sd(i,xe(),(l,u)=>{a=a.concat(yl(s.serverSyncTree_,l,u));const f=fm(s,l);Ia(s,f)}),s.onDisconnect_=yu(),ln(s.eventQueue_,xe(),a)}function ON(s,e,i){s.server_.onDisconnectCancel(e.toString(),(a,l)=>{a==="ok"&&id(s.onDisconnect_,e),Fi(s,i,a,l)})}function xy(s,e,i,a){const l=Ze(i);s.server_.onDisconnectPut(e.toString(),l.val(!0),(u,f)=>{u==="ok"&&ja(s.onDisconnect_,e,l),Fi(s,a,u,f)})}function DN(s,e,i,a,l){const u=Ze(i,a);s.server_.onDisconnectPut(e.toString(),u.val(!0),(f,d)=>{f==="ok"&&ja(s.onDisconnect_,e,u),Fi(s,l,f,d)})}function MN(s,e,i,a){if(hu(i)){pt("onDisconnect().update() called with empty data.  Don't do anything."),Fi(s,a,"ok",void 0);return}s.server_.onDisconnectMerge(e.toString(),i,(l,u)=>{l==="ok"&&gt(i,(f,d)=>{const p=Ze(d);ja(s.onDisconnect_,We(e,f),p)}),Fi(s,a,l,u)})}function IN(s,e,i){let a;oe(e._path)===".info"?a=cd(s.infoSyncTree_,e,i):a=cd(s.serverSyncTree_,e,i),Kb(s.eventQueue_,e._path,a)}function LN(s,e,i){let a;oe(e._path)===".info"?a=Ru(s.infoSyncTree_,e,i):a=Ru(s.serverSyncTree_,e,i),Kb(s.eventQueue_,e._path,a)}function kN(s){s.persistentConnection_&&s.persistentConnection_.interrupt(bN)}function El(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),pt(i,...e)}function Fi(s,e,i,a){e&&Ba(()=>{if(i==="ok")e(null);else{const l=(i||"error").toUpperCase();let u=l;a&&(u+=": "+a);const f=new Error(u);f.code=l,e(f)}})}function Zb(s,e,i){return Zd(s.serverSyncTree_,e,i)||J.EMPTY_NODE}function cm(s,e=s.transactionQueueTree_){if(e||Qu(s,e),qa(e)){const i=eE(s,e);Y(i.length>0,"Sending zero length transaction queue"),i.every(l=>l.status===0)&&UN(s,bl(e),i)}else Gb(e)&&Yu(e,i=>{cm(s,i)})}function UN(s,e,i){const a=i.map(m=>m.currentWriteId),l=Zb(s,e,a);let u=l;const f=l.hash();for(let m=0;m<i.length;m++){const v=i[m];Y(v.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const _=wt(e,v.path);u=u.updateChild(_,v.currentOutputSnapshotRaw)}const d=u.val(!0),p=e;s.server_.put(p.toString(),d,m=>{El(s,"transaction put response",{path:p.toString(),status:m});let v=[];if(m==="ok"){const _=[];for(let b=0;b<i.length;b++)i[b].status=2,v=v.concat(Ui(s.serverSyncTree_,i[b].currentWriteId)),i[b].onComplete&&_.push(()=>i[b].onComplete(null,!0,i[b].currentOutputSnapshotResolved)),i[b].unwatcher();Qu(s,rm(s.transactionQueueTree_,e)),cm(s,s.transactionQueueTree_),ln(s.eventQueue_,e,v);for(let b=0;b<_.length;b++)Ba(_[b])}else{if(m==="datastale")for(let _=0;_<i.length;_++)i[_].status===3?i[_].status=4:i[_].status=0;else{xt("transaction at "+p.toString()+" failed: "+m);for(let _=0;_<i.length;_++)i[_].status=4,i[_].abortReason=m}Ia(s,e)}},f)}function Ia(s,e){const i=Jb(s,e),a=bl(i),l=eE(s,i);return zN(s,l,a),a}function zN(s,e,i){if(e.length===0)return;const a=[];let l=[];const f=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const p=e[d],m=wt(i,p.path);let v=!1,_;if(Y(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),p.status===4)v=!0,_=p.abortReason,l=l.concat(Ui(s.serverSyncTree_,p.currentWriteId,!0));else if(p.status===0)if(p.retryCount>=EN)v=!0,_="maxretry",l=l.concat(Ui(s.serverSyncTree_,p.currentWriteId,!0));else{const b=Zb(s,p.path,f);p.currentInputSnapshot=b;const T=e[d].update(b.val());if(T!==void 0){Fu("transaction failed: Data returned ",T,p.path);let x=Ze(T);typeof T=="object"&&T!=null&&Rn(T,".priority")||(x=x.updatePriority(b.getPriority()));const H=p.currentWriteId,j=Xu(s),B=Vb(x,b,j);p.currentOutputSnapshotRaw=x,p.currentOutputSnapshotResolved=B,p.currentWriteId=um(s),f.splice(f.indexOf(H),1),l=l.concat(Ub(s.serverSyncTree_,p.path,B,p.currentWriteId,p.applyLocally)),l=l.concat(Ui(s.serverSyncTree_,H,!0))}else v=!0,_="nodata",l=l.concat(Ui(s.serverSyncTree_,p.currentWriteId,!0))}ln(s.eventQueue_,i,l),l=[],v&&(e[d].status=2,(function(b){setTimeout(b,Math.floor(0))})(e[d].unwatcher),e[d].onComplete&&(_==="nodata"?a.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):a.push(()=>e[d].onComplete(new Error(_),!1,null))))}Qu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)Ba(a[d]);cm(s,s.transactionQueueTree_)}function Jb(s,e){let i,a=s.transactionQueueTree_;for(i=oe(e);i!==null&&qa(a)===void 0;)a=rm(a,i),e=He(e),i=oe(e);return a}function eE(s,e){const i=[];return tE(s,e,i),i.sort((a,l)=>a.order-l.order),i}function tE(s,e,i){const a=qa(e);if(a)for(let l=0;l<a.length;l++)i.push(a[l]);Yu(e,l=>{tE(s,l,i)})}function Qu(s,e){const i=qa(e);if(i){let a=0;for(let l=0;l<i.length;l++)i[l].status!==2&&(i[a]=i[l],a++);i.length=a,qb(e,i.length>0?i:void 0)}Yu(e,a=>{Qu(s,a)})}function fm(s,e){const i=bl(Jb(s,e)),a=rm(s.transactionQueueTree_,e);return uN(a,l=>{jh(s,l)}),jh(s,a),Yb(a,l=>{jh(s,l)}),i}function jh(s,e){const i=qa(e);if(i){const a=[];let l=[],u=-1;for(let f=0;f<i.length;f++)i[f].status===3||(i[f].status===1?(Y(u===f-1,"All SENT items should be at beginning of queue."),u=f,i[f].status=3,i[f].abortReason="set"):(Y(i[f].status===0,"Unexpected transaction status in abort"),i[f].unwatcher(),l=l.concat(Ui(s.serverSyncTree_,i[f].currentWriteId,!0)),i[f].onComplete&&a.push(i[f].onComplete.bind(null,new Error("set"),!1,null))));u===-1?qb(e,void 0):i.length=u+1,ln(s.eventQueue_,bl(e),l);for(let f=0;f<a.length;f++)Ba(a[f])}}function PN(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let l=i[a];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}e+="/"+l}return e}function HN(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):xt(`Invalid query segment '${i}' in query '${s}'`)}return e}const Ry=function(s,e){const i=BN(s),a=i.namespace;i.domain==="firebase.com"&&ei(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||Fx();const l=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new ab(i.host,i.secure,a,l,e,"",a!==i.subdomain),path:new Me(i.pathString)}},BN=function(s){let e="",i="",a="",l="",u="",f=!0,d="https",p=443;if(typeof s=="string"){let m=s.indexOf("//");m>=0&&(d=s.substring(0,m-1),s=s.substring(m+2));let v=s.indexOf("/");v===-1&&(v=s.length);let _=s.indexOf("?");_===-1&&(_=s.length),e=s.substring(0,Math.min(v,_)),v<_&&(l=PN(s.substring(v,_)));const b=HN(s.substring(Math.min(s.length,_)));m=e.indexOf(":"),m>=0?(f=d==="https"||d==="wss",p=parseInt(e.substring(m+1),10)):m=e.length;const T=e.slice(0,m);if(T.toLowerCase()==="localhost")i="localhost";else if(T.split(".").length<=2)i=T;else{const x=e.indexOf(".");a=e.substring(0,x).toLowerCase(),i=e.substring(x+1),u=a}"ns"in b&&(u=b.ns)}return{host:e,port:p,domain:i,subdomain:a,secure:f,scheme:d,pathString:l,namespace:u}};class jN{constructor(e,i,a,l){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=l}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ut(this.snapshot.exportVal())}}class VN{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class nE{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return Y(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class qN{constructor(e,i){this._repo=e,this._path=i}cancel(){const e=new Cn;return ON(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){_a("OnDisconnect.remove",this._path);const e=new Cn;return xy(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){_a("OnDisconnect.set",this._path),hd("OnDisconnect.set",e,this._path);const i=new Cn;return xy(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}setWithPriority(e,i){_a("OnDisconnect.setWithPriority",this._path),hd("OnDisconnect.setWithPriority",e,this._path),pN("OnDisconnect.setWithPriority",i);const a=new Cn;return DN(this._repo,this._path,e,i,a.wrapCallback(()=>{})),a.promise}update(e){_a("OnDisconnect.update",this._path),Xb("OnDisconnect.update",e,this._path);const i=new Cn;return MN(this._repo,this._path,e,i.wrapCallback(()=>{})),i.promise}}class hm{constructor(e,i,a,l){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=l}get key(){return ue(this._path)?null:Hd(this._path)}get ref(){return new ii(this._repo,this._path)}get _queryIdentifier(){const e=hy(this._queryParams),i=kd(e);return i==="{}"?"default":i}get _queryObject(){return hy(this._queryParams)}isEqual(e){if(e=zt(e),!(e instanceof hm))return!1;const i=this._repo===e._repo,a=Bd(this._path,e._path),l=this._queryIdentifier===e._queryIdentifier;return i&&a&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+NR(this._path)}}class ii extends hm{constructor(e,i){super(e,i,new Gd,!1)}get parent(){const e=mb(this._path);return e===null?null:new ii(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class cl{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Me(e),a=dd(this.ref,e);return new cl(this._node.getChild(i),a,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,l)=>e(new cl(l,dd(this.ref,a),Xe)))}hasChild(e){const i=new Me(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ye(s,e){return s=zt(s),s._checkNotDeleted("ref"),e!==void 0?dd(s._root,e):s._root}function dd(s,e){return s=zt(s),oe(s._path)===null?gN("child","path",e):Qb("child","path",e),new ii(s._repo,We(s._path,e))}function GN(s){return s=zt(s),new qN(s._repo,s._path)}function YN(s){return _a("remove",s._path),Ea(s,null)}function Ea(s,e){s=zt(s),_a("set",s._path),hd("set",e,s._path);const i=new Cn;return RN(s._repo,s._path,e,null,i.wrapCallback(()=>{})),i.promise}function Di(s,e){Xb("update",e,s._path);const i=new Cn;return AN(s._repo,s._path,e,i.wrapCallback(()=>{})),i.promise}function su(s){s=zt(s);const e=new nE(()=>{}),i=new Ku(e);return xN(s._repo,s,i).then(a=>new cl(a,new ii(s._repo,s._path),s._queryParams.getIndex()))}class Ku{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new jN("value",this,new cl(e.snapshotNode,new ii(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new VN(this,e,i):null}matches(e){return e instanceof Ku?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function FN(s,e,i,a,l){const u=new nE(i,void 0),f=new Ku(u);return IN(s._repo,s,f),()=>LN(s._repo,s,f)}function vs(s,e,i,a){return FN(s,"value",e)}jA(ii);FA(ii);const WN="FIREBASE_DATABASE_EMULATOR_HOST",md={};let XN=!1;function QN(s,e,i,a){const l=e.lastIndexOf(":"),u=e.substring(0,l),f=za(u);s.repoInfo_=new ab(e,f,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function KN(s,e,i,a,l){let u=a||s.options.databaseURL;u===void 0&&(s.options.projectId||ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pt("Using default host for project ",s.options.projectId),u=`${s.options.projectId}-default-rtdb.firebaseio.com`);let f=Ry(u,l),d=f.repoInfo,p;typeof process<"u"&&Xv&&(p=Xv[WN]),p?(u=`http://${p}?ns=${d.namespace}`,f=Ry(u,l),d=f.repoInfo):f.repoInfo.secure;const m=new iR(s.name,s.options,e);_N("Invalid Firebase Database URL",f),ue(f.path)||ei("Database URL must point to the root of a Firebase Database (not including a child path).");const v=ZN(d,s,m,new nR(s,i));return new JN(v,s)}function $N(s,e){const i=md[e];(!i||i[s.key]!==s)&&ei(`Database ${e}(${s.repoInfo_}) has already been deleted.`),kN(s),delete i[s.key]}function ZN(s,e,i,a){let l=md[e.name];l||(l={},md[e.name]=l);let u=l[s.toURLString()];return u&&ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new SN(s,XN,i,a),l[s.toURLString()]=u,u}class JN{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(CN(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ii(this._repo,xe())),this._rootInternal}_delete(){return this._rootInternal!==null&&($N(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ei("Cannot call "+e+" on a deleted database.")}}function eO(s=V0(),e){const i=Ld(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=c1("database");a&&tO(i,...a)}return i}function tO(s,e,i,a={}){s=zt(s),s._checkNotDeleted("useEmulator");const l=`${e}:${i}`,u=s._repoInternal;if(s._instanceStarted){if(l===s._repoInternal.repoInfo_.host&&ys(a,u.repoInfo_.emulatorOptions))return;ei("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(u.repoInfo_.nodeAdmin)a.mockUserToken&&ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new iu(iu.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:f1(a.mockUserToken,s.app.options.projectId);f=new iu(d)}za(e)&&(k0(e),U0("Database",!0)),QN(u,l,a,f)}function nO(s){Bx(Ha),Aa(new bs("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("auth-internal"),u=e.getProvider("app-check-internal");return KN(a,l,u,i)},"PUBLIC").setMultipleInstances(!0)),Hi(Qv,Kv,s),Hi(Qv,Kv,"esm2020")}const iO={".sv":"timestamp"};function Ay(){return iO}$n.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};$n.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};nO();function iE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sO=iE,sE=new pl("auth","Firebase",iE());const Au=new Md("@firebase/auth");function aO(s,...e){Au.logLevel<=ze.WARN&&Au.warn(`Auth (${Ha}): ${s}`,...e)}function au(s,...e){Au.logLevel<=ze.ERROR&&Au.error(`Auth (${Ha}): ${s}`,...e)}function ti(s,...e){throw dm(s,...e)}function Tn(s,...e){return dm(s,...e)}function aE(s,e,i){const a={...sO(),[e]:i};return new pl("auth","Firebase",a).create(e,{appName:s.name})}function Vi(s){return aE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dm(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return sE.create(s,...e)}function ee(s,e,...i){if(!s)throw dm(e,...i)}function Xn(s){const e="INTERNAL ASSERTION FAILED: "+s;throw au(e),new Error(e)}function ni(s,e){s||Xn(e)}function pd(){return typeof self<"u"&&self.location?.href||""}function rO(){return Ny()==="http:"||Ny()==="https:"}function Ny(){return typeof self<"u"&&self.location?.protocol||null}function lO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(rO()||p1()||"connection"in navigator)?navigator.onLine:!0}function oO(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Sl{constructor(e,i){this.shortDelay=e,this.longDelay=i,ni(i>e,"Short delay should be less than long delay!"),this.isMobile=Dd()||z0()}get(){return lO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mm(s,e){ni(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}class rE{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fO=new Sl(3e4,6e4);function $u(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ga(s,e,i,a,l={}){return lE(s,l,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const d=Pa({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const m={method:e,headers:p,...u};return m1()||(m.referrerPolicy="no-referrer"),s.emulatorConfig&&za(s.emulatorConfig.host)&&(m.credentials="include"),rE.fetch()(await uE(s,s.config.apiHost,i,d),m)})}async function lE(s,e,i){s._canInitEmulator=!1;const a={...uO,...e};try{const l=new hO(s),u=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wo(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const d=u.ok?f.errorMessage:f.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wo(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wo(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wo(s,"user-disabled",f);const v=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw aE(s,v,m);ti(s,v)}}catch(l){if(l instanceof Xi)throw l;ti(s,"network-request-failed",{message:String(l)})}}async function oE(s,e,i,a,l={}){const u=await Ga(s,e,i,a,l);return"mfaPendingCredential"in u&&ti(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function uE(s,e,i,a){const l=`${e}${i}?${a}`,u=s,f=u.config.emulator?mm(s.config,l):`${s.config.apiScheme}://${l}`;return cO.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class hO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Tn(this.auth,"network-request-failed")),fO.get())})}}function Wo(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Tn(s,e,a);return l.customData._tokenResponse=i,l}async function dO(s,e){return Ga(s,"POST","/v1/accounts:delete",e)}async function Nu(s,e){return Ga(s,"POST","/v1/accounts:lookup",e)}function Zr(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mO(s,e=!1){const i=zt(s),a=await i.getIdToken(e),l=pm(a);ee(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:a,authTime:Zr(Vh(l.auth_time)),issuedAtTime:Zr(Vh(l.iat)),expirationTime:Zr(Vh(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Vh(s){return Number(s)*1e3}function pm(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return au("JWT malformed, contained fewer than 3 sections"),null;try{const l=fu(i);return l?JSON.parse(l):(au("Failed to decode base64 JWT payload"),null)}catch(l){return au("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Oy(s){const e=pm(s);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function fl(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Xi&&pO(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function pO({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class gO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gd{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zr(this.lastLoginAt),this.creationTime=Zr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ou(s){const e=s.auth,i=await s.getIdToken(),a=await fl(s,Nu(e,{idToken:i}));ee(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const u=l.providerUserInfo?.length?cE(l.providerUserInfo):[],f=vO(s.providerData,u),d=s.isAnonymous,p=!(s.email&&l.passwordHash)&&!f?.length,m=d?p:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new gd(l.createdAt,l.lastLoginAt),isAnonymous:m};Object.assign(s,v)}async function _O(s){const e=zt(s);await Ou(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vO(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function cE(s){return s.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function yO(s,e){const i=await lE(s,{},async()=>{const a=Pa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await uE(s,l,"/v1/token",`key=${u}`),d=await s._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:a};return s.emulatorConfig&&za(s.emulatorConfig.host)&&(p.credentials="include"),rE.fetch()(f,p)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function bO(s,e){return Ga(s,"POST","/v2/accounts:revokeToken",$u(s,e))}class Sa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Oy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const i=Oy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:l,expiresIn:u}=await yO(e,i);this.updateTokensAndExpiration(a,l,Number(u))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:l,expirationTime:u}=i,f=new Sa;return a&&(ee(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),l&&(ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Sa,this.toJSON())}_performRefresh(){return Xn("not implemented")}}function Ni(s,e){ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class gn{constructor({uid:e,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new gO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new gd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const i=await fl(this,this.stsTokenManager.getToken(this.auth,e));return ee(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return mO(this,e)}reload(){return _O(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new gn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await Ou(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(dn(this.auth.app))return Promise.reject(Vi(this.auth));const e=await this.getIdToken();return await fl(this,dO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const a=i.displayName??void 0,l=i.email??void 0,u=i.phoneNumber??void 0,f=i.photoURL??void 0,d=i.tenantId??void 0,p=i._redirectEventId??void 0,m=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:_,emailVerified:b,isAnonymous:T,providerData:x,stsTokenManager:I}=i;ee(_&&I,e,"internal-error");const H=Sa.fromJSON(this.name,I);ee(typeof _=="string",e,"internal-error"),Ni(a,e.name),Ni(l,e.name),ee(typeof b=="boolean",e,"internal-error"),ee(typeof T=="boolean",e,"internal-error"),Ni(u,e.name),Ni(f,e.name),Ni(d,e.name),Ni(p,e.name),Ni(m,e.name),Ni(v,e.name);const j=new gn({uid:_,auth:e,email:l,emailVerified:b,displayName:a,isAnonymous:T,photoURL:f,phoneNumber:u,tenantId:d,stsTokenManager:H,createdAt:m,lastLoginAt:v});return x&&Array.isArray(x)&&(j.providerData=x.map(B=>({...B}))),p&&(j._redirectEventId=p),j}static async _fromIdTokenResponse(e,i,a=!1){const l=new Sa;l.updateFromServerResponse(i);const u=new gn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Ou(u),u}static async _fromGetAccountInfoResponse(e,i,a){const l=i.users[0];ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?cE(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,d=new Sa;d.updateFromIdToken(a);const p=new gn({uid:l.localId,auth:e,stsTokenManager:d,isAnonymous:f}),m={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new gd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,m),p}}const Dy=new Map;function Qn(s){ni(s instanceof Function,"Expected a class definition");let e=Dy.get(s);return e?(ni(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Dy.set(s,e),e)}class fE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}fE.type="NONE";const My=fE;function ru(s,e,i){return`firebase:${s}:${e}:${i}`}class Ca{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:l,name:u}=this.auth;this.fullUserKey=ru(this.userKey,l.apiKey,u),this.fullPersistenceKey=ru("persistence",l.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Nu(this.auth,{idToken:e}).catch(()=>{});return i?gn._fromGetAccountInfoResponse(this.auth,i,e):null}return gn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new Ca(Qn(My),e,a);const l=(await Promise.all(i.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let u=l[0]||Qn(My);const f=ru(a,e.config.apiKey,e.name);let d=null;for(const m of i)try{const v=await m._get(f);if(v){let _;if(typeof v=="string"){const b=await Nu(e,{idToken:v}).catch(()=>{});if(!b)break;_=await gn._fromGetAccountInfoResponse(e,b,v)}else _=gn._fromJSON(e,v);m!==u&&(d=_),u=m;break}}catch{}const p=l.filter(m=>m._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ca(u,e,a):(u=p[0],d&&await u._set(f,d.toJSON()),await Promise.all(i.map(async m=>{if(m!==u)try{await m._remove(f)}catch{}})),new Ca(u,e,a))}}function Iy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_E(e))return"Blackberry";if(vE(e))return"Webos";if(dE(e))return"Safari";if((e.includes("chrome/")||mE(e))&&!e.includes("edge/"))return"Chrome";if(gE(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function hE(s=Rt()){return/firefox\//i.test(s)}function dE(s=Rt()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mE(s=Rt()){return/crios\//i.test(s)}function pE(s=Rt()){return/iemobile/i.test(s)}function gE(s=Rt()){return/android/i.test(s)}function _E(s=Rt()){return/blackberry/i.test(s)}function vE(s=Rt()){return/webos/i.test(s)}function gm(s=Rt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function EO(s=Rt()){return gm(s)&&!!window.navigator?.standalone}function SO(){return g1()&&document.documentMode===10}function yE(s=Rt()){return gm(s)||gE(s)||vE(s)||_E(s)||/windows phone/i.test(s)||pE(s)}function bE(s,e=[]){let i;switch(s){case"Browser":i=Iy(Rt());break;case"Worker":i=`${Iy(Rt())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ha}/${a}`}class CO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=u=>new Promise((f,d)=>{try{const p=e(u);f(p)}catch(p){d(p)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function TO(s,e={}){return Ga(s,"GET","/v2/passwordPolicy",$u(s,e))}const wO=6;class xO{constructor(e){const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??wO,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),l&&(i.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class RO{constructor(e,i,a,l){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ly(this),this.idTokenSubscription=new Ly(this),this.beforeStateQueue=new CO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Qn(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ca.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Nu(this,{idToken:e}),a=await gn._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(dn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=a?._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&d?.user&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ou(e)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(dn(this.app))return Promise.reject(Vi(this));const i=e?zt(e):null;return i&&ee(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return dn(this.app)?Promise.reject(Vi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return dn(this.app)?Promise.reject(Vi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TO(this),i=new xO(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await bO(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Qn(e)||this._popupRedirectResolver;ee(i,this,"argument-error"),this.redirectPersistenceManager=await Ca.create(this,[Qn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,l){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let f=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(d,this,"internal-error"),d.then(()=>{f||u(this.currentUser)}),typeof i=="function"){const p=e.addObserver(i,a,l);return()=>{f=!0,p()}}else{const p=e.addObserver(i);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(e["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&aO(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zu(s){return zt(s)}class Ly{constructor(e){this.auth=e,this.observer=null,this.addObserver=x1(i=>this.observer=i)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let _m={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AO(s){_m=s}function NO(s){return _m.loadJS(s)}function OO(){return _m.gapiScript}function DO(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function MO(s,e){const i=Ld(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),u=i.getOptions();if(ys(u,e??{}))return l;ti(l,"already-initialized")}return i.initialize({options:e})}function IO(s,e){const i=e?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Qn);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function LO(s,e,i){const a=Zu(s);ee(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,u=EE(e),{host:f,port:d}=kO(e),p=d===null?"":`:${d}`,m={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){ee(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),ee(ys(m,a.config.emulator)&&ys(v,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=m,a.emulatorConfig=v,a.settings.appVerificationDisabledForTesting=!0,za(f)?(k0(`${u}//${f}${p}`),U0("Auth",!0)):UO()}function EE(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function kO(s){const e=EE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const u=l[1];return{host:u,port:ky(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:ky(f)}}}function ky(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function UO(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class SE{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Xn("not implemented")}_getIdTokenResponse(e){return Xn("not implemented")}_linkToIdToken(e,i){return Xn("not implemented")}_getReauthenticationResolver(e){return Xn("not implemented")}}async function Ta(s,e){return oE(s,"POST","/v1/accounts:signInWithIdp",$u(s,e))}const zO="http://localhost";class Ts extends SE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):ti("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...u}=i;if(!a||!l)return null;const f=new Ts(a,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const i=this.buildRequest();return Ta(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,Ta(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,Ta(e,i)}buildRequest(){const e={requestUri:zO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Pa(i)}return e}}class CE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cl extends CE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mi extends Cl{constructor(){super("facebook.com")}static credential(e){return Ts._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mi.PROVIDER_ID="facebook.com";class Ii extends Cl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ts._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return Ii.credential(i,a)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";class Li extends Cl{constructor(){super("github.com")}static credential(e){return Ts._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";class ki extends Cl{constructor(){super("twitter.com")}static credential(e,i){return Ts._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return ki.credential(i,a)}catch{return null}}}ki.TWITTER_SIGN_IN_METHOD="twitter.com";ki.PROVIDER_ID="twitter.com";async function PO(s,e){return oE(s,"POST","/v1/accounts:signUp",$u(s,e))}class Wi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,l=!1){const u=await gn._fromIdTokenResponse(e,a,l),f=Uy(a);return new Wi({user:u,providerId:f,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const l=Uy(a);return new Wi({user:e,providerId:l,_tokenResponse:a,operationType:i})}}function Uy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function _d(s){if(dn(s.app))return Promise.reject(Vi(s));const e=Zu(s);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Wi({user:e.currentUser,providerId:null,operationType:"signIn"});const i=await PO(e,{returnSecureToken:!0}),a=await Wi._fromIdTokenResponse(e,"signIn",i,!0);return await e._updateCurrentUser(a.user),a}class Du extends Xi{constructor(e,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Du.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,l){return new Du(e,i,a,l)}}function TE(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Du._fromErrorAndOperation(s,u,e,a):u})}async function HO(s,e,i=!1){const a=await fl(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return Wi._forOperation(s,"link",a)}async function BO(s,e,i=!1){const{auth:a}=s;if(dn(a.app))return Promise.reject(Vi(a));const l="reauthenticate";try{const u=await fl(s,TE(a,l,e,s),i);ee(u.idToken,a,"internal-error");const f=pm(u.idToken);ee(f,a,"internal-error");const{sub:d}=f;return ee(s.uid===d,a,"user-mismatch"),Wi._forOperation(s,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ti(a,"user-mismatch"),u}}async function jO(s,e,i=!1){if(dn(s.app))return Promise.reject(Vi(s));const a="signIn",l=await TE(s,a,e),u=await Wi._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(u.user),u}function VO(s,e,i,a){return zt(s).onIdTokenChanged(e,i,a)}function qO(s,e,i){return zt(s).beforeAuthStateChanged(e,i)}function GO(s,e,i,a){return zt(s).onAuthStateChanged(e,i,a)}const Mu="__sak";class wE{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Mu,"1"),this.storage.removeItem(Mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const YO=1e3,FO=10;class xE extends wE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&e(i,l,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((f,d,p)=>{this.notifyListeners(f,p)});return}const a=e.key;i?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(a);!i&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);SO()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,FO):l()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}xE.type="LOCAL";const WO=xE;class RE extends wE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}RE.type="SESSION";const AE=RE;function XO(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ju{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const a=new Ju(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:l,data:u}=i.data,f=this.handlersMap[l];if(!f?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const d=Array.from(f).map(async m=>m(i.origin,u)),p=await XO(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:p})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ju.receivers=[];function vm(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}class QO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((d,p)=>{const m=vm("",20);l.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},a);f={messageChannel:l,onMessage(_){const b=_;if(b.data.eventId===m)switch(b.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(b.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:m,data:i},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function wn(){return window}function KO(s){wn().location.href=s}function NE(){return typeof wn().WorkerGlobalScope<"u"&&typeof wn().importScripts=="function"}async function $O(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZO(){return navigator?.serviceWorker?.controller||null}function JO(){return NE()?self:null}const OE="firebaseLocalStorageDb",eD=1,Iu="firebaseLocalStorage",DE="fbase_key";class Tl{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function ec(s,e){return s.transaction([Iu],e?"readwrite":"readonly").objectStore(Iu)}function tD(){const s=indexedDB.deleteDatabase(OE);return new Tl(s).toPromise()}function vd(){const s=indexedDB.open(OE,eD);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Iu,{keyPath:DE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Iu)?e(a):(a.close(),await tD(),e(await vd()))})})}async function zy(s,e,i){const a=ec(s,!0).put({[DE]:e,value:i});return new Tl(a).toPromise()}async function nD(s,e){const i=ec(s,!1).get(e),a=await new Tl(i).toPromise();return a===void 0?null:a.value}function Py(s,e){const i=ec(s,!0).delete(e);return new Tl(i).toPromise()}const iD=800,sD=3;class ME{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vd(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>sD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ju._getInstance(JO()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await $O(),!this.activeServiceWorker)return;this.sender=new QO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ZO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vd();return await zy(e,Mu,"1"),await Py(e,Mu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>zy(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>nD(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Py(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=ec(l,!1).getAll();return new Tl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ME.type="LOCAL";const aD=ME;new Sl(3e4,6e4);function rD(s,e){return e?Qn(e):(ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class ym extends SE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ta(e,this._buildIdpRequest())}_linkToIdToken(e,i){return Ta(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return Ta(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function lD(s){return jO(s.auth,new ym(s),s.bypassAuthState)}function oD(s){const{auth:e,user:i}=s;return ee(i,e,"internal-error"),BO(i,new ym(s),s.bypassAuthState)}async function uD(s){const{auth:e,user:i}=s;return ee(i,e,"internal-error"),HO(i,new ym(s),s.bypassAuthState)}class IE{constructor(e,i,a,l,u=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:l,tenantId:u,error:f,type:d}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:i,sessionId:a,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lD;case"linkViaPopup":case"linkViaRedirect":return uD;case"reauthViaPopup":case"reauthViaRedirect":return oD;default:ti(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cD=new Sl(2e3,1e4);class va extends IE{constructor(e,i,a,l,u){super(e,i,l,u),this.provider=a,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=vm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cD.get())};e()}}va.currentPopupAction=null;const fD="pendingRedirect",lu=new Map;class hD extends IE{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=lu.get(this.auth._key());if(!e){try{const a=await dD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}lu.set(this.auth._key(),e)}return this.bypassAuthState||lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dD(s,e){const i=gD(e),a=pD(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function mD(s,e){lu.set(s._key(),e)}function pD(s){return Qn(s._redirectPersistence)}function gD(s){return ru(fD,s.config.apiKey,s.name)}async function _D(s,e,i=!1){if(dn(s.app))return Promise.reject(Vi(s));const a=Zu(s),l=rD(a,e),f=await new hD(a,l,i).execute();return f&&!i&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}const vD=600*1e3;class yD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bD(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){if(e.error&&!LE(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";i.onError(Tn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hy(e))}saveEventToCache(e){this.cachedEventUids.add(Hy(e)),this.lastProcessedEventTime=Date.now()}}function Hy(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function LE({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function bD(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LE(s);default:return!1}}async function ED(s,e={}){return Ga(s,"GET","/v1/projects",e)}const SD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CD=/^https?/;async function TD(s){if(s.config.emulator)return;const{authorizedDomains:e}=await ED(s);for(const i of e)try{if(wD(i))return}catch{}ti(s,"unauthorized-domain")}function wD(s){const e=pd(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&f.hostname===a}if(!CD.test(i))return!1;if(SD.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const xD=new Sl(3e4,6e4);function By(){const s=wn().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function RD(s){return new Promise((e,i)=>{function a(){By(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{By(),i(Tn(s,"network-request-failed"))},timeout:xD.get()})}if(wn().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(wn().gapi?.load)a();else{const l=DO("iframefcb");return wn()[l]=()=>{gapi.load?a():i(Tn(s,"network-request-failed"))},NO(`${OO()}?onload=${l}`).catch(u=>i(u))}}).catch(e=>{throw ou=null,e})}let ou=null;function AD(s){return ou=ou||RD(s),ou}const ND=new Sl(5e3,15e3),OD="__/auth/iframe",DD="emulator/auth/iframe",MD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ID=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LD(s){const e=s.config;ee(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?mm(e,DD):`https://${s.config.authDomain}/${OD}`,a={apiKey:e.apiKey,appName:s.name,v:Ha},l=ID.get(s.config.apiHost);l&&(a.eid=l);const u=s._getFrameworks();return u.length&&(a.fw=u.join(",")),`${i}?${Pa(a).slice(1)}`}async function kD(s){const e=await AD(s),i=wn().gapi;return ee(i,s,"internal-error"),e.open({where:document.body,url:LD(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MD,dontclear:!0},a=>new Promise(async(l,u)=>{await a.restyle({setHideOnLeave:!1});const f=Tn(s,"network-request-failed"),d=wn().setTimeout(()=>{u(f)},ND.get());function p(){wn().clearTimeout(d),l(a)}a.ping(p).then(p,()=>{u(f)})}))}const UD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zD=500,PD=600,HD="_blank",BD="http://localhost";class jy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jD(s,e,i,a=zD,l=PD){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p={...UD,width:a.toString(),height:l.toString(),top:u,left:f},m=Rt().toLowerCase();i&&(d=mE(m)?HD:i),hE(m)&&(e=e||BD,p.scrollbars="yes");const v=Object.entries(p).reduce((b,[T,x])=>`${b}${T}=${x},`,"");if(EO(m)&&d!=="_self")return VD(e||"",d),new jy(null);const _=window.open(e||"",d,v);ee(_,s,"popup-blocked");try{_.focus()}catch{}return new jy(_)}function VD(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const qD="__/auth/handler",GD="emulator/auth/handler",YD=encodeURIComponent("fac");async function Vy(s,e,i,a,l,u){ee(s.config.authDomain,s,"auth-domain-config-required"),ee(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:Ha,eventId:l};if(e instanceof CE){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",hu(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))f[v]=_}if(e instanceof Cl){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(f.scopes=v.join(","))}s.tenantId&&(f.tid=s.tenantId);const d=f;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await s._getAppCheckToken(),m=p?`#${YD}=${encodeURIComponent(p)}`:"";return`${FD(s)}?${Pa(d).slice(1)}${m}`}function FD({config:s}){return s.emulator?mm(s,GD):`https://${s.authDomain}/${qD}`}const qh="webStorageSupport";class WD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AE,this._completeRedirectFn=_D,this._overrideRedirectResult=mD}async _openPopup(e,i,a,l){ni(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Vy(e,i,a,pd(),l);return jD(e,u,vm())}async _openRedirect(e,i,a,l){await this._originValidation(e);const u=await Vy(e,i,a,pd(),l);return KO(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:l,promise:u}=this.eventManagers[i];return l?Promise.resolve(l):(ni(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await kD(e),a=new yD(e);return i.register("authEvent",l=>(ee(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(qh,{type:qh},l=>{const u=l?.[0]?.[qh];u!==void 0&&i(!!u),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=TD(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return yE()||dE()||gm()}}const XD=WD;var qy="@firebase/auth",Gy="1.12.0";class QD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function KD(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $D(s){Aa(new bs("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:d}=a.options;ee(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:f,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bE(s)},m=new RO(a,l,u,p);return IO(m,i),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Aa(new bs("auth-internal",e=>{const i=Zu(e.getProvider("auth").getImmediate());return(a=>new QD(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(qy,Gy,KD(s)),Hi(qy,Gy,"esm2020")}const ZD=300,JD=L0("authIdTokenMaxAge")||ZD;let Yy=null;const eM=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>JD)return;const l=i?.token;Yy!==l&&(Yy=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function tM(s=V0()){const e=Ld(s,"auth");if(e.isInitialized())return e.getImmediate();const i=MO(s,{popupRedirectResolver:XD,persistence:[aD,WO,AE]}),a=L0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=eM(u.toString());qO(i,f,()=>f(i.currentUser)),VO(i,d=>f(d))}}const l=M0("auth");return l&&LO(i,`http://${l}`),i}function nM(){return document.getElementsByTagName("head")?.[0]??document}AO({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const u=Tn("internal-error");u.customData=l,i(u)},a.type="text/javascript",a.charset="UTF-8",nM().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$D("Browser");const iM={apiKey:"AIzaSyBJhHojs2TfYuGsgBBFRkdkgx1f-h-oFcg",authDomain:"thirdthinginjapan.firebaseapp.com",databaseURL:"https://thirdthinginjapan-default-rtdb.firebaseio.com",projectId:"thirdthinginjapan",storageBucket:"thirdthinginjapan.firebasestorage.app",messagingSenderId:"530583062307",appId:"1:530583062307:web:6cf343f48a5b87abacee96"},kE=j0(iM),Fe=eO(kE),hn=tM(kE),sM=()=>{const s="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let e="";for(let i=0;i<4;i++)e+=s.charAt(Math.floor(Math.random()*s.length));return e};function aM(){const[s,e]=D.useState(""),[i,a]=D.useState(""),l=y0(),u=async p=>{if(!s.trim())return alert("Please enter a nickname!");try{const v=(await _d(hn)).user.uid,_={};_[`rooms/${p}/players/${v}`]={name:s,id:v,avatar:s.charAt(0).toUpperCase(),joinedAt:Date.now()},_[`rooms/${p}/settings`]={timerMode:"MANUAL",baseTime:60,startMode:"WRITE",ghostMode:!0},await Di(Ye(Fe),_),l(`/room/${p}`)}catch(m){console.error(m),alert("Error: "+m.message)}},f=async()=>{const p=sM();await u(p)},d=async()=>{if(i.length!==4)return alert("Invalid room code!");await u(i.toUpperCase())};return R.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:R.jsxs("div",{className:"glass-panel p-10 rounded-3xl max-w-md w-full relative overflow-hidden",children:[R.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-green-500 to-blue-600 opacity-50"}),R.jsxs("h1",{className:"text-4xl font-black text-center mb-10 tracking-tighter",children:["THIRD",R.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500",children:"THING"}),R.jsx("br",{}),R.jsx("span",{className:"text-xl font-light tracking-[0.5em] text-gray-400",children:"INJAPAN"})]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-2 uppercase tracking-widest",children:"Your Name"}),R.jsx("input",{type:"text",value:s,onChange:p=>e(p.target.value),className:"glass-input w-full p-4 rounded-xl font-bold text-lg text-center",placeholder:"ENTER NAME"})]}),R.jsx("button",{onClick:f,className:"glass-button-primary w-full py-4 rounded-xl transition transform hover:scale-[1.02]",children:"CREATE NEW ROOM"}),R.jsxs("div",{className:"flex items-center gap-4 opacity-50",children:[R.jsx("div",{className:"h-px bg-white/20 flex-1"}),R.jsx("span",{className:"text-xs uppercase tracking-widest",children:"OR"}),R.jsx("div",{className:"h-px bg-white/20 flex-1"})]}),R.jsxs("div",{className:"flex gap-3",children:[R.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),className:"glass-input flex-1 p-4 rounded-xl font-mono text-center uppercase text-xl tracking-widest",placeholder:"CODE",maxLength:4}),R.jsx("button",{onClick:d,className:"glass-button px-8 rounded-xl",children:"JOIN"})]})]})]})})}var Fn={},Xo={},Qo={},Ko={},Fy;function UE(){if(Fy)return Ko;Fy=1,Object.defineProperty(Ko,"__esModule",{value:!0});function s(i,a){if(!(i instanceof a))throw new TypeError("Cannot call a class as a function")}var e=function i(a,l){s(this,i),this.x=a,this.y=l};return Ko.default=e,Ko}var Wy;function zE(){if(Wy)return Qo;Wy=1,Object.defineProperty(Qo,"__esModule",{value:!0});var s=(function(){function p(m,v){for(var _=0;_<v.length;_++){var b=v[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(m,b.key,b)}}return function(m,v,_){return v&&p(m.prototype,v),_&&p(m,_),m}})(),e=UE(),i=a(e);function a(p){return p&&p.__esModule?p:{default:p}}function l(p,m){if(!(p instanceof m))throw new TypeError("Cannot call a class as a function")}function u(p,m){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:p}function f(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(p,m):p.__proto__=m)}var d=(function(p){f(m,p);function m(){return l(this,m),u(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"update",value:function(_){this.x=_.x,this.y=_.y}},{key:"moveByAngle",value:function(_,b){var T=_+Math.PI/2;this.x=this.x+Math.sin(T)*b,this.y=this.y-Math.cos(T)*b}},{key:"equalsTo",value:function(_){return this.x===_.x&&this.y===_.y}},{key:"getDifferenceTo",value:function(_){return new i.default(this.x-_.x,this.y-_.y)}},{key:"getDistanceTo",value:function(_){var b=this.getDifferenceTo(_);return Math.sqrt(Math.pow(b.x,2)+Math.pow(b.y,2))}},{key:"getAngleTo",value:function(_){var b=this.getDifferenceTo(_);return Math.atan2(b.y,b.x)}},{key:"toObject",value:function(){return{x:this.x,y:this.y}}}]),m})(i.default);return Qo.default=d,Qo}var Xy;function rM(){if(Xy)return Xo;Xy=1,Object.defineProperty(Xo,"__esModule",{value:!0});var s=(function(){function d(p,m){for(var v=0;v<m.length;v++){var _=m[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,v){return m&&d(p.prototype,m),v&&d(p,v),p}})(),e=zE(),i=a(e);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var u=30,f=(function(){function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.radius,v=m===void 0?u:m,_=p.enabled,b=_===void 0?!0:_,T=p.initialPoint,x=T===void 0?{x:0,y:0}:T;l(this,d),this.radius=v,this._isEnabled=b,this.pointer=new i.default(x.x,x.y),this.brush=new i.default(x.x,x.y),this.angle=0,this.distance=0,this._hasMoved=!1}return s(d,[{key:"enable",value:function(){this._isEnabled=!0}},{key:"disable",value:function(){this._isEnabled=!1}},{key:"isEnabled",value:function(){return this._isEnabled}},{key:"setRadius",value:function(m){this.radius=m}},{key:"getRadius",value:function(){return this.radius}},{key:"getBrushCoordinates",value:function(){return this.brush.toObject()}},{key:"getPointerCoordinates",value:function(){return this.pointer.toObject()}},{key:"getBrush",value:function(){return this.brush}},{key:"getPointer",value:function(){return this.pointer}},{key:"getAngle",value:function(){return this.angle}},{key:"getDistance",value:function(){return this.distance}},{key:"brushHasMoved",value:function(){return this._hasMoved}},{key:"update",value:function(m){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},_=v.both,b=_===void 0?!1:_;return this._hasMoved=!1,this.pointer.equalsTo(m)&&!b?!1:(this.pointer.update(m),b?(this._hasMoved=!0,this.brush.update(m),!0):(this._isEnabled?(this.distance=this.pointer.getDistanceTo(this.brush),this.angle=this.pointer.getAngleTo(this.brush),this.distance>this.radius&&(this.brush.moveByAngle(this.angle,this.distance-this.radius),this._hasMoved=!0)):(this.distance=0,this.angle=0,this.brush.update(m),this._hasMoved=!0),!0))}}]),d})();return Xo.default=f,Xo}var Qy;function lM(){if(Qy)return Fn;Qy=1,Object.defineProperty(Fn,"__esModule",{value:!0}),Fn.LazyPoint=Fn.Point=Fn.LazyBrush=void 0;var s=rM(),e=f(s),i=UE(),a=f(i),l=zE(),u=f(l);function f(d){return d&&d.__esModule?d:{default:d}}return Fn.LazyBrush=e.default,Fn.Point=a.default,Fn.LazyPoint=u.default,Fn}var oM=lM(),ms={},$o={},Zo={},Ky;function PE(){if(Ky)return Zo;Ky=1,Object.defineProperty(Zo,"__esModule",{value:!0});var s=(function(){function a(l,u){for(var f=0;f<u.length;f++){var d=u[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,u,f){return u&&a(l.prototype,u),f&&a(l,f),l}})();function e(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var i=(function(){function a(l,u){e(this,a),this.x=l,this.y=u}return s(a,[{key:"update",value:function(u){this.x=u.x,this.y=u.y}},{key:"getDifferenceTo",value:function(u){return new a(this.x-u.x,this.y-u.y)}},{key:"getDistanceTo",value:function(u){var f=this.getDifferenceTo(u);return Math.sqrt(Math.pow(f.x,2)+Math.pow(f.y,2))}}]),a})();return Zo.default=i,Zo}var $y;function uM(){if($y)return $o;$y=1,Object.defineProperty($o,"__esModule",{value:!0});var s=(function(){function d(p,m){for(var v=0;v<m.length;v++){var _=m[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}return function(p,m,v){return m&&d(p.prototype,m),v&&d(p,v),p}})(),e=PE(),i=a(e);function a(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}var u=1e-6,f=(function(){function d(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=p.segments,v=m===void 0?50:m,_=p.iterationLimit,b=_===void 0?100:_;l(this,d),this.p1=new i.default,this.p2=new i.default,this.segments=v,this.iterationLimit=b}return s(d,[{key:"drawToCanvas",value:function(m,v,_,b){this.p1.update(v),this.p2.update(_);var T=this.p1.x>this.p2.x,x=T?this.p2:this.p1,I=T?this.p1:this.p2,H=x.getDistanceTo(I),j=[],B=!0;if(H<b){var q=I.x-x.x;if(q>.01){var ne=I.x-x.x,le=I.y-x.y,ve=-this.getCatenaryParameter(ne,le,b,this.iterationLimit),G=(ve*Math.log((b+le)/(b-le))-ne)*.5,re=ve*Math.cosh(G/ve),Ie=x.x-G,je=x.y-re;j=this.getCurve(ve,x,I,Ie,je,this.segments),B=!1}else{var nt=(x.x+I.x)*.5,it=(x.y+I.y+b)*.5;j=[[x.x,x.y],[nt,it],[I.x,I.y]]}}else j=[[x.x,x.y],[I.x,I.y]];return B?this.drawLine(j,m):this.drawCurve(j,m),j}},{key:"getCatenaryParameter",value:function(m,v,_,b){for(var T=Math.sqrt(_*_-v*v)/m,x=Math.acosh(T)+1,I=-1,H=0;Math.abs(x-I)>u&&H<b;)I=x,x=x-(Math.sinh(x)-T*x)/(Math.cosh(x)-T),H++;return m/(2*x)}},{key:"getCurve",value:function(m,v,_,b,T,x){for(var I=[v.x,m*Math.cosh((v.x-b)/m)+T],H=_.x-v.x,j=x-1,B=0;B<j;B++){var q=v.x+H*(B+.5)/j,ne=m*Math.cosh((q-b)/m)+T;I.push(q,ne)}return I.push(_.x,m*Math.cosh((_.x-b)/m)+T),I}},{key:"drawLine",value:function(m,v){v.moveTo(m[0][0],m[0][1]),v.lineTo(m[1][0],m[1][1])}},{key:"drawCurve",value:function(m,v){var _=m.length*.5-1,b=m[2],T=m[3],x=[];v.moveTo(m[0],m[1]);for(var I=2;I<_;I++){var H=m[I*2],j=m[I*2+1],B=(H+b)*.5,q=(j+T)*.5;x.push([b,T,B,q]),v.quadraticCurveTo(b,T,B,q),b=H,T=j}return _=m.length,v.quadraticCurveTo(m[_-4],m[_-3],m[_-2],m[_-1]),x}}]),d})();return $o.default=f,$o}var Zy;function cM(){if(Zy)return ms;Zy=1,Object.defineProperty(ms,"__esModule",{value:!0}),ms.Point=ms.Catenary=void 0;var s=uM(),e=l(s),i=PE(),a=l(i);function l(u){return u&&u.__esModule?u:{default:u}}return ms.Catenary=e.default,ms.Point=a.default,ms}var fM=cM(),HE=(function(){if(typeof Map<"u")return Map;function s(e,i){var a=-1;return e.some(function(l,u){return l[0]===i?(a=u,!0):!1}),a}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(i){var a=s(this.__entries__,i),l=this.__entries__[a];return l&&l[1]},e.prototype.set=function(i,a){var l=s(this.__entries__,i);~l?this.__entries__[l][1]=a:this.__entries__.push([i,a])},e.prototype.delete=function(i){var a=this.__entries__,l=s(a,i);~l&&a.splice(l,1)},e.prototype.has=function(i){return!!~s(this.__entries__,i)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(i,a){a===void 0&&(a=null);for(var l=0,u=this.__entries__;l<u.length;l++){var f=u[l];i.call(a,f[1],f[0])}},e})()})(),yd=typeof window<"u"&&typeof document<"u"&&window.document===document,Lu=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),hM=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Lu):function(s){return setTimeout(function(){return s(Date.now())},1e3/60)}})(),dM=2;function mM(s,e){var i=!1,a=!1,l=0;function u(){i&&(i=!1,s()),a&&d()}function f(){hM(u)}function d(){var p=Date.now();if(i){if(p-l<dM)return;a=!0}else i=!0,a=!1,setTimeout(f,e);l=p}return d}var pM=20,gM=["top","right","bottom","left","width","height","size","weight"],_M=typeof MutationObserver<"u",vM=(function(){function s(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=mM(this.refresh.bind(this),pM)}return s.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},s.prototype.removeObserver=function(e){var i=this.observers_,a=i.indexOf(e);~a&&i.splice(a,1),!i.length&&this.connected_&&this.disconnect_()},s.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},s.prototype.updateObservers_=function(){var e=this.observers_.filter(function(i){return i.gatherActive(),i.hasActive()});return e.forEach(function(i){return i.broadcastActive()}),e.length>0},s.prototype.connect_=function(){!yd||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),_M?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},s.prototype.disconnect_=function(){!yd||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},s.prototype.onTransitionEnd_=function(e){var i=e.propertyName,a=i===void 0?"":i,l=gM.some(function(u){return!!~a.indexOf(u)});l&&this.refresh()},s.getInstance=function(){return this.instance_||(this.instance_=new s),this.instance_},s.instance_=null,s})(),BE=(function(s,e){for(var i=0,a=Object.keys(e);i<a.length;i++){var l=a[i];Object.defineProperty(s,l,{value:e[l],enumerable:!1,writable:!1,configurable:!0})}return s}),La=(function(s){var e=s&&s.ownerDocument&&s.ownerDocument.defaultView;return e||Lu}),jE=tc(0,0,0,0);function ku(s){return parseFloat(s)||0}function Jy(s){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce(function(a,l){var u=s["border-"+l+"-width"];return a+ku(u)},0)}function yM(s){for(var e=["top","right","bottom","left"],i={},a=0,l=e;a<l.length;a++){var u=l[a],f=s["padding-"+u];i[u]=ku(f)}return i}function bM(s){var e=s.getBBox();return tc(0,0,e.width,e.height)}function EM(s){var e=s.clientWidth,i=s.clientHeight;if(!e&&!i)return jE;var a=La(s).getComputedStyle(s),l=yM(a),u=l.left+l.right,f=l.top+l.bottom,d=ku(a.width),p=ku(a.height);if(a.boxSizing==="border-box"&&(Math.round(d+u)!==e&&(d-=Jy(a,"left","right")+u),Math.round(p+f)!==i&&(p-=Jy(a,"top","bottom")+f)),!CM(s)){var m=Math.round(d+u)-e,v=Math.round(p+f)-i;Math.abs(m)!==1&&(d-=m),Math.abs(v)!==1&&(p-=v)}return tc(l.left,l.top,d,p)}var SM=(function(){return typeof SVGGraphicsElement<"u"?function(s){return s instanceof La(s).SVGGraphicsElement}:function(s){return s instanceof La(s).SVGElement&&typeof s.getBBox=="function"}})();function CM(s){return s===La(s).document.documentElement}function TM(s){return yd?SM(s)?bM(s):EM(s):jE}function wM(s){var e=s.x,i=s.y,a=s.width,l=s.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,f=Object.create(u.prototype);return BE(f,{x:e,y:i,width:a,height:l,top:i,right:e+a,bottom:l+i,left:e}),f}function tc(s,e,i,a){return{x:s,y:e,width:i,height:a}}var xM=(function(){function s(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=tc(0,0,0,0),this.target=e}return s.prototype.isActive=function(){var e=TM(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},s.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},s})(),RM=(function(){function s(e,i){var a=wM(i);BE(this,{target:e,contentRect:a})}return s})(),AM=(function(){function s(e,i,a){if(this.activeObservations_=[],this.observations_=new HE,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=i,this.callbackCtx_=a}return s.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof La(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)||(i.set(e,new xM(e)),this.controller_.addObserver(this),this.controller_.refresh())}},s.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof La(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var i=this.observations_;i.has(e)&&(i.delete(e),i.size||this.controller_.removeObserver(this))}},s.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},s.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(i){i.isActive()&&e.activeObservations_.push(i)})},s.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,i=this.activeObservations_.map(function(a){return new RM(a.target,a.broadcastRect())});this.callback_.call(e,i,e),this.clearActive()}},s.prototype.clearActive=function(){this.activeObservations_.splice(0)},s.prototype.hasActive=function(){return this.activeObservations_.length>0},s})(),VE=typeof WeakMap<"u"?new WeakMap:new HE,qE=(function(){function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=vM.getInstance(),a=new AM(e,i,this);VE.set(this,a)}return s})();["observe","unobserve","disconnect"].forEach(function(s){qE.prototype[s]=function(){var e;return(e=VE.get(this))[s].apply(e,arguments)}});var NM=(function(){return typeof Lu.ResizeObserver<"u"?Lu.ResizeObserver:qE})();function Oi(){return Oi=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},Oi.apply(this,arguments)}function OM(s,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(s,a.key,a)}}function DM(s,e,i){return e&&OM(s.prototype,e),s}function Xt(s,e,i){return e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}var e0=Object.freeze({x:0,y:0,untransformedX:0,untransformedY:0}),Gh=Object.freeze({canvasWidth:0,canvasHeight:0,left:0,top:0,right:0,bottom:0,viewMin:e0,viewMax:e0}),pa=Object.freeze({a:1,b:0,c:0,d:1,e:0,f:0}),MM=(function(){function s(e){var i=this,a=e.scaleExtents,l=e.documentSize;Xt(this,"_scaleExtents",void 0),Xt(this,"_documentSize",void 0),Xt(this,"_canvas",null),Xt(this,"_view",{scale:1,x:0,y:0}),Xt(this,"_viewChangeListeners",new Set),Xt(this,"setScale",function(u){i.setView({scale:u})}),Xt(this,"clampView",function(u){var f=u.scale,d=u.x,p=u.y,m=i.scaleExtents,v=m.min,_=m.max,b=i.documentSize,T=b.width,x=b.height,I=i.canvasRect||Gh,H=I.left,j=I.top,B=I.right,q=I.bottom,ne=B-H,le=q-j,ve=ne/2,G=-(T*i._view.scale-ne/2),re=le/2,Ie=-(x*i._view.scale-le/2);return{scale:Math.min(Math.max(f,v),_),x:Math.min(Math.max(d,G),ve),y:Math.min(Math.max(p,Ie),re)}}),Xt(this,"resetView",function(){i.setView({scale:1,x:0,y:0})}),Xt(this,"setView",function(u){var f=i.clampView(Oi({},i._view,u||{})),d=i._view,p=d.scale,m=d.x,v=d.y;return(f.scale!==p||f.x!==m||f.y!==v)&&(i._view=f,i._viewChangeListeners.forEach(function(_){return _&&_(f)})),Oi({},i._view)}),Xt(this,"scaleAtClientPoint",function(u,f){var d=i.clientPointToViewPoint(f),p=i.clampView(Oi({},i._view,{scale:i._view.scale+u})),m=i.viewPointToClientPoint(d,p);return p.x=i._view.x-(m.clientX-f.clientX),p.y=i._view.y-(m.clientY-f.clientY),i.setView(p)}),Xt(this,"clientPointToViewPoint",function(u,f){var d=u.clientX,p=u.clientY;f===void 0&&(f=i._view);var m=i.canvasRect||Gh,v=m.left,_=m.top,b=d-v,T=p-_;return{x:(b-f.x)/f.scale,y:(T-f.y)/f.scale,relativeClientX:b,relativeClientY:T}}),Xt(this,"viewPointToClientPoint",function(u,f){var d=u.x,p=u.y;f===void 0&&(f=i._view);var m=i.canvasRect||Gh,v=m.left,_=m.top,b=d*f.scale+f.x,T=p*f.scale+f.y,x=b+v,I=T+_;return{clientX:x,clientY:I,relativeX:b,relativeY:T,x,y:I}}),Xt(this,"attachViewChangeListener",function(u){i._viewChangeListeners.add(u)}),this._scaleExtents=a,this._documentSize=l}return DM(s,[{key:"canvas",get:function(){return this._canvas},set:function(i){this._canvas=i,this.setView()}},{key:"scale",get:function(){return this._view.scale}},{key:"x",get:function(){return this._view.x},set:function(i){this.setView({x:i})}},{key:"y",get:function(){return this._view.y},set:function(i){this.setView({y:i})}},{key:"view",get:function(){return Oi({},this._view)}},{key:"scaleExtents",get:function(){return Oi({},this._scaleExtents)},set:function(i){var a=i.min,l=i.max;this._scaleExtents={min:a,max:l},this.setView()}},{key:"documentSize",get:function(){return Oi({},this._documentSize)},set:function(i){var a=i.width,l=i.height;this._documentSize={width:a,height:l},this.setView()}},{key:"transformMatrix",get:function(){return{a:this._view.scale,b:0,c:0,d:this._view.scale,e:this._view.x,f:this._view.y}}},{key:"canvasBounds",get:function(){if(this._canvas){var i=this._canvas.getBoundingClientRect(),a=i.left,l=i.top,u=i.right,f=i.bottom;return{viewMin:this.clientPointToViewPoint({clientX:a,clientY:l}),viewMax:this.clientPointToViewPoint({clientX:u,clientY:f}),left:a,top:l,right:u,bottom:f,canvasWidth:this._canvas.width,canvasHeight:this._canvas.height}}else return}},{key:"canvasRect",get:function(){if(this.canvas)return this.canvas.getBoundingClientRect()}}]),s})();function IM(s){var e=s===void 0?{}:s,i=e.ctx,a=e.img,l=e.x,u=e.y,f=e.w,d=e.h,p=e.offsetX,m=e.offsetY;typeof l!="number"&&(l=0),typeof u!="number"&&(u=0),typeof f!="number"&&(f=i.canvas.width),typeof d!="number"&&(d=i.canvas.height),typeof p!="number"&&(p=.5),typeof m!="number"&&(m=.5),p<0&&(p=0),m<0&&(m=0),p>1&&(p=1),m>1&&(m=1);var v=a.width,_=a.height,b=Math.min(f/v,d/_),T=v*b,x=_*b,I,H,j,B,q=1;T<f&&(q=f/T),Math.abs(q-1)<1e-14&&x<d&&(q=d/x),T*=q,x*=q,j=v/(T/f),B=_/(x/d),I=(v-j)*p,H=(_-B)*m,I<0&&(I=0),H<0&&(H=0),j>v&&(j=v),B>_&&(B=_),i.drawImage(a,I,H,j,B,l,u,f,d)}var LM=void 0;function Ee(s,e,i){return e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}var bd=10,kM=250,Ya=function(e){return e.preventDefault(),LM},Ut=function(){var e=this;Ee(this,"handleMouseWheel",function(i,a){var l=a.props,u=l.disabled,f=l.enablePanAndZoom,d=l.mouseZoomFactor;return u?new Jo:(f&&i.ctrlKey&&(i.preventDefault(),a.coordSystem.scaleAtClientPoint(d*i.deltaY,ws(i))),e)}),Ee(this,"handleDrawStart",function(i,a){return a.props.disabled?new Jo:i.ctrlKey&&a.props.enablePanAndZoom?new UM().handleDrawStart(i,a):new zM().handleDrawStart(i,a)}),Ee(this,"handleDrawMove",function(i,a){if(a.props.disabled)return new Jo;var l=Ed(a.coordSystem,i),u=l.x,f=l.y;return a.lazy.update({x:u,y:f}),e}),Ee(this,"handleDrawEnd",function(i,a){return a.props.disabled?new Jo:e})},Jo=function(){var e=this;Ee(this,"handleMouseWheel",function(i,a){return a.props.disabled?e:new Ut().handleMouseWheel(i,a)}),Ee(this,"handleDrawStart",function(i,a){return a.props.disabled?e:new Ut().handleDrawStart(i,a)}),Ee(this,"handleDrawMove",function(i,a){return a.props.disabled?e:new Ut().handleDrawMove(i,a)}),Ee(this,"handleDrawEnd",function(i,a){return a.props.disabled?e:new Ut().handleDrawEnd(i,a)})},UM=function(){var e=this;Ee(this,"handleMouseWheel",Ya.bind(this)),Ee(this,"handleDrawStart",function(i,a){return i.preventDefault(),e.dragStart=ws(i),e.panStart={x:a.coordSystem.x,y:a.coordSystem.y},e}),Ee(this,"handleDrawMove",function(i,a){i.preventDefault();var l=ws(i),u=l.clientX,f=l.clientY,d=u-e.dragStart.clientX,p=f-e.dragStart.clientY;return a.coordSystem.setView({x:e.panStart.x+d,y:e.panStart.y+p}),e}),Ee(this,"handleDrawEnd",function(){return new Ut})},zM=function(){var e=this;Ee(this,"handleMouseWheel",Ya.bind(this)),Ee(this,"handleDrawStart",function(i,a){var l=a.props.enablePanAndZoom;return i.preventDefault(),!i.touches||!i.touches.length||!l?new n0().handleDrawStart(i,a):l&&i.touches&&i.touches.length>=2?new t0().handleDrawStart(i,a):e.handleDrawMove(i,a)}),Ee(this,"handleDrawMove",function(i,a){if(i.preventDefault(),i.touches&&i.touches.length>=2)return new t0().handleDrawStart(i,a);var l=ws(i);if(e.deferredPoints.push(l),new Date().valueOf()-e.startTimestamp<kM){e.startClientPoint===null&&(e.startClientPoint=l);var u=Math.abs(l.clientX-e.startClientPoint.clientX)+Math.abs(l.clientY-e.startClientPoint.clientY);if(u<bd)return e}return e.issueDeferredPoints(a)}),Ee(this,"handleDrawEnd",function(i,a){return e.issueDeferredPoints(a).handleDrawEnd(i,a)}),Ee(this,"issueDeferredPoints",function(i){for(var a=new n0,l=0;l<e.deferredPoints.length;l++){var u=e.deferredPoints[l],f=new BM(u),d=l===0?a.handleDrawStart:a.handleDrawMove;a=d(f,i)}return a}),this.startClientPoint=null,this.startTimestamp=new Date().valueOf(),this.deferredPoints=[]},t0=function(){var e=this;Ee(this,"handleMouseWheel",Ya.bind(this)),Ee(this,"handleDrawStart",function(i,a){return i.preventDefault(),!i.touches||i.touches.length<2?new Ut:(e.start=e.getTouchMetrics(i),e.panStart={x:a.coordSystem.x,y:a.coordSystem.y},e.scaleStart=a.coordSystem.scale,e)}),Ee(this,"handleDrawMove",function(i,a){if(i.preventDefault(),!i.touches||i.touches.length<2)return new Ut;var l=e.recentMetrics=e.getTouchMetrics(i),u=l.centroid,f=l.distance,d=Math.abs(f-e.start.distance);if(d>=bd)return new HM(e).handleDrawMove(i,a);var p=u.clientX-e.start.centroid.clientX,m=u.clientY-e.start.centroid.clientY,v=Math.abs(p)+Math.abs(m);return v>=bd?new PM(e).handleDrawMove(i,a):e}),Ee(this,"handleDrawEnd",function(){return new Ut}),Ee(this,"getTouchMetrics",function(i){var a=ws(i.touches[0]),l=a.clientX,u=a.clientY,f=ws(i.touches[1]),d=f.clientX,p=f.clientY,m=d-l,v=p-u;return{t1:{clientX:l,clientY:u},t2:{clientX:d,clientY:p},distance:Math.sqrt(m*m+v*v),centroid:{clientX:(l+d)/2,clientY:(u+p)/2}}})},PM=function(e){var i=this;Ee(this,"handleMouseWheel",Ya.bind(this)),Ee(this,"handleDrawStart",function(){return i}),Ee(this,"handleDrawMove",function(a,l){if(a.preventDefault(),!a.touches||a.touches.length<2)return new Ut;var u=i.scaleOrPanState,f=u.recentMetrics=u.getTouchMetrics(a),d=f.centroid;f.distance;var p=d.clientX-u.start.centroid.clientX,m=d.clientY-u.start.centroid.clientY;return l.setView({x:u.panStart.x+p,y:u.panStart.y+m}),i}),Ee(this,"handleDrawEnd",function(){return new Ut}),this.scaleOrPanState=e},HM=function(e){var i=this;Ee(this,"handleMouseWheel",Ya.bind(this)),Ee(this,"handleDrawStart",function(){return i}),Ee(this,"handleDrawMove",function(a,l){if(a.preventDefault(),!a.touches||a.touches.length<2)return new Ut;var u=i.scaleOrPanState,f=u.recentMetrics=u.getTouchMetrics(a),d=f.centroid,p=f.distance,m=u.scaleStart*(p/u.start.distance),v=m-l.coordSystem.scale;return l.coordSystem.scaleAtClientPoint(v,d),i}),Ee(this,"handleDrawEnd",function(){return new Ut}),this.scaleOrPanState=e},n0=function(){var e=this;Ee(this,"handleMouseWheel",Ya.bind(this)),Ee(this,"handleDrawStart",function(i,a){if(i.preventDefault(),i.touches&&i.touches.length){var l=Ed(a.coordSystem,i),u=l.x,f=l.y;a.lazy.update({x:u,y:f},{both:!0})}return e.handleDrawMove(i,a)}),Ee(this,"handleDrawMove",function(i,a){i.preventDefault();var l=Ed(a.coordSystem,i),u=l.x,f=l.y;a.lazy.update({x:u,y:f});var d=!a.lazy.isEnabled();return(!e.isDrawing||d)&&(a.points.push(a.clampPointToDocument(a.lazy.brush.toObject())),e.isDrawing=!0),a.points.push(a.clampPointToDocument(a.lazy.brush.toObject())),a.drawPoints({points:a.points,brushColor:a.props.brushColor,brushRadius:a.props.brushRadius}),e}),Ee(this,"handleDrawEnd",function(i,a){return i.preventDefault(),e.handleDrawMove(i,a),a.saveLine(),new Ut}),this.isDrawing=!1},BM=function(e){var i=e.clientX,a=e.clientY;Ee(this,"preventDefault",function(){}),this.clientX=i,this.clientY=a,this.touches=[{clientX:i,clientY:a}]};function ws(s){var e=s.clientX,i=s.clientY;return s.changedTouches&&s.changedTouches.length>0&&(e=s.changedTouches[0].clientX,i=s.changedTouches[0].clientY),{clientX:e,clientY:i}}function Ed(s,e){return s.clientPointToViewPoint(ws(e))}var Sd=!1;try{var eu={get passive(){return Sd=!0,!1}};window.addEventListener("test",eu,eu),window.removeEventListener("test",eu,eu)}catch{Sd=!1}function jM(s){return Sd?{passive:s}:s}function VM(s,e){var i;if(typeof Symbol>"u"||s[Symbol.iterator]==null){if(Array.isArray(s)||(i=qM(s))||e){i&&(s=i);var a=0;return function(){return a>=s.length?{done:!0}:{done:!1,value:s[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return i=s[Symbol.iterator](),i.next.bind(i)}function qM(s,e){if(s){if(typeof s=="string")return i0(s,e);var i=Object.prototype.toString.call(s).slice(8,-1);if(i==="Object"&&s.constructor&&(i=s.constructor.name),i==="Map"||i==="Set")return Array.from(s);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return i0(s,e)}}function i0(s,e){(e==null||e>s.length)&&(e=s.length);for(var i=0,a=new Array(e);i<e;i++)a[i]=s[i];return a}function Jr(){return Jr=Object.assign||function(s){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},Jr.apply(this,arguments)}function be(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function GM(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}function Ne(s,e,i){return e in s?Object.defineProperty(s,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[e]=i,s}function YM(s,e){return{x:s.x+(e.x-s.x)/2,y:s.y+(e.y-s.y)/2}}var FM={display:"block",position:"absolute"},s0=["grid","drawing","temp","interface"],wa=(function(s){GM(e,s);function e(a){var l;return l=s.call(this,a)||this,Ne(be(l),"undo",function(){var u=[];l.lines.length?u=l.lines.slice(0,-1):l.erasedLines.length&&(u=l.erasedLines.pop()),l.clearExceptErasedLines(),l.simulateDrawingLines({lines:u,immediate:!0}),l.triggerOnChange()}),Ne(be(l),"eraseAll",function(){l.erasedLines.push([].concat(l.lines)),l.clearExceptErasedLines(),l.triggerOnChange()}),Ne(be(l),"clear",function(){l.erasedLines=[],l.clearExceptErasedLines(),l.resetView()}),Ne(be(l),"resetView",function(){return l.coordSystem.resetView()}),Ne(be(l),"setView",function(u){return l.coordSystem.setView(u)}),Ne(be(l),"getSaveData",function(){return JSON.stringify({lines:l.lines,width:l.props.canvasWidth,height:l.props.canvasHeight})}),Ne(be(l),"getDataURL",function(u,f,d){var p=l.canvas.drawing,m=p.getContext("2d"),v=p.width,_=p.height,b=m.getImageData(0,0,v,_),T=m.globalCompositeOperation;if(m.globalCompositeOperation="destination-over",f){if(!l.props.imgSrc)return"Background image source not set";l.drawImage()}else d!=null&&(m.fillStyle=d,m.fillRect(0,0,v,_));u||(u="png");var x=p.toDataURL("image/"+u);return m.clearRect(0,0,v,_),m.putImageData(b,0,0),m.globalCompositeOperation=T,x}),Ne(be(l),"loadSaveData",function(u,f){if(f===void 0&&(f=l.props.immediateLoading),typeof u!="string")throw new Error("saveData needs to be of type string!");var d=JSON.parse(u),p=d.lines,m=d.width,v=d.height;if(!p||typeof p.push!="function")throw new Error("saveData.lines needs to be an array!");if(l.clear(),m===l.props.canvasWidth&&v===l.props.canvasHeight)l.simulateDrawingLines({lines:p,immediate:f});else{var _=l.props.canvasWidth/m,b=l.props.canvasHeight/v,T=(_+b)/2;l.simulateDrawingLines({lines:p.map(function(x){return Jr({},x,{points:x.points.map(function(I){return{x:I.x*_,y:I.y*b}}),brushRadius:x.brushRadius*T})}),immediate:f})}}),Ne(be(l),"componentWillUnmount",function(){l.canvasObserver.unobserve(l.canvasContainer),l.canvas.interface&&l.canvas.interface.removeEventListener("wheel",l.handleWheel)}),Ne(be(l),"handleWheel",function(u){l.interactionSM=l.interactionSM.handleMouseWheel(u,be(l))}),Ne(be(l),"handleDrawStart",function(u){l.interactionSM=l.interactionSM.handleDrawStart(u,be(l)),l.mouseHasMoved=!0}),Ne(be(l),"handleDrawMove",function(u){l.interactionSM=l.interactionSM.handleDrawMove(u,be(l)),l.mouseHasMoved=!0}),Ne(be(l),"handleDrawEnd",function(u){l.interactionSM=l.interactionSM.handleDrawEnd(u,be(l)),l.mouseHasMoved=!0}),Ne(be(l),"applyView",function(){if(l.ctx.drawing&&(s0.map(function(f){return l.ctx[f]}).forEach(function(f){l.clearWindow(f);var d=l.coordSystem.transformMatrix;f.setTransform(d.a,d.b,d.c,d.d,d.e,d.f)}),!l.deferRedrawOnViewChange)){l.drawGrid(l.ctx.grid),l.redrawImage(),l.loop({once:!0});var u=l.lines;l.lines=[],l.simulateDrawingLines({lines:u,immediate:!0})}}),Ne(be(l),"handleCanvasResize",function(u){var f=l.getSaveData();l.deferRedrawOnViewChange=!0;try{for(var d=VM(u),p;!(p=d()).done;){var m=p.value,v=m.contentRect,_=v.width,b=v.height;l.setCanvasSize(l.canvas.interface,_,b),l.setCanvasSize(l.canvas.drawing,_,b),l.setCanvasSize(l.canvas.temp,_,b),l.setCanvasSize(l.canvas.grid,_,b),l.coordSystem.documentSize={width:_,height:b},l.drawGrid(l.ctx.grid),l.drawImage(),l.loop({once:!0})}l.loadSaveData(f,!0)}finally{l.deferRedrawOnViewChange=!1}}),Ne(be(l),"clampPointToDocument",function(u){return l.props.clampLinesToDocument?{x:Math.max(Math.min(u.x,l.props.canvasWidth),0),y:Math.max(Math.min(u.y,l.props.canvasHeight),0)}:u}),Ne(be(l),"redrawImage",function(){l.image&&l.image.complete&&IM({ctx:l.ctx.grid,img:l.image})}),Ne(be(l),"simulateDrawingLines",function(u){var f=u.lines,d=u.immediate,p=0,m=d?0:l.props.loadTimeOffset;f.forEach(function(v){var _=v.points,b=v.brushColor,T=v.brushRadius;if(d){l.drawPoints({points:_,brushColor:b,brushRadius:T}),l.points=_,l.saveLine({brushColor:b,brushRadius:T});return}for(var x=function(j){p+=m,window.setTimeout(function(){l.drawPoints({points:_.slice(0,j+1),brushColor:b,brushRadius:T})},p)},I=1;I<_.length;I++)x(I);p+=m,window.setTimeout(function(){l.points=_,l.saveLine({brushColor:b,brushRadius:T})},p)})}),Ne(be(l),"setCanvasSize",function(u,f,d){u.width=f,u.height=d,u.style.width=f,u.style.height=d}),Ne(be(l),"drawPoints",function(u){var f=u.points,d=u.brushColor,p=u.brushRadius;l.ctx.temp.lineJoin="round",l.ctx.temp.lineCap="round",l.ctx.temp.strokeStyle=d,l.clearWindow(l.ctx.temp),l.ctx.temp.lineWidth=p*2;var m=f[0],v=f[1];l.ctx.temp.moveTo(v.x,v.y),l.ctx.temp.beginPath();for(var _=1,b=f.length;_<b;_++){var T=YM(m,v);l.ctx.temp.quadraticCurveTo(m.x,m.y,T.x,T.y),m=f[_],v=f[_+1]}l.ctx.temp.lineTo(m.x,m.y),l.ctx.temp.stroke()}),Ne(be(l),"saveLine",function(u){var f=u===void 0?{}:u,d=f.brushColor,p=f.brushRadius;l.points.length<2||(l.lines.push({points:[].concat(l.points),brushColor:d||l.props.brushColor,brushRadius:p||l.props.brushRadius}),l.points.length=0,l.inClientSpace([l.ctx.drawing,l.ctx.temp],function(){l.ctx.drawing.drawImage(l.canvas.temp,0,0,l.canvas.drawing.width,l.canvas.drawing.height)}),l.clearWindow(l.ctx.temp),l.triggerOnChange())}),Ne(be(l),"triggerOnChange",function(){l.props.onChange&&l.props.onChange(be(l))}),Ne(be(l),"clearWindow",function(u){l.inClientSpace([u],function(){return u.clearRect(0,0,u.canvas.width,u.canvas.height)})}),Ne(be(l),"clearExceptErasedLines",function(){l.lines=[],l.valuesChanged=!0,l.clearWindow(l.ctx.drawing),l.clearWindow(l.ctx.temp)}),Ne(be(l),"loop",function(u){var f=u===void 0?{}:u,d=f.once,p=d===void 0?!1:d;if(l.mouseHasMoved||l.valuesChanged){var m=l.lazy.getPointerCoordinates(),v=l.lazy.getBrushCoordinates();l.drawInterface(l.ctx.interface,m,v),l.mouseHasMoved=!1,l.valuesChanged=!1}p||window.requestAnimationFrame(function(){l.loop()})}),Ne(be(l),"inClientSpace",function(u,f){u.forEach(function(d){d.save(),d.setTransform(pa.a,pa.b,pa.c,pa.d,pa.e,pa.f)});try{f()}finally{u.forEach(function(d){return d.restore()})}}),Ne(be(l),"drawImage",function(){l.props.imgSrc&&(l.image=new Image,l.image.crossOrigin="anonymous",l.image.onload=l.redrawImage,l.image.src=l.props.imgSrc)}),Ne(be(l),"drawGrid",function(u){if(!l.props.hideGrid){l.clearWindow(u);var f=25,d=l.coordSystem.canvasBounds,p=d.viewMin,m=d.viewMax,v=Math.floor(p.x/f-1)*f,_=Math.floor(p.y/f-1)*f,b=m.x+f,T=m.y+f;if(u.beginPath(),u.setLineDash([5,1]),u.setLineDash([]),u.strokeStyle=l.props.gridColor,u.lineWidth=l.props.gridLineWidth,!l.props.hideGridX){for(var x=v,I=l.props.gridSizeX;x<b;)x+=I,u.moveTo(x,_),u.lineTo(x,T);u.stroke()}if(!l.props.hideGridY){for(var H=_,j=l.props.gridSizeY;H<T;)H+=j,u.moveTo(v,H),u.lineTo(b,H);u.stroke()}}}),Ne(be(l),"drawInterface",function(u,f,d){l.props.hideInterface||(l.clearWindow(u),u.beginPath(),u.fillStyle=l.props.brushColor,u.arc(d.x,d.y,l.props.brushRadius,0,Math.PI*2,!0),u.fill(),u.beginPath(),u.fillStyle=l.props.catenaryColor,u.arc(f.x,f.y,4,0,Math.PI*2,!0),u.fill(),l.lazy.isEnabled()&&(u.beginPath(),u.lineWidth=2,u.lineCap="round",u.setLineDash([2,4]),u.strokeStyle=l.props.catenaryColor,l.catenary.drawToCanvas(l.ctx.interface,d,f,l.chainLength),u.stroke()),u.beginPath(),u.fillStyle=l.props.catenaryColor,u.arc(d.x,d.y,2,0,Math.PI*2,!0),u.fill())}),l.canvas={},l.ctx={},l.catenary=new fM.Catenary,l.points=[],l.lines=[],l.erasedLines=[],l.mouseHasMoved=!0,l.valuesChanged=!0,l.isDrawing=!1,l.isPressing=!1,l.deferRedrawOnViewChange=!1,l.interactionSM=new Ut,l.coordSystem=new MM({scaleExtents:a.zoomExtents,documentSize:{width:a.canvasWidth,height:a.canvasHeight}}),l.coordSystem.attachViewChangeListener(l.applyView.bind(be(l))),l}var i=e.prototype;return i.componentDidMount=function(){var l=this;this.lazy=new oM.LazyBrush({radius:this.props.lazyRadius*window.devicePixelRatio,enabled:!0,initialPoint:{x:window.innerWidth/2,y:window.innerHeight/2}}),this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.canvasObserver=new NM(function(u,f){return l.handleCanvasResize(u,f)}),this.canvasObserver.observe(this.canvasContainer),this.drawImage(),this.loop(),window.setTimeout(function(){var u=window.innerWidth/2,f=window.innerHeight/2;l.lazy.update({x:u-l.chainLength/4,y:f},{both:!0}),l.lazy.update({x:u+l.chainLength/4,y:f},{both:!1}),l.mouseHasMoved=!0,l.valuesChanged=!0,l.clearExceptErasedLines(),l.props.saveData&&l.loadSaveData(l.props.saveData)},100),this.canvas.interface&&this.canvas.interface.addEventListener("wheel",this.handleWheel,jM())},i.componentDidUpdate=function(l){l.lazyRadius!==this.props.lazyRadius&&(this.chainLength=this.props.lazyRadius*window.devicePixelRatio,this.lazy.setRadius(this.props.lazyRadius*window.devicePixelRatio)),l.saveData!==this.props.saveData&&this.loadSaveData(this.props.saveData),JSON.stringify(l)!==JSON.stringify(this.props)&&(this.valuesChanged=!0),this.coordSystem.scaleExtents=this.props.zoomExtents,this.props.enablePanAndZoom||this.coordSystem.resetView(),l.imgSrc!==this.props.imgSrc&&this.drawImage()},i.render=function(){var l=this;return Yh.createElement("div",{className:this.props.className,style:Jr({display:"block",background:this.props.backgroundColor,touchAction:"none",width:this.props.canvasWidth,height:this.props.canvasHeight},this.props.style),ref:function(f){f&&(l.canvasContainer=f)}},s0.map(function(u){var f=u==="interface";return Yh.createElement("canvas",{key:u,ref:function(p){p&&(l.canvas[u]=p,l.ctx[u]=p.getContext("2d"),f&&(l.coordSystem.canvas=p))},style:Jr({},FM),onMouseDown:f?l.handleDrawStart:void 0,onMouseMove:f?l.handleDrawMove:void 0,onMouseUp:f?l.handleDrawEnd:void 0,onMouseOut:f?l.handleDrawEnd:void 0,onTouchStart:f?l.handleDrawStart:void 0,onTouchMove:f?l.handleDrawMove:void 0,onTouchEnd:f?l.handleDrawEnd:void 0,onTouchCancel:f?l.handleDrawEnd:void 0})}))},e})(D.PureComponent);Ne(wa,"defaultProps",{onChange:null,loadTimeOffset:5,lazyRadius:12,brushRadius:10,brushColor:"#444",catenaryColor:"#0a0302",gridColor:"rgba(150,150,150,0.17)",backgroundColor:"#FFF",hideGrid:!1,canvasWidth:400,canvasHeight:400,disabled:!1,imgSrc:"",saveData:"",immediateLoading:!1,hideInterface:!1,gridSizeX:25,gridSizeY:25,gridLineWidth:.5,hideGridX:!1,hideGridY:!1,enablePanAndZoom:!1,mouseZoomFactor:.01,zoomExtents:{min:.33,max:3},clampLinesToDocument:!1});wa.propTypes={};function WM({roomId:s,players:e}){const[i,a]=D.useState({}),[l,u]=D.useState(!0);return D.useEffect(()=>{(async()=>{const d=await su(Ye(Fe,`rooms/${s}/books`));d.exists()&&a(d.val()),u(!1)})()},[s]),l?R.jsx("div",{className:"min-h-screen flex items-center justify-center",children:R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),R.jsx("div",{className:"text-blue-400 font-bold tracking-[0.3em] animate-pulse",children:"LOADING GALLERY..."})]})}):R.jsx("div",{className:"min-h-screen p-8 pb-32",children:R.jsxs("div",{className:"max-w-5xl mx-auto",children:[R.jsxs("div",{className:"text-center mb-20 relative",children:[R.jsx("div",{className:"absolute top-1/2 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/20 to-transparent"}),R.jsx("h1",{className:"relative inline-block px-8 bg-black/80 backdrop-blur-xl text-5xl font-black tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-500",children:"GALLERY"}),R.jsxs("p",{className:"mt-4 text-xs font-mono text-gray-500 tracking-[0.5em] uppercase",children:["Room: ",s]})]}),R.jsx("div",{className:"space-y-24",children:e.map(f=>{const d=i[f.id];if(!d)return null;const p=Object.entries(d).sort((m,v)=>m[0]-v[0]).map(([m,v])=>v);return R.jsxs("div",{className:"relative",children:[R.jsx("div",{className:"flex items-center justify-center mb-12",children:R.jsx("div",{className:"glass-panel px-8 py-3 rounded-full flex items-center gap-4 border-green-500/30",children:R.jsx("span",{className:"text-xl font-bold tracking-widest uppercase text-green-100",children:f.name})})}),R.jsx("div",{className:"absolute left-1/2 top-16 bottom-0 w-px bg-gradient-to-b from-green-500/0 via-green-500/30 to-green-500/0 transform -translate-x-1/2"}),R.jsx("div",{className:"space-y-16 relative z-10",children:p.map((m,v)=>R.jsx("div",{className:"flex flex-col items-center",children:R.jsxs("div",{className:"relative group transition-transform duration-500 hover:scale-[1.02]",children:[R.jsxs("div",{className:"absolute -left-12 top-1/2 transform -translate-y-1/2 -rotate-90 text-xs font-mono text-gray-600 tracking-widest opacity-50",children:["ROUND ",v]}),m.type==="PROMPT"&&R.jsx("div",{className:"glass-panel p-8 rounded-2xl min-w-[320px] max-w-md text-center border-blue-500/20 shadow-[0_0_30px_-10px_rgba(59,130,246,0.1)]",children:R.jsxs("div",{className:"text-2xl font-bold text-white leading-tight",children:['"',m.value,'"']})}),m.type==="DRAWING"&&R.jsx("div",{className:"glass-panel p-2 rounded-2xl border-purple-500/20 shadow-[0_0_30px_-10px_rgba(168,85,247,0.1)]",children:R.jsx("div",{className:"bg-white rounded-xl overflow-hidden relative",children:R.jsx(wa,{disabled:!0,hideGrid:!0,saveData:m.value,canvasWidth:350,canvasHeight:350,immediateLoading:!0})})}),m.type==="SKIPPED"&&R.jsxs("div",{className:"bg-red-900/10 backdrop-blur-sm border border-red-500/30 p-8 rounded-2xl min-w-[320px] flex flex-col items-center text-center",children:[R.jsx("div",{className:"text-red-400 font-bold tracking-widest uppercase mb-1",children:"Disconnected"}),R.jsxs("div",{className:"text-red-100 font-mono text-sm bg-red-900/40 p-2 rounded mt-2",children:['Passed: "',m.value.toString().substring(0,20),'..."']})]}),R.jsx("div",{className:"absolute -bottom-8 left-0 right-0 text-center opacity-0 group-hover:opacity-100 transition-opacity",children:R.jsxs("span",{className:"text-[10px] bg-black/50 px-3 py-1 rounded-full border border-white/10 text-gray-400 font-mono",children:["AUTHOR: ",e.find(_=>_.id===m.author)?.name||"UNKNOWN"]})})]})},v))})]},f.id)})}),R.jsx("div",{className:"text-center mt-32",children:R.jsx("button",{onClick:()=>window.location.href="/",className:"glass-button-primary px-12 py-6 rounded-full text-lg shadow-[0_0_50px_-10px_rgba(34,197,94,0.3)] hover:shadow-[0_0_80px_-10px_rgba(34,197,94,0.5)] transition-all duration-500",children:"PLAY AGAIN"})})]})})}function XM({roomId:s,players:e,currentUser:i,settings:a}){const[l,u]=D.useState(0),[f,d]=D.useState(""),[p,m]=D.useState(!1),[v,_]=D.useState(null),[b,T]=D.useState({}),[x,I]=D.useState(null),[H,j]=D.useState(!1),B=D.useRef(null),q=e[0]?.id===i.uid,ne=a.startMode==="DRAW"?l%2===0:l%2!==0;D.useEffect(()=>{const me=Ye(Fe,`rooms/${s}/round`),Se=vs(me,M=>{const V=M.val();V!==null&&(u(V),m(!1),d(""),_(null),q&&a.timerMode==="DYNAMIC"&&Di(Ye(Fe,`rooms/${s}`),{timer:a.baseTime||60}))});return()=>Se()},[s,q,a.timerMode,a.baseTime]),D.useEffect(()=>{if(a.timerMode!=="DYNAMIC")return;const me=Ye(Fe,`rooms/${s}/timer`);let Se=null;const M=vs(me,V=>{const W=V.val();Se!==null&&Se-W>2&&(j(!0),setTimeout(()=>j(!1),600)),Se=W,I(W)});return()=>M()},[s,a.timerMode]),D.useEffect(()=>{if(!q||a.timerMode!=="DYNAMIC")return;const me=setInterval(()=>{I(Se=>{const M=(Se||a.baseTime)-1;return Di(Ye(Fe,`rooms/${s}`),{timer:M}),M<=0?(Di(Ye(Fe),{[`rooms/${s}/round`]:l+1}),a.baseTime):M})},1e3);return()=>clearInterval(me)},[q,a.timerMode,l,s]),D.useEffect(()=>{const me=Ye(Fe,`rooms/${s}/books`);let Se=0;const M=vs(me,V=>{const W=V.val()||{};if(T(W),q){let pe=0,Ce=!0;e.forEach(S=>{W[S.id]&&W[S.id][l]?pe++:Ce=!1}),Ce?setTimeout(()=>{Di(Ye(Fe),{[`rooms/${s}/round`]:l+1})},1e3):a.timerMode==="DYNAMIC"&&pe>Se&&su(Ye(Fe,`rooms/${s}/timer`)).then(S=>{const z=S.val();if(z>10){const F=Math.floor(z*.9),X=Math.max(F,10);Di(Ye(Fe,`rooms/${s}`),{timer:X})}}),Se=pe}});return()=>M()},[s,q,l,e,a.timerMode]),D.useEffect(()=>{if(l===0)return;const Se=(e.findIndex(W=>W.id===i.uid)+l)%e.length,M=e[Se].id,V=l-1;su(Ye(Fe,`rooms/${s}/books/${M}/${V}`)).then(W=>{W.exists()&&_(W.val())})},[l,e,i,s]);const le=async()=>{if(!i)return;const Se=(e.findIndex(W=>W.id===i.uid)+l)%e.length,M=e[Se].id,V=Ye(Fe,`rooms/${s}/books/${M}/${l}`);if(!ne)await Ea(V,{type:"PROMPT",value:f||"...",author:i.uid});else{const W=B.current.getSaveData();await Ea(V,{type:"DRAWING",value:W,author:i.uid})}m(!0)};D.useEffect(()=>{if(!q)return;const me=setInterval(()=>{const Se=e.filter(M=>{const W=(e.findIndex(S=>S.id===M.id)+l)%e.length,pe=e[W].id;return!(b[pe]&&b[pe][l])});Se.forEach(M=>{if(M.presence?.state==="offline"){const V=M.presence.last_changed||Date.now(),W=Se.length===1?5e3:6e4;if(Date.now()-V>W){const Ce=(e.findIndex(z=>z.id===M.id)+l)%e.length,S=e[Ce].id;(!b[S]||!b[S][l])&&su(Ye(Fe,`rooms/${s}/books/${S}/${l-1}`)).then(z=>{const F=z.val();let X="DISCONNECTED";F&&(X=F.value),Ea(Ye(Fe,`rooms/${s}/books/${S}/${l}`),{type:"SKIPPED",value:X,author:M.id})})}}})},1e3);return()=>clearInterval(me)},[q,e,l,s,b]);const ve=v?.type==="SKIPPED",G=ve?v.value:v?.value||"...",re=e.find(me=>me.id===v?.author)?.name||"Unknown",je=(e.findIndex(me=>me.id===i.uid)+l)%e.length,nt=e[je],it=a.ghostMode?"???":nt?.name;if(l>=e.length)return R.jsx(WM,{roomId:s,players:e});if(p)return R.jsx("div",{className:"min-h-screen flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"w-16 h-16 border-4 border-green-500 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),R.jsx("h2",{className:"text-2xl font-bold tracking-widest text-green-500",children:"WAITING FOR PLAYERS..."}),a.timerMode==="DYNAMIC"&&x!==null&&R.jsxs("div",{className:"mt-4 text-4xl font-mono text-white opacity-50",children:[x,"s"]})]})});const ct=()=>a.timerMode==="DYNAMIC"&&x!==null&&R.jsxs("div",{className:`absolute top-6 right-6 text-3xl font-mono font-bold transition-transform ${x<10?"text-red-500 animate-pulse":"text-gray-500"} ${H?"animate-penalty":""}`,children:[x,"s"]});return l===0?R.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[R.jsx(ct,{}),R.jsxs("div",{className:"glass-panel p-8 rounded-2xl w-full max-w-lg text-center",children:[R.jsxs("h2",{className:"text-sm font-bold text-gray-400 mb-6 tracking-[0.2em] uppercase",children:["Round 0: ",a.startMode==="DRAW"?"Draw Anything":"Write a Prompt"]}),a.startMode==="DRAW"?R.jsxs("div",{className:"flex flex-col items-center",children:[R.jsx("div",{className:"bg-white rounded-lg overflow-hidden mb-4",children:R.jsx(wa,{ref:B,brushRadius:3,lazyRadius:0,canvasWidth:350,canvasHeight:350})}),R.jsx("button",{onClick:()=>B.current.clear(),className:"glass-button-danger w-full py-2 mb-2 rounded-xl",children:"CLEAR"})]}):R.jsx("input",{type:"text",className:"glass-input w-full text-2xl font-bold p-6 text-center rounded-xl mb-6",placeholder:"Start a story...",value:f,onChange:me=>d(me.target.value),autoFocus:!0}),R.jsx("button",{onClick:le,className:"glass-button-primary w-full py-4 rounded-xl text-lg",children:"DONE"})]})]}):ne?R.jsxs("div",{className:"min-h-screen flex flex-col items-center py-6",children:[R.jsx(ct,{}),R.jsxs("h2",{className:"text-sm font-bold text-gray-400 mb-4 tracking-[0.2em] uppercase",children:["Draw for ",it]}),ve&&R.jsx("div",{className:"text-red-400 text-xs font-bold mb-2 tracking-widest",children:" CONNECTION INTERRUPTED - PROMPT PASSED"}),R.jsx("div",{className:"glass-panel px-8 py-4 rounded-full mb-6 border-green-500/30 bg-green-500/10 max-w-md text-center",children:R.jsx("p",{className:"text-xl font-bold text-green-300 uppercase tracking-wide",children:G})}),R.jsx("div",{className:"glass-panel p-2 rounded-xl mb-6",children:R.jsx("div",{className:"bg-white rounded-lg overflow-hidden",children:R.jsx(wa,{ref:B,brushRadius:3,lazyRadius:0,canvasWidth:350,canvasHeight:350})})}),R.jsxs("div",{className:"flex gap-4 w-full max-w-[350px]",children:[R.jsx("button",{onClick:()=>B.current.clear(),className:"glass-button-danger flex-1 py-4 rounded-xl font-bold",children:"CLEAR"}),R.jsx("button",{onClick:le,className:"glass-button-primary flex-1 py-4 rounded-xl font-bold",children:"DONE"})]})]}):R.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4",children:[R.jsx(ct,{}),R.jsxs("h2",{className:"text-sm font-bold text-gray-400 mb-4 tracking-[0.2em] uppercase",children:["Guess what ",a.ghostMode?"???":re," drew"]}),ve&&R.jsx("div",{className:"bg-red-500/20 border border-red-500/50 text-red-200 p-4 rounded-lg mb-4 max-w-md text-center text-xs font-bold",children:"PLAYER DISCONNECTED: DISPLAYING PREVIOUS DATA"}),R.jsx("div",{className:"glass-panel p-2 rounded-xl mb-6 overflow-hidden",children:R.jsx("div",{className:"bg-white rounded-lg overflow-hidden flex items-center justify-center h-[350px] w-[350px]",children:v?.type==="DRAWING"?R.jsx(wa,{disabled:!0,hideGrid:!0,saveData:v.value,canvasWidth:350,canvasHeight:350}):R.jsx("div",{className:"p-10 text-3xl font-black text-black text-center",children:G})})}),R.jsxs("div",{className:"glass-panel p-6 rounded-xl w-full max-w-md",children:[R.jsx("input",{type:"text",className:"glass-input w-full text-xl font-bold p-4 text-center rounded-lg mb-4",placeholder:"What is this?",value:f,onChange:me=>d(me.target.value),autoFocus:!0}),R.jsx("button",{onClick:le,className:"glass-button-primary w-full py-3 rounded-lg",children:"SUBMIT"})]})]})}function QM(s,e){D.useEffect(()=>{if(!s||!e)return;const i=Ye(Fe,`rooms/${s}/players/${e}/presence`),a=Ye(Fe,".info/connected"),l=vs(a,u=>{u.val()===!0&&(Ea(i,{state:"online",last_changed:Ay()}),GN(i).set({state:"offline",last_changed:Ay()}))});return()=>l()},[s,e])}const a0={timerMode:"MANUAL",baseTime:60,startMode:"WRITE",ghostMode:!0};function KM(){const{roomId:s}=rw(),[e,i]=D.useState([]),[a,l]=D.useState("LOBBY"),[u,f]=D.useState(null),[d,p]=D.useState(!0),[m,v]=D.useState(""),[_,b]=D.useState(!0),[T,x]=D.useState(a0),[I,H]=D.useState(!1);QM(s,hn.currentUser?.uid),D.useEffect(()=>{const G=GO(hn,re=>{re?f(re):_d(hn)});return()=>G()},[]),D.useEffect(()=>{const G=Ye(Fe,`rooms/${s}/players`),re=vs(G,ct=>{const me=ct.val();if(me){const Se=Object.values(me);if(Se.sort((M,V)=>(M.joinedAt||0)-(V.joinedAt||0)),i(Se),hn.currentUser){const M=Se.some(V=>V.id===hn.currentUser.uid);p(!M)}}else i([]),p(!0)}),Ie=Ye(Fe,`rooms/${s}/status`),je=vs(Ie,ct=>{const me=ct.val();me&&l(me)}),nt=Ye(Fe,`rooms/${s}/settings`),it=vs(nt,ct=>{ct.exists()&&x(me=>({...a0,...ct.val()}))});return()=>{re(),je(),it()}},[s,u]);const j=async()=>{if(!m.trim())return alert("Name required!");let G=hn.currentUser?.uid;G||(G=(await _d(hn)).user.uid);const re=Ye(Fe,`rooms/${s}/players/${G}`);await Ea(re,{name:m,id:G,avatar:m.charAt(0).toUpperCase(),joinedAt:Date.now()})},B=e.length>0&&hn.currentUser&&e[0].id===hn.currentUser.uid,q=(G,re)=>{B&&Di(Ye(Fe,`rooms/${s}/settings`),{[G]:re})},ne=G=>{confirm("Kick this player?")&&YN(Ye(Fe,`rooms/${s}/players/${G}`))},le=async()=>{if(e.length<2)return alert("Need at least 2 players!");const re=[...e].sort(()=>Math.random()-.5).map(nt=>nt.id),Ie={};e.forEach(nt=>{Ie[nt.id]=!0});const je={};je[`rooms/${s}/status`]="PLAYING",je[`rooms/${s}/round`]=0,je[`rooms/${s}/playerOrder`]=re,je[`rooms/${s}/books`]=Ie,T.timerMode==="DYNAMIC"&&(je[`rooms/${s}/timer`]=T.baseTime||60),await Di(Ye(Fe),je)},ve=()=>{navigator.clipboard.writeText(window.location.href),H(!0),setTimeout(()=>H(!1),2e3)};return d?R.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:R.jsxs("div",{className:"glass-panel p-8 rounded-2xl max-w-md w-full text-center",children:[R.jsx("h2",{className:"text-sm font-bold text-gray-400 mb-2 uppercase tracking-widest",children:"Join Room"}),R.jsx("h3",{className:"text-3xl font-mono text-green-400 mb-8",children:s}),R.jsx("input",{type:"text",value:m,onChange:G=>v(G.target.value),className:"glass-input w-full p-4 mb-4 text-center text-lg font-bold rounded-xl",placeholder:"ENTER NICKNAME"}),R.jsx("button",{onClick:j,className:"glass-button-primary w-full py-4 rounded-xl font-bold",children:"JOIN GAME"})]})}):a==="PLAYING"?R.jsx(XM,{roomId:s,players:e,currentUser:u,settings:T}):R.jsx("div",{className:"min-h-screen p-8 flex flex-col items-center",children:R.jsxs("div",{className:"max-w-5xl w-full",children:[R.jsxs("div",{className:"text-center mb-12",children:[R.jsx("div",{className:"inline-block glass-panel px-6 py-2 rounded-full mb-4",children:R.jsx("span",{className:"text-xs font-bold text-gray-500 tracking-[0.3em]",children:"LOBBY"})}),R.jsxs("div",{className:"relative inline-block group cursor-pointer",onClick:ve,children:[R.jsx("h1",{className:"text-7xl font-black text-white tracking-tighter drop-shadow-2xl transition-all group-hover:text-green-400",children:s}),R.jsx("div",{className:"absolute top-0 -right-12 h-full flex items-center opacity-0 transform -translate-x-4 transition-all duration-300 group-hover:opacity-100 group-hover:translate-x-0",children:R.jsx("div",{className:"bg-white/10 p-2 rounded-lg backdrop-blur-md border border-white/20",children:I?R.jsx("span",{className:"text-green-400 font-bold text-xs",children:"COPIED"}):R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})}),R.jsx("div",{className:"text-xs text-gray-500 mt-2 opacity-0 group-hover:opacity-100 transition-opacity",children:"Click code to copy link"})]})]}),R.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:e.map(G=>R.jsxs("div",{className:`glass-panel p-6 rounded-2xl flex flex-col items-center transition-all relative group ${G.presence?.state==="offline"?"opacity-50 border-red-500/30":"hover:bg-white/5"}`,children:[B&&G.id!==u.uid&&R.jsx("button",{onClick:re=>{re.stopPropagation(),ne(G.id)},className:"absolute top-2 right-2 w-6 h-6 bg-red-500/20 hover:bg-red-500 text-red-500 hover:text-white rounded-full flex items-center justify-center transition-colors opacity-0 group-hover:opacity-100",title:"Kick Player",children:""}),R.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center text-3xl font-black mb-4 shadow-inner ${G.presence?.state==="offline"?"bg-red-500/20 text-red-400":"bg-gradient-to-br from-blue-500/20 to-purple-500/20 text-blue-300"}`,children:G.avatar}),R.jsx("h3",{className:"font-bold text-lg tracking-wide",children:G.name}),G.presence?.state==="offline"&&R.jsx("span",{className:"text-xs text-red-500 font-bold mt-2 px-2 py-1 bg-red-500/10 rounded",children:"DISCONNECTED"}),G.id===hn.currentUser?.uid&&R.jsx("span",{className:"text-xs text-green-400 mt-2 font-mono",children:"[YOU]"}),e[0].id===G.id&&R.jsx("span",{className:"text-xs text-yellow-500 mt-2 font-mono",children:"[HOST]"})]},G.id))}),R.jsxs("div",{className:"glass-panel rounded-2xl mb-12 max-w-3xl mx-auto text-left relative overflow-hidden transition-all duration-300",children:[R.jsxs("div",{onClick:()=>b(!_),className:"p-6 flex justify-between items-center cursor-pointer hover:bg-white/5",children:[R.jsxs("h3",{className:"text-lg font-bold text-white",children:["Game Settings ",B?"":"(View Only)"]}),R.jsx("span",{className:`text-gray-400 transition-transform duration-300 ${_?"rotate-180":""}`,children:""})]}),R.jsx("div",{className:`px-6 pb-6 transition-all duration-300 overflow-hidden ${_?"max-h-[500px] opacity-100":"max-h-0 opacity-0"}`,children:R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 pt-4 border-t border-white/10",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs text-gray-400 font-bold mb-3 uppercase",children:"Timer Mode"}),R.jsxs("div",{className:"flex flex-col gap-2",children:[["MANUAL","DYNAMIC"].map(G=>R.jsx("button",{disabled:!B,onClick:()=>q("timerMode",G),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border ${T.timerMode===G?"bg-green-500/20 border-green-500 text-green-300":"bg-white/5 border-white/5 text-gray-400 hover:bg-white/10"}`,children:G==="MANUAL"?"Manual (No Limit)":"Dynamic Speed"},G)),T.timerMode==="DYNAMIC"&&R.jsxs("div",{className:"mt-2",children:[R.jsx("label",{className:"text-[10px] text-gray-500 uppercase font-bold",children:"Base Seconds"}),R.jsx("input",{type:"number",disabled:!B,value:T.baseTime||60,onChange:G=>q("baseTime",parseInt(G.target.value)||60),className:"glass-input w-full p-2 text-center font-bold text-sm rounded mt-1"})]})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs text-gray-400 font-bold mb-3 uppercase",children:"First Round"}),R.jsxs("div",{className:"flex flex-col gap-2",children:[R.jsx("button",{disabled:!B,onClick:()=>q("startMode","WRITE"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border ${T.startMode==="WRITE"?"bg-blue-500/20 border-blue-500 text-blue-300":"bg-white/5 border-white/5 text-gray-400 hover:bg-white/10"}`,children:"Write a Prompt"}),R.jsx("button",{disabled:!B,onClick:()=>q("startMode","DRAW"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all border ${T.startMode==="DRAW"?"bg-purple-500/20 border-purple-500 text-purple-300":"bg-white/5 border-white/5 text-gray-400 hover:bg-white/10"}`,children:"Draw Anything"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs text-gray-400 font-bold mb-3 uppercase",children:"Anonymity"}),R.jsx("button",{disabled:!B,onClick:()=>q("ghostMode",!T.ghostMode),className:`w-full py-3 rounded-lg text-sm font-bold transition-all border flex items-center justify-center gap-2 ${T.ghostMode?"bg-gray-700/50 border-gray-500 text-gray-200":"bg-white/5 border-white/5 text-gray-500 hover:bg-white/10"}`,children:T.ghostMode?"Names Hidden":"Names Visible"})]})]})})]}),R.jsx("div",{className:"text-center pb-20",children:B?R.jsx("button",{onClick:le,className:"btn-satisfying px-20 py-8 text-2xl shadow-2xl",children:"START GAME"}):R.jsxs("div",{className:"flex flex-col items-center gap-2 opacity-50 animate-pulse",children:[R.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),R.jsx("span",{className:"text-xs tracking-widest uppercase",children:"Waiting for Host..."})]})})]})})}function $M(){return R.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-black text-white selection:bg-green-500 selection:text-black",children:[R.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[R.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-green-500/20 rounded-full mix-blend-screen filter blur-[100px] animate-blob"}),R.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-blue-600/20 rounded-full mix-blend-screen filter blur-[100px] animate-blob animation-delay-2000"}),R.jsx("div",{className:"absolute -bottom-32 left-1/3 w-96 h-96 bg-purple-600/10 rounded-full mix-blend-screen filter blur-[100px] animate-blob animation-delay-4000"}),R.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"})]}),R.jsx("div",{className:"relative z-10",children:R.jsxs(Ew,{children:[R.jsx(Wh,{path:"/",element:R.jsx(aM,{})}),R.jsx(Wh,{path:"/room/:roomId",element:R.jsx(KM,{})})]})})]})}CT.createRoot(document.getElementById("root")).render(R.jsx(Yh.StrictMode,{children:R.jsx(Yw,{children:R.jsx($M,{})})}));
